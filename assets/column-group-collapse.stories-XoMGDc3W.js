import{R as e}from"./iframe-VjYuGMsY.js";import{D as E}from"./data-editor-all-C18pEU2z.js";import{B as G,D,P as S,M as H,u as M,d as b}from"./utils-DA5KvXiW.js";import{C as k}from"./image-window-loader-B8cvJCVw.js";import{S as A}from"./story-utils-Dv2OgOS1.js";import"./preload-helper-C1FmrZbK.js";import"./scrolling-data-grid-Dlt80JY1.js";import"./marked.esm-CZueurBS.js";import"./index-D_kXk1yT.js";import"./useResizeDetector-1xUx3BY8.js";const I={title:"Glide-Data-Grid/DataEditor Demos",decorators:[t=>e.createElement(A,null,e.createElement(G,{title:"Group collapse",description:e.createElement(e.Fragment,null,e.createElement(D,null,"Through clever usage of ",e.createElement(S,null,"onGroupHeaderClicked")," you can implement group collapsing. This is a very basic version however it is possible to go much further."),e.createElement(H,null,"Cells under a certain size will not attempt to render to save some frames."))},e.createElement(t,null)))]};function w(t){const[s,l]=e.useState([]),d=e.useCallback((r,o)=>{const n=t[r].group??"";l(u=>{const p=Array.isArray(n)?n[0]??"":n;return u.includes(p)?u.filter(h=>h!==p):[...u,p]}),o.preventDefault()},[t]),[g,C]=e.useState(k.empty()),f=e.useCallback((r,o)=>{o!=="group"&&C(r)},[]);return{columns:e.useMemo(()=>t.map(r=>{const o=Array.isArray(r.group)?r.group[0]??"":r.group??"";return s.includes(o)?{...r,width:8,hasMenu:!0}:{...r,hasMenu:!0}}),[s,t]),onGroupHeaderClicked:d,selectedColumns:g,onSelectedColumnsChange:f}}const a=()=>{const{cols:t,getCellContent:s}=M(100,!0,!0),l=w(t);return e.createElement(E,{...b,...l,getCellContent:s,groupHeaderHeight:24,rows:1e3,rowMarkers:"both"})};var m,c,i;a.parameters={...a.parameters,docs:{...(m=a.parameters)==null?void 0:m.docs,source:{originalSource:`() => {
  const {
    cols,
    getCellContent
  } = useMockDataGenerator(100, true, true);
  const groupHeaderArgs = useCollapsableColumnGroups(cols);
  return <DataEditor {...defaultProps} {...groupHeaderArgs} getCellContent={getCellContent} groupHeaderHeight={24} rows={1000} rowMarkers="both" />;
}`,...(i=(c=a.parameters)==null?void 0:c.docs)==null?void 0:i.source}}};const N=["ColumnGroupCollapse"];export{a as ColumnGroupCollapse,N as __namedExportsOrder,I as default};
