const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./number-overlay-editor-CDNh_2Xf.js","./iframe-VjYuGMsY.js","./preload-helper-C1FmrZbK.js","./marked.esm-CZueurBS.js","./number-overlay-editor-DjcVbkae.css"])))=>i.map(i=>d[i]);
var Ys=Object.defineProperty;var Gs=(e,t,n)=>t in e?Ys(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Q=(e,t,n)=>Gs(e,typeof t!="symbol"?t+"":t,n);import{g as Gt,c as sn,r as b,R as un}from"./iframe-VjYuGMsY.js";import{s as Mt,k as Vs}from"./marked.esm-CZueurBS.js";import{_ as Js}from"./preload-helper-C1FmrZbK.js";var Zs=Object.prototype,Qs=Zs.hasOwnProperty;function el(e,t){return e!=null&&Qs.call(e,t)}var tl=el,nl=Array.isArray,bt=nl;const uw=Gt(bt);var rl=typeof sn=="object"&&sn&&sn.Object===Object&&sn,Pa=rl,il=Pa,ol=typeof self=="object"&&self&&self.Object===Object&&self,al=il||ol||Function("return this")(),wt=al,sl=wt,ll=sl.Symbol,Ir=ll,po=Ir,Ma=Object.prototype,cl=Ma.hasOwnProperty,ul=Ma.toString,xn=po?po.toStringTag:void 0;function dl(e){var t=cl.call(e,xn),n=e[xn];try{e[xn]=void 0;var i=!0}catch{}var r=ul.call(e);return i&&(t?e[xn]=n:delete e[xn]),r}var fl=dl,hl=Object.prototype,pl=hl.toString;function gl(e){return pl.call(e)}var vl=gl,go=Ir,ml=fl,yl=vl,bl="[object Null]",wl="[object Undefined]",vo=go?go.toStringTag:void 0;function Sl(e){return e==null?e===void 0?wl:bl:vo&&vo in Object(e)?ml(e):yl(e)}var jn=Sl;function _l(e){return e!=null&&typeof e=="object"}var Xn=_l,Cl=jn,Il=Xn,El="[object Symbol]";function Pl(e){return typeof e=="symbol"||Il(e)&&Cl(e)==El}var Er=Pl,Ml=bt,xl=Er,kl=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Al=/^\w*$/;function Tl(e,t){if(Ml(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||xl(e)?!0:Al.test(e)||!kl.test(e)||t!=null&&e in Object(t)}var xi=Tl;function $l(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Vt=$l,Rl=jn,Ol=Vt,Dl="[object AsyncFunction]",Fl="[object Function]",Hl="[object GeneratorFunction]",Ll="[object Proxy]";function Bl(e){if(!Ol(e))return!1;var t=Rl(e);return t==Fl||t==Hl||t==Dl||t==Ll}var xa=Bl,Wl=wt,zl=Wl["__core-js_shared__"],Nl=zl,Yr=Nl,mo=function(){var e=/[^.]+$/.exec(Yr&&Yr.keys&&Yr.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function jl(e){return!!mo&&mo in e}var Xl=jl,Ul=Function.prototype,ql=Ul.toString;function Kl(e){if(e!=null){try{return ql.call(e)}catch{}try{return e+""}catch{}}return""}var ka=Kl,Yl=xa,Gl=Xl,Vl=Vt,Jl=ka,Zl=/[\\^$.*+?()[\]{}|]/g,Ql=/^\[object .+?Constructor\]$/,ec=Function.prototype,tc=Object.prototype,nc=ec.toString,rc=tc.hasOwnProperty,ic=RegExp("^"+nc.call(rc).replace(Zl,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function oc(e){if(!Vl(e)||Gl(e))return!1;var t=Yl(e)?ic:Ql;return t.test(Jl(e))}var ac=oc;function sc(e,t){return e==null?void 0:e[t]}var lc=sc,cc=ac,uc=lc;function dc(e,t){var n=uc(e,t);return cc(n)?n:void 0}var Jt=dc,fc=Jt,hc=fc(Object,"create"),Pr=hc,yo=Pr;function pc(){this.__data__=yo?yo(null):{},this.size=0}var gc=pc;function vc(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var mc=vc,yc=Pr,bc="__lodash_hash_undefined__",wc=Object.prototype,Sc=wc.hasOwnProperty;function _c(e){var t=this.__data__;if(yc){var n=t[e];return n===bc?void 0:n}return Sc.call(t,e)?t[e]:void 0}var Cc=_c,Ic=Pr,Ec=Object.prototype,Pc=Ec.hasOwnProperty;function Mc(e){var t=this.__data__;return Ic?t[e]!==void 0:Pc.call(t,e)}var xc=Mc,kc=Pr,Ac="__lodash_hash_undefined__";function Tc(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=kc&&t===void 0?Ac:t,this}var $c=Tc,Rc=gc,Oc=mc,Dc=Cc,Fc=xc,Hc=$c;function gn(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}gn.prototype.clear=Rc;gn.prototype.delete=Oc;gn.prototype.get=Dc;gn.prototype.has=Fc;gn.prototype.set=Hc;var Lc=gn;function Bc(){this.__data__=[],this.size=0}var Wc=Bc;function zc(e,t){return e===t||e!==e&&t!==t}var ki=zc,Nc=ki;function jc(e,t){for(var n=e.length;n--;)if(Nc(e[n][0],t))return n;return-1}var Mr=jc,Xc=Mr,Uc=Array.prototype,qc=Uc.splice;function Kc(e){var t=this.__data__,n=Xc(t,e);if(n<0)return!1;var i=t.length-1;return n==i?t.pop():qc.call(t,n,1),--this.size,!0}var Yc=Kc,Gc=Mr;function Vc(e){var t=this.__data__,n=Gc(t,e);return n<0?void 0:t[n][1]}var Jc=Vc,Zc=Mr;function Qc(e){return Zc(this.__data__,e)>-1}var eu=Qc,tu=Mr;function nu(e,t){var n=this.__data__,i=tu(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}var ru=nu,iu=Wc,ou=Yc,au=Jc,su=eu,lu=ru;function vn(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}vn.prototype.clear=iu;vn.prototype.delete=ou;vn.prototype.get=au;vn.prototype.has=su;vn.prototype.set=lu;var xr=vn,cu=Jt,uu=wt,du=cu(uu,"Map"),Ai=du,bo=Lc,fu=xr,hu=Ai;function pu(){this.size=0,this.__data__={hash:new bo,map:new(hu||fu),string:new bo}}var gu=pu;function vu(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var mu=vu,yu=mu;function bu(e,t){var n=e.__data__;return yu(t)?n[typeof t=="string"?"string":"hash"]:n.map}var kr=bu,wu=kr;function Su(e){var t=wu(this,e).delete(e);return this.size-=t?1:0,t}var _u=Su,Cu=kr;function Iu(e){return Cu(this,e).get(e)}var Eu=Iu,Pu=kr;function Mu(e){return Pu(this,e).has(e)}var xu=Mu,ku=kr;function Au(e,t){var n=ku(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}var Tu=Au,$u=gu,Ru=_u,Ou=Eu,Du=xu,Fu=Tu;function mn(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}mn.prototype.clear=$u;mn.prototype.delete=Ru;mn.prototype.get=Ou;mn.prototype.has=Du;mn.prototype.set=Fu;var Ti=mn,Aa=Ti,Hu="Expected a function";function $i(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Hu);var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=e.apply(this,i);return n.cache=o.set(r,a)||o,a};return n.cache=new($i.Cache||Aa),n}$i.Cache=Aa;var Lu=$i,Bu=Lu,Wu=500;function zu(e){var t=Bu(e,function(i){return n.size===Wu&&n.clear(),i}),n=t.cache;return t}var Nu=zu,ju=Nu,Xu=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Uu=/\\(\\)?/g,qu=ju(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Xu,function(n,i,r,o){t.push(r?o.replace(Uu,"$1"):i||n)}),t}),Ku=qu;function Yu(e,t){for(var n=-1,i=e==null?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}var Gu=Yu,wo=Ir,Vu=Gu,Ju=bt,Zu=Er,So=wo?wo.prototype:void 0,_o=So?So.toString:void 0;function Ta(e){if(typeof e=="string")return e;if(Ju(e))return Vu(e,Ta)+"";if(Zu(e))return _o?_o.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Qu=Ta,ed=Qu;function td(e){return e==null?"":ed(e)}var nd=td,rd=bt,id=xi,od=Ku,ad=nd;function sd(e,t){return rd(e)?e:id(e,t)?[e]:od(ad(e))}var $a=sd,ld=jn,cd=Xn,ud="[object Arguments]";function dd(e){return cd(e)&&ld(e)==ud}var fd=dd,Co=fd,hd=Xn,Ra=Object.prototype,pd=Ra.hasOwnProperty,gd=Ra.propertyIsEnumerable,vd=Co(function(){return arguments}())?Co:function(e){return hd(e)&&pd.call(e,"callee")&&!gd.call(e,"callee")},Oa=vd,md=9007199254740991,yd=/^(?:0|[1-9]\d*)$/;function bd(e,t){var n=typeof e;return t=t??md,!!t&&(n=="number"||n!="symbol"&&yd.test(e))&&e>-1&&e%1==0&&e<t}var Ri=bd,wd=9007199254740991;function Sd(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=wd}var Oi=Sd,_d=Er;function Cd(e){if(typeof e=="string"||_d(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Ar=Cd,Id=$a,Ed=Oa,Pd=bt,Md=Ri,xd=Oi,kd=Ar;function Ad(e,t,n){t=Id(t,e);for(var i=-1,r=t.length,o=!1;++i<r;){var a=kd(t[i]);if(!(o=e!=null&&n(e,a)))break;e=e[a]}return o||++i!=r?o:(r=e==null?0:e.length,!!r&&xd(r)&&Md(a,r)&&(Pd(e)||Ed(e)))}var Da=Ad,Td=tl,$d=Da;function Rd(e,t){return e!=null&&$d(e,t,Td)}var Od=Rd;const Dd=Gt(Od);function Fa(e="This should not happen"){throw new Error(e)}function Et(e,t="Assertion failed"){if(!e)return Fa(t)}function Di(e,t){return Fa(t??"Hell froze over")}function dw(e,t){try{return e()}catch{return t}}const Io=Object.prototype.hasOwnProperty;function dn(e,t){let n,i;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((i=e.length)===t.length)for(;i--&&dn(e[i],t[i]););return i===-1}if(!n||typeof e=="object"){i=0;for(n in e)if(Io.call(e,n)&&++i&&!Io.call(t,n)||!(n in t)||!dn(e[n],t[n]))return!1;return Object.keys(t).length===i}}return e!==e&&t!==t}const gr=null,Fi=void 0;var ne=(e=>(e.Uri="uri",e.Text="text",e.Image="image",e.RowID="row-id",e.Number="number",e.Bubble="bubble",e.Boolean="boolean",e.Loading="loading",e.Markdown="markdown",e.Drilldown="drilldown",e.Protected="protected",e.Custom="custom",e))(ne||{}),Fd=(e=>(e.HeaderRowID="headerRowID",e.HeaderCode="headerCode",e.HeaderNumber="headerNumber",e.HeaderString="headerString",e.HeaderBoolean="headerBoolean",e.HeaderAudioUri="headerAudioUri",e.HeaderVideoUri="headerVideoUri",e.HeaderEmoji="headerEmoji",e.HeaderImage="headerImage",e.HeaderUri="headerUri",e.HeaderPhone="headerPhone",e.HeaderMarkdown="headerMarkdown",e.HeaderDate="headerDate",e.HeaderTime="headerTime",e.HeaderEmail="headerEmail",e.HeaderReference="headerReference",e.HeaderIfThenElse="headerIfThenElse",e.HeaderSingleValue="headerSingleValue",e.HeaderLookup="headerLookup",e.HeaderTextTemplate="headerTextTemplate",e.HeaderMath="headerMath",e.HeaderRollup="headerRollup",e.HeaderJoinStrings="headerJoinStrings",e.HeaderSplitString="headerSplitString",e.HeaderGeoDistance="headerGeoDistance",e.HeaderArray="headerArray",e.RowOwnerOverlay="rowOwnerOverlay",e.ProtectedColumnOverlay="protectedColumnOverlay",e))(Fd||{}),fi=(e=>(e.Triangle="triangle",e.Dots="dots",e))(fi||{});function fw(e){return"width"in e&&typeof e.width=="number"}async function hw(e){return typeof e=="object"?e:await e()}function Hd(e){return!(e.kind==="loading"||e.kind==="bubble"||e.kind==="row-id"||e.kind==="protected"||e.kind==="drilldown")}function pw(e){return!(e.kind==="loading"||e.kind==="bubble"||e.kind==="row-id"||e.kind==="protected"||e.kind==="drilldown"||e.kind==="boolean"||e.kind==="image"||e.kind==="custom")}function Ha(e){return e.kind==="marker"||e.kind==="new-row"}function Ld(e){if(!Hd(e)||e.kind==="image")return!1;switch(e.kind){case"text":case"number":case"markdown":case"uri":case"custom":case"boolean":return e.readonly!==!0;default:Di(e,"A cell was passed with an invalid kind")}}function gw(e){return Dd(e,"editor")}function Hi(e){return!(e.readonly??!1)}var Wn=(e=>(e.NewRow="new-row",e.Marker="marker",e))(Wn||{});const vr={shape:"square",size:4,offsetX:-2,offsetY:-2,outline:0};function Gr(e){if(e.length===0)return[];const t=[...e],n=[];t.sort(function(i,r){return i[0]-r[0]}),n.push([...t[0]]);for(const i of t.slice(1)){const r=n[n.length-1];r[1]<i[0]?n.push([...i]):r[1]<i[1]&&(r[1]=i[1])}return n}let Eo;const Ze=class Ze{constructor(t){this.items=t}offset(t){if(t===0)return this;const n=this.items.map(i=>[i[0]+t,i[1]+t]);return new Ze(n)}add(t){const n=typeof t=="number"?[t,t+1]:t,i=Gr([...this.items,n]);return new Ze(i)}remove(t){const n=[...this.items],i=typeof t=="number"?t:t[0],r=typeof t=="number"?t+1:t[1];for(const[o,a]of n.entries()){const[s,l]=a;if(s<=r&&i<=l){const c=[];s<i&&c.push([s,i]),r<l&&c.push([r,l]),n.splice(o,1,...c)}}return new Ze(n)}first(){if(this.items.length!==0)return this.items[0][0]}last(){if(this.items.length!==0)return this.items.slice(-1)[0][1]-1}hasIndex(t){for(let n=0;n<this.items.length;n++){const[i,r]=this.items[n];if(t>=i&&t<r)return!0}return!1}hasAll(t){for(let n=t[0];n<t[1];n++)if(!this.hasIndex(n))return!1;return!0}some(t){for(const n of this)if(t(n))return!0;return!1}equals(t){if(t===this)return!0;if(t.items.length!==this.items.length)return!1;for(let n=0;n<this.items.length;n++){const i=t.items[n],r=this.items[n];if(i[0]!==r[0]||i[1]!==r[1])return!1}return!0}toArray(){const t=[];for(const[n,i]of this.items)for(let r=n;r<i;r++)t.push(r);return t}get length(){let t=0;for(const[n,i]of this.items)t+=i-n;return t}*[Symbol.iterator](){for(const[t,n]of this.items)for(let i=t;i<n;i++)yield i}};Q(Ze,"create",t=>new Ze(Gr(t))),Q(Ze,"empty",()=>Eo??(Eo=new Ze([]))),Q(Ze,"fromSingleSelection",t=>Ze.empty().add(t)),Q(Ze,"fromArray",t=>{if(t.length===0)return Ze.empty();const n=t.map(r=>[r,r+1]),i=Gr(n);return new Ze(i)});let hi=Ze;const Bd=Mt("div")({name:"ImageOverlayEditorStyle",class:"i1f2fhaz",propsAsIs:!1});var La={},Tr={},Li={},Vr={},Jr={exports:{}},Zr,Po;function Wd(){if(Po)return Zr;Po=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Zr=e,Zr}var Qr,Mo;function zd(){if(Mo)return Qr;Mo=1;var e=Wd();function t(){}function n(){}return n.resetWarningCache=t,Qr=function(){function i(a,s,l,c,u,d){if(d!==e){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}i.isRequired=i;function r(){return i}var o={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:r,element:i,elementType:i,instanceOf:r,node:i,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:n,resetWarningCache:t};return o.PropTypes=o,o},Qr}var xo;function Nd(){return xo||(xo=1,Jr.exports=zd()()),Jr.exports}var ko;function jd(){return ko||(ko=1,function(e){(function(t,n){n(e,b,Nd())})(sn,function(t,n,i){Object.defineProperty(t,"__esModule",{value:!0}),t.setHasSupportToCaptureOption=f;var r=a(n),o=a(i);function a(v){return v&&v.__esModule?v:{default:v}}var s=Object.assign||function(v){for(var w=1;w<arguments.length;w++){var I=arguments[w];for(var _ in I)Object.prototype.hasOwnProperty.call(I,_)&&(v[_]=I[_])}return v};function l(v,w){var I={};for(var _ in v)w.indexOf(_)>=0||Object.prototype.hasOwnProperty.call(v,_)&&(I[_]=v[_]);return I}function c(v,w){if(!(v instanceof w))throw new TypeError("Cannot call a class as a function")}var u=function(){function v(w,I){for(var _=0;_<I.length;_++){var C=I[_];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(w,C.key,C)}}return function(w,I,_){return I&&v(w.prototype,I),_&&v(w,_),w}}();function d(v,w){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:v}function p(v,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);v.prototype=Object.create(w&&w.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(v,w):v.__proto__=w)}var h=!1;function f(v){h=v}try{addEventListener("test",null,Object.defineProperty({},"capture",{get:function(){f(!0)}}))}catch{}function g(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{capture:!0};return h?v:v.capture}function m(v){if("touches"in v){var w=v.touches[0],I=w.pageX,_=w.pageY;return{x:I,y:_}}var C=v.screenX,A=v.screenY;return{x:C,y:A}}var y=function(v){p(w,v);function w(){var I;c(this,w);for(var _=arguments.length,C=Array(_),A=0;A<_;A++)C[A]=arguments[A];var x=d(this,(I=w.__proto__||Object.getPrototypeOf(w)).call.apply(I,[this].concat(C)));return x._handleSwipeStart=x._handleSwipeStart.bind(x),x._handleSwipeMove=x._handleSwipeMove.bind(x),x._handleSwipeEnd=x._handleSwipeEnd.bind(x),x._onMouseDown=x._onMouseDown.bind(x),x._onMouseMove=x._onMouseMove.bind(x),x._onMouseUp=x._onMouseUp.bind(x),x._setSwiperRef=x._setSwiperRef.bind(x),x}return u(w,[{key:"componentDidMount",value:function(){this.swiper&&this.swiper.addEventListener("touchmove",this._handleSwipeMove,g({capture:!0,passive:!1}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEventListener("touchmove",this._handleSwipeMove,g({capture:!0,passive:!1}))}},{key:"_onMouseDown",value:function(_){this.props.allowMouseEvents&&(this.mouseDown=!0,document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("mousemove",this._onMouseMove),this._handleSwipeStart(_))}},{key:"_onMouseMove",value:function(_){this.mouseDown&&this._handleSwipeMove(_)}},{key:"_onMouseUp",value:function(_){this.mouseDown=!1,document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("mousemove",this._onMouseMove),this._handleSwipeEnd(_)}},{key:"_handleSwipeStart",value:function(_){var C=m(_),A=C.x,x=C.y;this.moveStart={x:A,y:x},this.props.onSwipeStart(_)}},{key:"_handleSwipeMove",value:function(_){if(this.moveStart){var C=m(_),A=C.x,x=C.y,E=A-this.moveStart.x,R=x-this.moveStart.y;this.moving=!0;var T=this.props.onSwipeMove({x:E,y:R},_);T&&_.cancelable&&_.preventDefault(),this.movePosition={deltaX:E,deltaY:R}}}},{key:"_handleSwipeEnd",value:function(_){this.props.onSwipeEnd(_);var C=this.props.tolerance;this.moving&&this.movePosition&&(this.movePosition.deltaX<-C?this.props.onSwipeLeft(1,_):this.movePosition.deltaX>C&&this.props.onSwipeRight(1,_),this.movePosition.deltaY<-C?this.props.onSwipeUp(1,_):this.movePosition.deltaY>C&&this.props.onSwipeDown(1,_)),this.moveStart=null,this.moving=!1,this.movePosition=null}},{key:"_setSwiperRef",value:function(_){this.swiper=_,this.props.innerRef(_)}},{key:"render",value:function(){var _=this.props;_.tagName;var C=_.className,A=_.style,x=_.children;_.allowMouseEvents,_.onSwipeUp,_.onSwipeDown,_.onSwipeLeft,_.onSwipeRight,_.onSwipeStart,_.onSwipeMove,_.onSwipeEnd,_.innerRef,_.tolerance;var E=l(_,["tagName","className","style","children","allowMouseEvents","onSwipeUp","onSwipeDown","onSwipeLeft","onSwipeRight","onSwipeStart","onSwipeMove","onSwipeEnd","innerRef","tolerance"]);return r.default.createElement(this.props.tagName,s({ref:this._setSwiperRef,onMouseDown:this._onMouseDown,onTouchStart:this._handleSwipeStart,onTouchEnd:this._handleSwipeEnd,className:C,style:A},E),x)}}]),w}(n.Component);y.displayName="ReactSwipe",y.propTypes={tagName:o.default.string,className:o.default.string,style:o.default.object,children:o.default.node,allowMouseEvents:o.default.bool,onSwipeUp:o.default.func,onSwipeDown:o.default.func,onSwipeLeft:o.default.func,onSwipeRight:o.default.func,onSwipeStart:o.default.func,onSwipeMove:o.default.func,onSwipeEnd:o.default.func,innerRef:o.default.func,tolerance:o.default.number.isRequired},y.defaultProps={tagName:"div",allowMouseEvents:!1,onSwipeUp:function(){},onSwipeDown:function(){},onSwipeLeft:function(){},onSwipeRight:function(){},onSwipeStart:function(){},onSwipeMove:function(){},onSwipeEnd:function(){},innerRef:function(){},tolerance:0},t.default=y})}(Vr)),Vr}(function(e){(function(t,n){n(e,jd())})(sn,function(t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=r(n);function r(o){return o&&o.__esModule?o:{default:o}}t.default=i.default})})(Li);var Un={},Ba={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var o="",a=0;a<arguments.length;a++){var s=arguments[a];s&&(o=r(o,i(s)))}return o}function i(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var a="";for(var s in o)t.call(o,s)&&o[s]&&(a=r(a,s));return a}function r(o,a){return a?o?o+" "+a:o+a:o}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(Ba);var Xd=Ba.exports;Object.defineProperty(Un,"__esModule",{value:!0});Un.default=void 0;var Ot=Ud(Xd);function Ud(e){return e&&e.__esModule?e:{default:e}}function qd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Kd={ROOT:function(t){return(0,Ot.default)(qd({"carousel-root":!0},t||"",!!t))},CAROUSEL:function(t){return(0,Ot.default)({carousel:!0,"carousel-slider":t})},WRAPPER:function(t,n){return(0,Ot.default)({"thumbs-wrapper":!t,"slider-wrapper":t,"axis-horizontal":n==="horizontal","axis-vertical":n!=="horizontal"})},SLIDER:function(t,n){return(0,Ot.default)({thumbs:!t,slider:t,animated:!n})},ITEM:function(t,n,i){return(0,Ot.default)({thumb:!t,slide:t,selected:n,previous:i})},ARROW_PREV:function(t){return(0,Ot.default)({"control-arrow control-prev":!0,"control-disabled":t})},ARROW_NEXT:function(t){return(0,Ot.default)({"control-arrow control-next":!0,"control-disabled":t})},DOT:function(t){return(0,Ot.default)({dot:!0,selected:t})}};Un.default=Kd;var qn={},$r={};Object.defineProperty($r,"__esModule",{value:!0});$r.outerWidth=void 0;var Yd=function(t){var n=t.offsetWidth,i=getComputedStyle(t);return n+=parseInt(i.marginLeft)+parseInt(i.marginRight),n};$r.outerWidth=Yd;var yn={};Object.defineProperty(yn,"__esModule",{value:!0});yn.default=void 0;var Gd=function(t,n,i){var r=t===0?t:t+n,o=i==="horizontal"?[r,0,0]:[0,r,0],a="translate3d",s="("+o.join(",")+")";return a+s};yn.default=Gd;var Kn={};Object.defineProperty(Kn,"__esModule",{value:!0});Kn.default=void 0;var Vd=function(){return window};Kn.default=Vd;Object.defineProperty(qn,"__esModule",{value:!0});qn.default=void 0;var ut=Qd(b),Xt=Rr(Un),Jd=$r,Ao=Rr(yn),Zd=Rr(Li),sr=Rr(Kn);function Rr(e){return e&&e.__esModule?e:{default:e}}function Wa(){if(typeof WeakMap!="function")return null;var e=new WeakMap;return Wa=function(){return e},e}function Qd(e){if(e&&e.__esModule)return e;if(e===null||Dn(e)!=="object"&&typeof e!="function")return{default:e};var t=Wa();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=i?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}function Dn(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Dn=function(n){return typeof n}:Dn=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Dn(e)}function pi(){return pi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},pi.apply(this,arguments)}function ef(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tf(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function nf(e,t,n){return t&&tf(e.prototype,t),e}function rf(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gi(e,t)}function gi(e,t){return gi=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},gi(e,t)}function of(e){var t=sf();return function(){var i=mr(e),r;if(t){var o=mr(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return af(this,r)}}function af(e,t){return t&&(Dn(t)==="object"||typeof t=="function")?t:Je(e)}function Je(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sf(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function mr(e){return mr=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},mr(e)}function qe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lf=function(t){return t.hasOwnProperty("key")},Bi=function(e){rf(n,e);var t=of(n);function n(i){var r;return ef(this,n),r=t.call(this,i),qe(Je(r),"itemsWrapperRef",void 0),qe(Je(r),"itemsListRef",void 0),qe(Je(r),"thumbsRef",void 0),qe(Je(r),"setItemsWrapperRef",function(o){r.itemsWrapperRef=o}),qe(Je(r),"setItemsListRef",function(o){r.itemsListRef=o}),qe(Je(r),"setThumbsRef",function(o,a){r.thumbsRef||(r.thumbsRef=[]),r.thumbsRef[a]=o}),qe(Je(r),"updateSizes",function(){if(!(!r.props.children||!r.itemsWrapperRef||!r.thumbsRef)){var o=ut.Children.count(r.props.children),a=r.itemsWrapperRef.clientWidth,s=r.props.thumbWidth?r.props.thumbWidth:(0,Jd.outerWidth)(r.thumbsRef[0]),l=Math.floor(a/s),c=l<o,u=c?o-l:0;r.setState(function(d,p){return{itemSize:s,visibleItems:l,firstItem:c?r.getFirstItem(p.selectedItem):0,lastPosition:u,showArrows:c}})}}),qe(Je(r),"handleClickItem",function(o,a,s){if(!lf(s)||s.key==="Enter"){var l=r.props.onSelectItem;typeof l=="function"&&l(o,a)}}),qe(Je(r),"onSwipeStart",function(){r.setState({swiping:!0})}),qe(Je(r),"onSwipeEnd",function(){r.setState({swiping:!1})}),qe(Je(r),"onSwipeMove",function(o){var a=o.x;if(!r.state.itemSize||!r.itemsWrapperRef||!r.state.visibleItems)return!1;var s=0,l=ut.Children.count(r.props.children),c=-(r.state.firstItem*100)/r.state.visibleItems,u=Math.max(l-r.state.visibleItems,0),d=-u*100/r.state.visibleItems;c===s&&a>0&&(a=0),c===d&&a<0&&(a=0);var p=r.itemsWrapperRef.clientWidth,h=c+100/(p/a);return r.itemsListRef&&["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(f){r.itemsListRef.style[f]=(0,Ao.default)(h,"%",r.props.axis)}),!0}),qe(Je(r),"slideRight",function(o){r.moveTo(r.state.firstItem-(typeof o=="number"?o:1))}),qe(Je(r),"slideLeft",function(o){r.moveTo(r.state.firstItem+(typeof o=="number"?o:1))}),qe(Je(r),"moveTo",function(o){o=o<0?0:o,o=o>=r.state.lastPosition?r.state.lastPosition:o,r.setState({firstItem:o})}),r.state={selectedItem:i.selectedItem,swiping:!1,showArrows:!1,firstItem:0,visibleItems:0,lastPosition:0},r}return nf(n,[{key:"componentDidMount",value:function(){this.setupThumbs()}},{key:"componentDidUpdate",value:function(r){this.props.selectedItem!==this.state.selectedItem&&this.setState({selectedItem:this.props.selectedItem,firstItem:this.getFirstItem(this.props.selectedItem)}),this.props.children!==r.children&&this.updateSizes()}},{key:"componentWillUnmount",value:function(){this.destroyThumbs()}},{key:"setupThumbs",value:function(){(0,sr.default)().addEventListener("resize",this.updateSizes),(0,sr.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.updateSizes()}},{key:"destroyThumbs",value:function(){(0,sr.default)().removeEventListener("resize",this.updateSizes),(0,sr.default)().removeEventListener("DOMContentLoaded",this.updateSizes)}},{key:"getFirstItem",value:function(r){var o=r;return r>=this.state.lastPosition&&(o=this.state.lastPosition),r<this.state.firstItem+this.state.visibleItems&&(o=this.state.firstItem),r<this.state.firstItem&&(o=r),o}},{key:"renderItems",value:function(){var r=this;return this.props.children.map(function(o,a){var s=Xt.default.ITEM(!1,a===r.state.selectedItem),l={key:a,ref:function(u){return r.setThumbsRef(u,a)},className:s,onClick:r.handleClickItem.bind(r,a,r.props.children[a]),onKeyDown:r.handleClickItem.bind(r,a,r.props.children[a]),"aria-label":"".concat(r.props.labels.item," ").concat(a+1),style:{width:r.props.thumbWidth}};return ut.default.createElement("li",pi({},l,{role:"button",tabIndex:0}),o)})}},{key:"render",value:function(){var r=this;if(!this.props.children)return null;var o=ut.Children.count(this.props.children)>1,a=this.state.showArrows&&this.state.firstItem>0,s=this.state.showArrows&&this.state.firstItem<this.state.lastPosition,l={},c=-this.state.firstItem*(this.state.itemSize||0),u=(0,Ao.default)(c,"px",this.props.axis),d=this.props.transitionTime+"ms";return l={WebkitTransform:u,MozTransform:u,MsTransform:u,OTransform:u,transform:u,msTransform:u,WebkitTransitionDuration:d,MozTransitionDuration:d,MsTransitionDuration:d,OTransitionDuration:d,transitionDuration:d,msTransitionDuration:d},ut.default.createElement("div",{className:Xt.default.CAROUSEL(!1)},ut.default.createElement("div",{className:Xt.default.WRAPPER(!1),ref:this.setItemsWrapperRef},ut.default.createElement("button",{type:"button",className:Xt.default.ARROW_PREV(!a),onClick:function(){return r.slideRight()},"aria-label":this.props.labels.leftArrow}),o?ut.default.createElement(Zd.default,{tagName:"ul",className:Xt.default.SLIDER(!1,this.state.swiping),onSwipeLeft:this.slideLeft,onSwipeRight:this.slideRight,onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:l,innerRef:this.setItemsListRef,allowMouseEvents:this.props.emulateTouch},this.renderItems()):ut.default.createElement("ul",{className:Xt.default.SLIDER(!1,this.state.swiping),ref:function(h){return r.setItemsListRef(h)},style:l},this.renderItems()),ut.default.createElement("button",{type:"button",className:Xt.default.ARROW_NEXT(!s),onClick:function(){return r.slideLeft()},"aria-label":this.props.labels.rightArrow})))}}]),n}(ut.Component);qn.default=Bi;qe(Bi,"displayName","Thumbs");qe(Bi,"defaultProps",{axis:"horizontal",labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},selectedItem:0,thumbWidth:80,transitionTime:350});var Or={};Object.defineProperty(Or,"__esModule",{value:!0});Or.default=void 0;var cf=function(){return document};Or.default=cf;var tt={};Object.defineProperty(tt,"__esModule",{value:!0});tt.setPosition=tt.getPosition=tt.isKeyboardEvent=tt.defaultStatusFormatter=tt.noop=void 0;var uf=b,df=ff(yn);function ff(e){return e&&e.__esModule?e:{default:e}}var hf=function(){};tt.noop=hf;var pf=function(t,n){return"".concat(t," of ").concat(n)};tt.defaultStatusFormatter=pf;var gf=function(t){return t?t.hasOwnProperty("key"):!1};tt.isKeyboardEvent=gf;var vf=function(t,n){if(n.infiniteLoop&&++t,t===0)return 0;var i=uf.Children.count(n.children);if(n.centerMode&&n.axis==="horizontal"){var r=-t*n.centerSlidePercentage,o=i-1;return t&&(t!==o||n.infiniteLoop)?r+=(100-n.centerSlidePercentage)/2:t===o&&(r+=100-n.centerSlidePercentage),r}return-t*100};tt.getPosition=vf;var mf=function(t,n){var i={};return["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(r){i[r]=(0,df.default)(t,"%",n)}),i};tt.setPosition=mf;var vt={};Object.defineProperty(vt,"__esModule",{value:!0});vt.fadeAnimationHandler=vt.slideStopSwipingHandler=vt.slideSwipeAnimationHandler=vt.slideAnimationHandler=void 0;var za=b,yf=bf(yn),mt=tt;function bf(e){return e&&e.__esModule?e:{default:e}}function To(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function Yt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?To(Object(n),!0).forEach(function(i){wf(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):To(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function wf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Sf=function(t,n){var i={},r=n.selectedItem,o=r,a=za.Children.count(t.children)-1,s=t.infiniteLoop&&(r<0||r>a);if(s)return o<0?t.centerMode&&t.centerSlidePercentage&&t.axis==="horizontal"?i.itemListStyle=(0,mt.setPosition)(-(a+2)*t.centerSlidePercentage-(100-t.centerSlidePercentage)/2,t.axis):i.itemListStyle=(0,mt.setPosition)(-(a+2)*100,t.axis):o>a&&(i.itemListStyle=(0,mt.setPosition)(0,t.axis)),i;var l=(0,mt.getPosition)(r,t),c=(0,yf.default)(l,"%",t.axis),u=t.transitionTime+"ms";return i.itemListStyle={WebkitTransform:c,msTransform:c,OTransform:c,transform:c},n.swiping||(i.itemListStyle=Yt(Yt({},i.itemListStyle),{},{WebkitTransitionDuration:u,MozTransitionDuration:u,OTransitionDuration:u,transitionDuration:u,msTransitionDuration:u})),i};vt.slideAnimationHandler=Sf;var _f=function(t,n,i,r){var o={},a=n.axis==="horizontal",s=za.Children.count(n.children),l=0,c=(0,mt.getPosition)(i.selectedItem,n),u=n.infiniteLoop?(0,mt.getPosition)(s-1,n)-100:(0,mt.getPosition)(s-1,n),d=a?t.x:t.y,p=d;c===l&&d>0&&(p=0),c===u&&d<0&&(p=0);var h=c+100/(i.itemSize/p),f=Math.abs(d)>n.swipeScrollTolerance;return n.infiniteLoop&&f&&(i.selectedItem===0&&h>-100?h-=s*100:i.selectedItem===s-1&&h<-s*100&&(h+=s*100)),(!n.preventMovementUntilSwipeScrollTolerance||f||i.swipeMovementStarted)&&(i.swipeMovementStarted||r({swipeMovementStarted:!0}),o.itemListStyle=(0,mt.setPosition)(h,n.axis)),f&&!i.cancelClick&&r({cancelClick:!0}),o};vt.slideSwipeAnimationHandler=_f;var Cf=function(t,n){var i=(0,mt.getPosition)(n.selectedItem,t),r=(0,mt.setPosition)(i,t.axis);return{itemListStyle:r}};vt.slideStopSwipingHandler=Cf;var If=function(t,n){var i=t.transitionTime+"ms",r="ease-in-out",o={position:"absolute",display:"block",zIndex:-2,minHeight:"100%",opacity:0,top:0,right:0,left:0,bottom:0,transitionTimingFunction:r,msTransitionTimingFunction:r,MozTransitionTimingFunction:r,WebkitTransitionTimingFunction:r,OTransitionTimingFunction:r};return n.swiping||(o=Yt(Yt({},o),{},{WebkitTransitionDuration:i,MozTransitionDuration:i,OTransitionDuration:i,transitionDuration:i,msTransitionDuration:i})),{slideStyle:o,selectedStyle:Yt(Yt({},o),{},{opacity:1,position:"relative"}),prevStyle:Yt({},o)}};vt.fadeAnimationHandler=If;Object.defineProperty(Tr,"__esModule",{value:!0});Tr.default=void 0;var ae=Mf(b),Ef=Yn(Li),Pt=Yn(Un),Pf=Yn(qn),lr=Yn(Or),cr=Yn(Kn),Rn=tt,yr=vt;function Yn(e){return e&&e.__esModule?e:{default:e}}function Na(){if(typeof WeakMap!="function")return null;var e=new WeakMap;return Na=function(){return e},e}function Mf(e){if(e&&e.__esModule)return e;if(e===null||Fn(e)!=="object"&&typeof e!="function")return{default:e};var t=Na();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=i?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}function Fn(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Fn=function(n){return typeof n}:Fn=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Fn(e)}function vi(){return vi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},vi.apply(this,arguments)}function $o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function dt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$o(Object(n),!0).forEach(function(i){G(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$o(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function xf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kf(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Af(e,t,n){return t&&kf(e.prototype,t),e}function Tf(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mi(e,t)}function mi(e,t){return mi=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},mi(e,t)}function $f(e){var t=Of();return function(){var i=br(e),r;if(t){var o=br(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return Rf(this,r)}}function Rf(e,t){return t&&(Fn(t)==="object"||typeof t=="function")?t:V(e)}function V(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Of(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function br(e){return br=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},br(e)}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Wi=function(e){Tf(n,e);var t=$f(n);function n(i){var r;xf(this,n),r=t.call(this,i),G(V(r),"thumbsRef",void 0),G(V(r),"carouselWrapperRef",void 0),G(V(r),"listRef",void 0),G(V(r),"itemsRef",void 0),G(V(r),"timer",void 0),G(V(r),"animationHandler",void 0),G(V(r),"setThumbsRef",function(a){r.thumbsRef=a}),G(V(r),"setCarouselWrapperRef",function(a){r.carouselWrapperRef=a}),G(V(r),"setListRef",function(a){r.listRef=a}),G(V(r),"setItemsRef",function(a,s){r.itemsRef||(r.itemsRef=[]),r.itemsRef[s]=a}),G(V(r),"autoPlay",function(){ae.Children.count(r.props.children)<=1||(r.clearAutoPlay(),r.props.autoPlay&&(r.timer=setTimeout(function(){r.increment()},r.props.interval)))}),G(V(r),"clearAutoPlay",function(){r.timer&&clearTimeout(r.timer)}),G(V(r),"resetAutoPlay",function(){r.clearAutoPlay(),r.autoPlay()}),G(V(r),"stopOnHover",function(){r.setState({isMouseEntered:!0},r.clearAutoPlay)}),G(V(r),"startOnLeave",function(){r.setState({isMouseEntered:!1},r.autoPlay)}),G(V(r),"isFocusWithinTheCarousel",function(){return r.carouselWrapperRef?!!((0,lr.default)().activeElement===r.carouselWrapperRef||r.carouselWrapperRef.contains((0,lr.default)().activeElement)):!1}),G(V(r),"navigateWithKeyboard",function(a){if(r.isFocusWithinTheCarousel()){var s=r.props.axis,l=s==="horizontal",c={ArrowUp:38,ArrowRight:39,ArrowDown:40,ArrowLeft:37},u=l?c.ArrowRight:c.ArrowDown,d=l?c.ArrowLeft:c.ArrowUp;u===a.keyCode?r.increment():d===a.keyCode&&r.decrement()}}),G(V(r),"updateSizes",function(){if(!(!r.state.initialized||!r.itemsRef||r.itemsRef.length===0)){var a=r.props.axis==="horizontal",s=r.itemsRef[0];if(s){var l=a?s.clientWidth:s.clientHeight;r.setState({itemSize:l}),r.thumbsRef&&r.thumbsRef.updateSizes()}}}),G(V(r),"setMountState",function(){r.setState({hasMount:!0}),r.updateSizes()}),G(V(r),"handleClickItem",function(a,s){if(ae.Children.count(r.props.children)!==0){if(r.state.cancelClick){r.setState({cancelClick:!1});return}r.props.onClickItem(a,s),a!==r.state.selectedItem&&r.setState({selectedItem:a})}}),G(V(r),"handleOnChange",function(a,s){ae.Children.count(r.props.children)<=1||r.props.onChange(a,s)}),G(V(r),"handleClickThumb",function(a,s){r.props.onClickThumb(a,s),r.moveTo(a)}),G(V(r),"onSwipeStart",function(a){r.setState({swiping:!0}),r.props.onSwipeStart(a)}),G(V(r),"onSwipeEnd",function(a){r.setState({swiping:!1,cancelClick:!1,swipeMovementStarted:!1}),r.props.onSwipeEnd(a),r.clearAutoPlay(),r.state.autoPlay&&r.autoPlay()}),G(V(r),"onSwipeMove",function(a,s){r.props.onSwipeMove(s);var l=r.props.swipeAnimationHandler(a,r.props,r.state,r.setState.bind(V(r)));return r.setState(dt({},l)),!!Object.keys(l).length}),G(V(r),"decrement",function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;r.moveTo(r.state.selectedItem-(typeof a=="number"?a:1))}),G(V(r),"increment",function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;r.moveTo(r.state.selectedItem+(typeof a=="number"?a:1))}),G(V(r),"moveTo",function(a){if(typeof a=="number"){var s=ae.Children.count(r.props.children)-1;a<0&&(a=r.props.infiniteLoop?s:0),a>s&&(a=r.props.infiniteLoop?0:s),r.selectItem({selectedItem:a}),r.state.autoPlay&&r.state.isMouseEntered===!1&&r.resetAutoPlay()}}),G(V(r),"onClickNext",function(){r.increment(1)}),G(V(r),"onClickPrev",function(){r.decrement(1)}),G(V(r),"onSwipeForward",function(){r.increment(1),r.props.emulateTouch&&r.setState({cancelClick:!0})}),G(V(r),"onSwipeBackwards",function(){r.decrement(1),r.props.emulateTouch&&r.setState({cancelClick:!0})}),G(V(r),"changeItem",function(a){return function(s){(!(0,Rn.isKeyboardEvent)(s)||s.key==="Enter")&&r.moveTo(a)}}),G(V(r),"selectItem",function(a){r.setState(dt({previousItem:r.state.selectedItem},a),function(){r.setState(r.animationHandler(r.props,r.state))}),r.handleOnChange(a.selectedItem,ae.Children.toArray(r.props.children)[a.selectedItem])}),G(V(r),"getInitialImage",function(){var a=r.props.selectedItem,s=r.itemsRef&&r.itemsRef[a],l=s&&s.getElementsByTagName("img")||[];return l[0]}),G(V(r),"getVariableItemHeight",function(a){var s=r.itemsRef&&r.itemsRef[a];if(r.state.hasMount&&s&&s.children.length){var l=s.children[0].getElementsByTagName("img")||[];if(l.length>0){var c=l[0];if(!c.complete){var u=function h(){r.forceUpdate(),c.removeEventListener("load",h)};c.addEventListener("load",u)}}var d=l[0]||s.children[0],p=d.clientHeight;return p>0?p:null}return null});var o={initialized:!1,previousItem:i.selectedItem,selectedItem:i.selectedItem,hasMount:!1,isMouseEntered:!1,autoPlay:i.autoPlay,swiping:!1,swipeMovementStarted:!1,cancelClick:!1,itemSize:1,itemListStyle:{},slideStyle:{},selectedStyle:{},prevStyle:{}};return r.animationHandler=typeof i.animationHandler=="function"&&i.animationHandler||i.animationHandler==="fade"&&yr.fadeAnimationHandler||yr.slideAnimationHandler,r.state=dt(dt({},o),r.animationHandler(i,o)),r}return Af(n,[{key:"componentDidMount",value:function(){this.props.children&&this.setupCarousel()}},{key:"componentDidUpdate",value:function(r,o){!r.children&&this.props.children&&!this.state.initialized&&this.setupCarousel(),!r.autoFocus&&this.props.autoFocus&&this.forceFocus(),o.swiping&&!this.state.swiping&&this.setState(dt({},this.props.stopSwipingHandler(this.props,this.state))),(r.selectedItem!==this.props.selectedItem||r.centerMode!==this.props.centerMode)&&(this.updateSizes(),this.moveTo(this.props.selectedItem)),r.autoPlay!==this.props.autoPlay&&(this.props.autoPlay?this.setupAutoPlay():this.destroyAutoPlay(),this.setState({autoPlay:this.props.autoPlay}))}},{key:"componentWillUnmount",value:function(){this.destroyCarousel()}},{key:"setupCarousel",value:function(){var r=this;this.bindEvents(),this.state.autoPlay&&ae.Children.count(this.props.children)>1&&this.setupAutoPlay(),this.props.autoFocus&&this.forceFocus(),this.setState({initialized:!0},function(){var o=r.getInitialImage();o&&!o.complete?o.addEventListener("load",r.setMountState):r.setMountState()})}},{key:"destroyCarousel",value:function(){this.state.initialized&&(this.unbindEvents(),this.destroyAutoPlay())}},{key:"setupAutoPlay",value:function(){this.autoPlay();var r=this.carouselWrapperRef;this.props.stopOnHover&&r&&(r.addEventListener("mouseenter",this.stopOnHover),r.addEventListener("mouseleave",this.startOnLeave))}},{key:"destroyAutoPlay",value:function(){this.clearAutoPlay();var r=this.carouselWrapperRef;this.props.stopOnHover&&r&&(r.removeEventListener("mouseenter",this.stopOnHover),r.removeEventListener("mouseleave",this.startOnLeave))}},{key:"bindEvents",value:function(){(0,cr.default)().addEventListener("resize",this.updateSizes),(0,cr.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.props.useKeyboardArrows&&(0,lr.default)().addEventListener("keydown",this.navigateWithKeyboard)}},{key:"unbindEvents",value:function(){(0,cr.default)().removeEventListener("resize",this.updateSizes),(0,cr.default)().removeEventListener("DOMContentLoaded",this.updateSizes);var r=this.getInitialImage();r&&r.removeEventListener("load",this.setMountState),this.props.useKeyboardArrows&&(0,lr.default)().removeEventListener("keydown",this.navigateWithKeyboard)}},{key:"forceFocus",value:function(){var r;(r=this.carouselWrapperRef)===null||r===void 0||r.focus()}},{key:"renderItems",value:function(r){var o=this;return this.props.children?ae.Children.map(this.props.children,function(a,s){var l=s===o.state.selectedItem,c=s===o.state.previousItem,u=l&&o.state.selectedStyle||c&&o.state.prevStyle||o.state.slideStyle||{};o.props.centerMode&&o.props.axis==="horizontal"&&(u=dt(dt({},u),{},{minWidth:o.props.centerSlidePercentage+"%"})),o.state.swiping&&o.state.swipeMovementStarted&&(u=dt(dt({},u),{},{pointerEvents:"none"}));var d={ref:function(h){return o.setItemsRef(h,s)},key:"itemKey"+s+(r?"clone":""),className:Pt.default.ITEM(!0,s===o.state.selectedItem,s===o.state.previousItem),onClick:o.handleClickItem.bind(o,s,a),style:u};return ae.default.createElement("li",d,o.props.renderItem(a,{isSelected:s===o.state.selectedItem,isPrevious:s===o.state.previousItem}))}):[]}},{key:"renderControls",value:function(){var r=this,o=this.props,a=o.showIndicators,s=o.labels,l=o.renderIndicator,c=o.children;return a?ae.default.createElement("ul",{className:"control-dots"},ae.Children.map(c,function(u,d){return l&&l(r.changeItem(d),d===r.state.selectedItem,d,s.item)})):null}},{key:"renderStatus",value:function(){return this.props.showStatus?ae.default.createElement("p",{className:"carousel-status"},this.props.statusFormatter(this.state.selectedItem+1,ae.Children.count(this.props.children))):null}},{key:"renderThumbs",value:function(){return!this.props.showThumbs||!this.props.children||ae.Children.count(this.props.children)===0?null:ae.default.createElement(Pf.default,{ref:this.setThumbsRef,onSelectItem:this.handleClickThumb,selectedItem:this.state.selectedItem,transitionTime:this.props.transitionTime,thumbWidth:this.props.thumbWidth,labels:this.props.labels,emulateTouch:this.props.emulateTouch},this.props.renderThumbs(this.props.children))}},{key:"render",value:function(){var r=this;if(!this.props.children||ae.Children.count(this.props.children)===0)return null;var o=this.props.swipeable&&ae.Children.count(this.props.children)>1,a=this.props.axis==="horizontal",s=this.props.showArrows&&ae.Children.count(this.props.children)>1,l=s&&(this.state.selectedItem>0||this.props.infiniteLoop)||!1,c=s&&(this.state.selectedItem<ae.Children.count(this.props.children)-1||this.props.infiniteLoop)||!1,u=this.renderItems(!0),d=u.shift(),p=u.pop(),h={className:Pt.default.SLIDER(!0,this.state.swiping),onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:this.state.itemListStyle,tolerance:this.props.swipeScrollTolerance},f={};if(a){if(h.onSwipeLeft=this.onSwipeForward,h.onSwipeRight=this.onSwipeBackwards,this.props.dynamicHeight){var g=this.getVariableItemHeight(this.state.selectedItem);f.height=g||"auto"}}else h.onSwipeUp=this.props.verticalSwipe==="natural"?this.onSwipeBackwards:this.onSwipeForward,h.onSwipeDown=this.props.verticalSwipe==="natural"?this.onSwipeForward:this.onSwipeBackwards,h.style=dt(dt({},h.style),{},{height:this.state.itemSize}),f.height=this.state.itemSize;return ae.default.createElement("div",{"aria-label":this.props.ariaLabel,className:Pt.default.ROOT(this.props.className),ref:this.setCarouselWrapperRef,tabIndex:this.props.useKeyboardArrows?0:void 0},ae.default.createElement("div",{className:Pt.default.CAROUSEL(!0),style:{width:this.props.width}},this.renderControls(),this.props.renderArrowPrev(this.onClickPrev,l,this.props.labels.leftArrow),ae.default.createElement("div",{className:Pt.default.WRAPPER(!0,this.props.axis),style:f},o?ae.default.createElement(Ef.default,vi({tagName:"ul",innerRef:this.setListRef},h,{allowMouseEvents:this.props.emulateTouch}),this.props.infiniteLoop&&p,this.renderItems(),this.props.infiniteLoop&&d):ae.default.createElement("ul",{className:Pt.default.SLIDER(!0,this.state.swiping),ref:function(y){return r.setListRef(y)},style:this.state.itemListStyle||{}},this.props.infiniteLoop&&p,this.renderItems(),this.props.infiniteLoop&&d)),this.props.renderArrowNext(this.onClickNext,c,this.props.labels.rightArrow),this.renderStatus()),this.renderThumbs())}}]),n}(ae.default.Component);Tr.default=Wi;G(Wi,"displayName","Carousel");G(Wi,"defaultProps",{ariaLabel:void 0,axis:"horizontal",centerSlidePercentage:80,interval:3e3,labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},onClickItem:Rn.noop,onClickThumb:Rn.noop,onChange:Rn.noop,onSwipeStart:function(){},onSwipeEnd:function(){},onSwipeMove:function(){return!1},preventMovementUntilSwipeScrollTolerance:!1,renderArrowPrev:function(t,n,i){return ae.default.createElement("button",{type:"button","aria-label":i,className:Pt.default.ARROW_PREV(!n),onClick:t})},renderArrowNext:function(t,n,i){return ae.default.createElement("button",{type:"button","aria-label":i,className:Pt.default.ARROW_NEXT(!n),onClick:t})},renderIndicator:function(t,n,i,r){return ae.default.createElement("li",{className:Pt.default.DOT(n),onClick:t,onKeyDown:t,value:i,key:i,role:"button",tabIndex:0,"aria-label":"".concat(r," ").concat(i+1)})},renderItem:function(t){return t},renderThumbs:function(t){var n=ae.Children.map(t,function(i){var r=i;if(i.type!=="img"&&(r=ae.Children.toArray(i.props.children).find(function(o){return o.type==="img"})),!!r)return r});return n.filter(function(i){return i}).length===0?(console.warn("No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md"),[]):n},statusFormatter:Rn.defaultStatusFormatter,selectedItem:0,showArrows:!0,showIndicators:!0,showStatus:!0,showThumbs:!0,stopOnHover:!0,swipeScrollTolerance:5,swipeable:!0,transitionTime:350,verticalSwipe:"standard",width:"100%",animationHandler:"slide",swipeAnimationHandler:yr.slideSwipeAnimationHandler,stopSwipingHandler:yr.slideStopSwipingHandler});var Df={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Carousel",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"CarouselProps",{enumerable:!0,get:function(){return n.CarouselProps}}),Object.defineProperty(e,"Thumbs",{enumerable:!0,get:function(){return i.default}});var t=r(Tr),n=Df,i=r(qn);function r(o){return o&&o.__esModule?o:{default:o}}})(La);var Ff=wt,Hf=function(){return Ff.Date.now()},Lf=Hf,Bf=/\s/;function Wf(e){for(var t=e.length;t--&&Bf.test(e.charAt(t)););return t}var zf=Wf,Nf=zf,jf=/^\s+/;function Xf(e){return e&&e.slice(0,Nf(e)+1).replace(jf,"")}var Uf=Xf,qf=Uf,Ro=Vt,Kf=Er,Oo=NaN,Yf=/^[-+]0x[0-9a-f]+$/i,Gf=/^0b[01]+$/i,Vf=/^0o[0-7]+$/i,Jf=parseInt;function Zf(e){if(typeof e=="number")return e;if(Kf(e))return Oo;if(Ro(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Ro(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=qf(e);var n=Gf.test(e);return n||Vf.test(e)?Jf(e.slice(2),n?2:8):Yf.test(e)?Oo:+e}var zi=Zf,Qf=Vt,ei=Lf,Do=zi,eh="Expected a function",th=Math.max,nh=Math.min;function rh(e,t,n){var i,r,o,a,s,l,c=0,u=!1,d=!1,p=!0;if(typeof e!="function")throw new TypeError(eh);t=Do(t)||0,Qf(n)&&(u=!!n.leading,d="maxWait"in n,o=d?th(Do(n.maxWait)||0,t):o,p="trailing"in n?!!n.trailing:p);function h(C){var A=i,x=r;return i=r=void 0,c=C,a=e.apply(x,A),a}function f(C){return c=C,s=setTimeout(y,t),u?h(C):a}function g(C){var A=C-l,x=C-c,E=t-A;return d?nh(E,o-x):E}function m(C){var A=C-l,x=C-c;return l===void 0||A>=t||A<0||d&&x>=o}function y(){var C=ei();if(m(C))return v(C);s=setTimeout(y,g(C))}function v(C){return s=void 0,p&&i?h(C):(i=r=void 0,a)}function w(){s!==void 0&&clearTimeout(s),c=0,i=l=r=s=void 0}function I(){return s===void 0?a:v(ei())}function _(){var C=ei(),A=m(C);if(i=arguments,r=this,l=C,A){if(s===void 0)return f(l);if(d)return clearTimeout(s),s=setTimeout(y,t),h(l)}return s===void 0&&(s=setTimeout(y,t)),a}return _.cancel=w,_.flush=I,_}var ja=rh;const ih=Gt(ja);function pt(e,t,n,i,r=!1){const o=b.useRef(void 0);o.current=t,b.useEffect(()=>{if(n===null||n.addEventListener===void 0)return;const a=n,s=l=>{var c;(c=o.current)==null||c.call(a,l)};return a.addEventListener(e,s,{passive:i,capture:r}),()=>{a.removeEventListener(e,s,{capture:r})}},[e,n,i,r])}function vw(e,t){return e===void 0?void 0:t}const oh=Math.PI;function Fo(e){return e*oh/180}const Xa=(e,t,n)=>({x1:e-n/2,y1:t-n/2,x2:e+n/2,y2:t+n/2}),Ua=(e,t,n,i,r)=>{switch(e){case"left":return Math.floor(t)+i+r/2;case"center":return Math.floor(t+n/2);case"right":return Math.floor(t+n)-i-r/2}},qa=(e,t,n)=>Math.min(e,t-n*2),Ka=(e,t,n)=>n.x1<=e&&e<=n.x2&&n.y1<=t&&t<=n.y2,Ni=e=>{const t=e.fgColor??"currentColor";return b.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},b.createElement("path",{d:"M12.7073 7.05029C7.87391 11.8837 10.4544 9.30322 6.03024 13.7273C5.77392 13.9836 5.58981 14.3071 5.50189 14.6587L4.52521 18.5655C4.38789 19.1148 4.88543 19.6123 5.43472 19.475L9.34146 18.4983C9.69313 18.4104 10.0143 18.2286 10.2706 17.9722L16.9499 11.2929",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",vectorEffect:"non-scaling-stroke"}),b.createElement("path",{d:"M20.4854 4.92901L19.0712 3.5148C18.2901 2.73375 17.0238 2.73375 16.2428 3.5148L14.475 5.28257C15.5326 7.71912 16.4736 8.6278 18.7176 9.52521L20.4854 7.75744C21.2665 6.97639 21.2665 5.71006 20.4854 4.92901Z",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",vectorEffect:"non-scaling-stroke"}))},ah=e=>{const t=e.fgColor??"currentColor";return b.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},b.createElement("path",{d:"M19 6L10.3802 17L5.34071 11.8758",vectorEffect:"non-scaling-stroke",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))};function sh(e,t,n){const[i,r]=b.useState(e),o=b.useRef(!0);b.useEffect(()=>()=>{o.current=!1},[]);const a=b.useRef(ih(s=>{o.current&&r(s)},n));return b.useLayoutEffect(()=>{o.current&&a.current(()=>e())},t),i}const lh="---",ch="A-Za-z--------",uh=new RegExp("^[^"+ch+"]*["+lh+"]");function ji(e){return uh.test(e)?"rtl":"not-rtl"}let ur;function Ho(){if(typeof document>"u")return 0;if(ur!==void 0)return ur;const e=document.createElement("p");e.style.width="100%",e.style.height="200px";const t=document.createElement("div");t.id="testScrollbar",t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.visibility="hidden",t.style.width="200px",t.style.height="150px",t.style.overflow="hidden",t.append(e),document.body.append(t);const n=e.offsetWidth;t.style.overflow="scroll";let i=e.offsetWidth;return n===i&&(i=t.clientWidth),t.remove(),ur=n-i,ur}const Ut=Symbol();function mw(e){const t=b.useRef([Ut,e]);t.current[1]!==e&&(t.current[0]=e),t.current[1]=e;const[n,i]=b.useState(e),[,r]=b.useState(),o=b.useCallback(s=>{const l=t.current[0];l!==Ut&&(s=typeof s=="function"?s(l):s,s===l)||(l!==Ut&&r({}),i(c=>typeof s=="function"?s(l===Ut?c:l):s),t.current[0]=Ut)},[]),a=b.useCallback(()=>{t.current[0]=Ut,r({})},[]);return[t.current[0]===Ut?n:t.current[0],o,a]}function Ya(e){if(e.length===0)return"";let t=0,n=0;for(const i of e){if(n+=i.length,n>1e4)break;t++}return e.slice(0,t).join(", ")}function yw(e){const t=b.useRef(e);return dn(e,t.current)||(t.current=e),t.current}const dh=e=>{const{urls:t,canWrite:n,onEditClick:i,renderImage:r}=e,o=t.filter(s=>s!=="");if(o.length===0)return null;const a=o.length>1;return b.createElement(Bd,{"data-testid":"GDG-default-image-overlay-editor"},b.createElement(La.Carousel,{showArrows:a,showThumbs:!1,swipeable:a,emulateTouch:a,infiniteLoop:a},o.map(s=>{const l=(r==null?void 0:r(s))??b.createElement("img",{draggable:!1,src:s});return b.createElement("div",{className:"gdg-centering-container",key:s},l)})),n&&i&&b.createElement("button",{className:"gdg-edit-icon",onClick:i},b.createElement(Ni,null)))},fh=Mt("div")({name:"MarkdownContainer",class:"m1ec5h7p",propsAsIs:!1});class hh extends un.PureComponent{constructor(){super(...arguments);Q(this,"targetElement",null);Q(this,"containerRefHook",n=>{this.targetElement=n,this.renderMarkdownIntoDiv()})}renderMarkdownIntoDiv(){const{targetElement:n,props:i}=this;if(n===null)return;const{contents:r,createNode:o}=i,a=Vs(r),s=document.createRange();s.selectNodeContents(n),s.deleteContents();let l=o==null?void 0:o(a);if(l===void 0){const u=document.createElement("template");u.innerHTML=a,l=u.content}n.append(l);const c=n.getElementsByTagName("a");for(const u of c)u.target="_blank",u.rel="noreferrer noopener"}render(){return this.renderMarkdownIntoDiv(),un.createElement(fh,{ref:this.containerRefHook})}}const ph=Mt("textarea")({name:"InputBox",class:"iotb8b8",propsAsIs:!1}),gh=Mt("div")({name:"ShadowBox",class:"s1xtsfdl",propsAsIs:!1}),vh=Mt("div")({name:"GrowingEntryStyle",class:"g1d7u5bt",propsAsIs:!1});let Lo=0;const Dr=e=>{const{placeholder:t,value:n,onKeyDown:i,highlight:r,altNewline:o,validatedSelection:a,...s}=e,{onChange:l,className:c}=s,u=b.useRef(null),d=n??"";Et(l!==void 0,"GrowingEntry must be a controlled input area");const[p]=b.useState(()=>"input-box-"+(Lo=(Lo+1)%1e7));b.useEffect(()=>{const f=u.current;if(f===null||f.disabled)return;const g=d.toString().length;f.focus(),f.setSelectionRange(r?0:g,g)},[]),b.useLayoutEffect(()=>{var f;if(a!==void 0){const g=typeof a=="number"?[a,null]:a;(f=u.current)==null||f.setSelectionRange(g[0],g[1])}},[a]);const h=b.useCallback(f=>{f.key==="Enter"&&f.shiftKey&&o===!0||i==null||i(f)},[o,i]);return b.createElement(vh,{className:"gdg-growing-entry"},b.createElement(gh,{className:c},d+`
`),b.createElement(ph,{...s,className:(c??"")+" gdg-input",id:p,ref:u,onKeyDown:h,value:d,placeholder:t,dir:"auto"}))},ti={};let Dt=null;function mh(){const e=document.createElement("div");return e.style.opacity="0",e.style.pointerEvents="none",e.style.position="fixed",document.body.append(e),e}function fn(e){const t=e.toLowerCase().trim();if(ti[t]!==void 0)return ti[t];Dt=Dt||mh(),Dt.style.color="#000",Dt.style.color=t;const n=getComputedStyle(Dt).color;Dt.style.color="#fff",Dt.style.color=t;const i=getComputedStyle(Dt).color;if(i!==n)return[0,0,0,1];let r=i.replace(/[^\d.,]/g,"").split(",").map(Number.parseFloat);return r.length<4&&r.push(1),r=r.map(o=>Number.isNaN(o)?0:o),ti[t]=r,r}function Gn(e,t){const[n,i,r]=fn(e);return`rgba(${n}, ${i}, ${r}, ${t})`}const Bo=new Map;function Wo(e,t){const n=`${e}-${t}`,i=Bo.get(n);if(i!==void 0)return i;const r=et(e,t);return Bo.set(n,r),r}function et(e,t){if(t===void 0)return e;const[n,i,r,o]=fn(e);if(o===1)return e;const[a,s,l,c]=fn(t),u=o+c*(1-o),d=(o*n+c*a*(1-o))/u,p=(o*i+c*s*(1-o))/u,h=(o*r+c*l*(1-o))/u;return`rgba(${d}, ${p}, ${h}, ${u})`}function bw(e,t,n){if(n<=0)return e;if(n>=1)return t;const[i,r,o,a]=fn(e),[s,l,c,u]=fn(t),d=i*a,p=r*a,h=o*a,f=s*u,g=l*u,m=c*u,y=n,v=1-n,w=a*v+u*y;if(w===0)return"rgba(0, 0, 0, 0)";const I=Math.floor((d*v+f*y)/w),_=Math.floor((p*v+g*y)/w),C=Math.floor((h*v+m*y)/w);return`rgba(${I}, ${_}, ${C}, ${w})`}function ww(e){if(e==="transparent")return 0;function t(o){const a=o/255;return a<=.04045?a/12.92:Math.pow((a+.055)/1.055,2.4)}const[n,i,r]=fn(e);return .2126*t(n)+.7152*t(i)+.0722*t(r)}var an=new Map,ln=new Map,yi=new Map;function yh(){an.clear(),yi.clear(),ln.clear()}function bh(e,t,n,i,r){var o,a,s;let l=0,c={};for(let d of e)l+=(o=n.get(d))!=null?o:r,c[d]=((a=c[d])!=null?a:0)+1;let u=t-l;for(let d of Object.keys(c)){let p=c[d],h=(s=n.get(d))!=null?s:r,f=h*p/l,g=u*f*i/p,m=h+g;n.set(d,m)}}function wh(e,t){var n;let i=new Map,r=0;for(let c of"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890,.-+=?"){let u=e.measureText(c).width;i.set(c,u),r+=u}let o=r/i.size,a=3,s=(t/o+a)/(a+1),l=i.keys();for(let c of l)i.set(c,((n=i.get(c))!=null?n:o)*s);return i}function Hn(e,t,n,i){var r,o;let a=ln.get(n);if(i&&a!==void 0&&a.count>2e4){let c=yi.get(n);if(c===void 0&&(c=wh(e,a.size),yi.set(n,c)),a.count>5e5){let d=0;for(let p of t)d+=(r=c.get(p))!=null?r:a.size;return d*1.01}let u=e.measureText(t);return bh(t,u.width,c,Math.max(.05,1-a.count/2e5),a.size),ln.set(n,{count:a.count+t.length,size:a.size}),u.width}let s=e.measureText(t),l=s.width/t.length;if(((o=a==null?void 0:a.count)!=null?o:0)>2e4)return s.width;if(a===void 0)ln.set(n,{count:t.length,size:l});else{let c=l-a.size,u=t.length/(a.count+t.length),d=a.size+c*u;ln.set(n,{count:a.count+t.length,size:d})}return s.width}function Sh(e,t,n,i,r,o,a,s){if(t.length<=1)return t.length;if(r<n)return-1;let l=Math.floor(n/r*o),c=Hn(e,t.slice(0,Math.max(0,l)),i,a);if(c!==n)if(c<n){for(;c<n;)l++,c=Hn(e,t.slice(0,Math.max(0,l)),i,a);l--}else for(;c>n;){let u=t.lastIndexOf(" ",l-1);u>0?l=u:l--,c=Hn(e,t.slice(0,Math.max(0,l)),i,a)}if(t[l]!==" "){let u=0;u=t.lastIndexOf(" ",l),u>0&&(l=u)}return l}function _h(e,t,n,i,r,o){let a=`${t}_${n}_${i}px`,s=an.get(a);if(s!==void 0)return s;if(i<=0)return[];let l=[],c=t.split(`
`),u=ln.get(n),d=u===void 0?t.length:i/u.size*1.5,p=r&&u!==void 0&&u.count>2e4;for(let h of c){let f=Hn(e,h.slice(0,Math.max(0,d)),n,p),g=Math.min(h.length,d);if(f<=i)l.push(h);else{for(;f>i;){let m=Sh(e,h,i,n,f,g,p),y=h.slice(0,Math.max(0,m));h=h.slice(y.length),l.push(y),f=Hn(e,h.slice(0,Math.max(0,d)),n,p),g=Math.min(h.length,d)}f>0&&l.push(h)}}return l=l.map((h,f)=>f===0?h.trimEnd():h.trim()),an.set(a,l),an.size>500&&an.delete(an.keys().next().value),l}function Ch(e,t){return un.useMemo(()=>e.map((n,i)=>({group:n.group,grow:n.grow,hasMenu:n.hasMenu,icon:n.icon,id:n.id,menuIcon:n.menuIcon,overlayIcon:n.overlayIcon,sourceIndex:i,sticky:i<t,indicatorIcon:n.indicatorIcon,style:n.style,themeOverride:n.themeOverride,title:n.title,trailingRowOptions:n.trailingRowOptions,width:n.width,growOffset:n.growOffset,rowMarker:n.rowMarker,rowMarkerChecked:n.rowMarkerChecked,headerRowMarkerTheme:n.headerRowMarkerTheme,headerRowMarkerAlwaysVisible:n.headerRowMarkerAlwaysVisible,headerRowMarkerDisabled:n.headerRowMarkerDisabled})),[e,t])}function Sw(e,t){const[n,i]=t;if(e.columns.hasIndex(n)||e.rows.hasIndex(i))return!0;if(e.current!==void 0){if(hr(e.current.cell,t))return!0;const r=[e.current.range,...e.current.rangeStack];for(const o of r)if(n>=o.x&&n<o.x+o.width&&i>=o.y&&i<o.y+o.height)return!0}return!1}function bi(e,t,n){if(e===void 0&&t===void 0)return!0;if(e===void 0||t===void 0)return!1;const i=Array.isArray(e)?e:[e],r=Array.isArray(t)?t:[t];if(n!==void 0){const o=i[n]??"",a=r[n]??"";return o===a}if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o]!==r[o])return!1;return!0}function Ih(e,t,n){return n.current===void 0||e[1]!==n.current.cell[1]?!1:t.span===void 0?n.current.cell[0]===e[0]:n.current.cell[0]>=t.span[0]&&n.current.cell[0]<=t.span[1]}function Eh(e,t){const[n,i]=e;return n>=t.x&&n<t.x+t.width&&i>=t.y&&i<t.y+t.height}function hr(e,t){return(e==null?void 0:e[0])===(t==null?void 0:t[0])&&(e==null?void 0:e[1])===(t==null?void 0:t[1])}function Ga(e){return[e.x+e.width-1,e.y+e.height-1]}function zo(e,t,n){const i=n.x,r=n.x+n.width-1,o=n.y,a=n.y+n.height-1,[s,l]=e;if(l<o||l>a)return!1;if(t.span===void 0)return s>=i&&s<=r;const[c,u]=t.span;return c>=i&&c<=r||u>=i&&c<=r||c<i&&u>r}function Ph(e,t,n,i){let r=0;if(n.current===void 0)return r;const o=n.current.range;(i||o.height*o.width>1)&&zo(e,t,o)&&r++;for(const a of n.current.rangeStack)zo(e,t,a)&&r++;return r}function Va(e,t){let n=e;if(t!==void 0){let i=[...e];const r=n[t.src];t.src>t.dest?(i.splice(t.src,1),i.splice(t.dest,0,r)):(i.splice(t.dest+1,0,r),i.splice(t.src,1)),i=i.map((o,a)=>({...o,sticky:e[a].sticky})),n=i}return n}function hn(e,t){let n=0;const i=Va(e,t);for(let r=0;r<i.length;r++){const o=i[r];if(o.sticky)n+=o.width;else break}return n}function bn(e,t,n){if(typeof n=="number")return t*n;{let i=0;for(let r=e-t;r<e;r++)i+=n(r);return i}}function wi(e,t,n,i,r){const o=Va(e,i),a=[];for(const c of o)if(c.sticky)a.push(c);else break;if(a.length>0)for(const c of a)n-=c.width;let s=t,l=r??0;for(;l<=n&&s<o.length;)l+=o[s].width,s++;for(let c=t;c<s;c++){const u=o[c];u.sticky||a.push(u)}return a}function Mh(e,t,n){let i=0;for(const r of t){const o=r.sticky?i:i+(n??0);if(e<=o+r.width)return r.sourceIndex;i+=r.width}return-1}function xh(e,t,n,i,r,o,a,s,l,c){const u=Array.isArray(r)?r.reduce((g,m)=>g+m,0):r,d=i+u;if(n&&e<=u)return-2;if(e<=d)return-1;let p=t;for(let g=0;g<c;g++){const m=o-1-g,y=typeof a=="number"?a:a(m);if(p-=y,e>=p)return m}const h=o-c,f=e-(l??0);if(typeof a=="number"){const g=Math.floor((f-d)/a)+s;return g>=h?void 0:g}else{let g=d;for(let m=s;m<h;m++){const y=a(m);if(f<=g+y)return m;g+=y}return}}let pr=0,Ln={};const kh=typeof window>"u";async function Ah(){var e;kh||((e=document==null?void 0:document.fonts)==null?void 0:e.ready)===void 0||(await document.fonts.ready,pr=0,Ln={},yh())}Ah();function Ja(e,t,n,i){return`${e}_${i??(t==null?void 0:t.font)}_${n}`}function wn(e,t,n,i="middle"){const r=Ja(e,t,i,n);let o=Ln[r];return o===void 0&&(o=t.measureText(e),Ln[r]=o,pr++),pr>1e4&&(Ln={},pr=0),o}function Za(e,t){const n=Ja(e,void 0,"middle",t);return Ln[n]}function Ft(e,t){return typeof t!="string"&&(t=t.baseFontFull),Th(e,t)}function No(e,t){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZ";e.save(),e.textBaseline=t;const i=e.measureText(n);return e.restore(),i}const jo=[];function Th(e,t){for(const o of jo)if(o.key===t)return o.val;const n=No(e,"alphabetic"),r=-(No(e,"middle").actualBoundingBoxDescent-n.actualBoundingBoxDescent)+n.actualBoundingBoxAscent/2;return jo.push({key:t,val:r}),r}function $h(e,t,n,i,r,o){const{ctx:a,rect:s,theme:l}=e;let c=Number.MAX_SAFE_INTEGER;const u=500;if(t!==void 0&&(c=n-t,c<u)){const d=1-c/u;a.globalAlpha=d,a.fillStyle=l.bgSearchResult,a.fillRect(s.x+1,s.y+1,s.width-(r?2:1),s.height-(o?2:1)),a.globalAlpha=1,i!==void 0&&(i.fillStyle=l.bgSearchResult)}return c<u}function Vn(e,t,n){const{ctx:i,theme:r}=e,o=t??{},a=n??r.textDark;return a!==o.fillStyle&&(i.fillStyle=a,o.fillStyle=a),o}function _w(e,t,n,i,r){const{rect:o,ctx:a,theme:s}=e;a.fillStyle=s.textDark,gt({ctx:a,rect:o,theme:s},t,n,i,r)}function Qa(e,t,n,i,r,o,a,s,l){l==="right"?e.fillText(t,n+r-(s.cellHorizontalPadding+.5),i+o/2+a):l==="center"?e.fillText(t,n+r/2,i+o/2+a):e.fillText(t,n+s.cellHorizontalPadding+.5,i+o/2+a)}function es(e,t){const n=wn("ABCi09jgqpy",e,t);return n.actualBoundingBoxAscent+n.actualBoundingBoxDescent}function Rh(e,t){e.includes(`
`)&&(e=e.split(/\r?\n/,1)[0]);const n=t/4;return e.length>n&&(e=e.slice(0,n)),e}function Oh(e,t,n,i,r,o,a,s,l,c){const u=s.baseFontFull,d=_h(e,t,u,r-s.cellHorizontalPadding*2,c??!1),p=es(e,u),h=s.lineHeight*p,f=p+h*(d.length-1),g=f+s.cellVerticalPadding>o;g&&(e.save(),e.rect(n,i,r,o),e.clip());const m=i+o/2-f/2;let y=Math.max(i+s.cellVerticalPadding,m);for(const v of d)if(Qa(e,v,n,y,r,p,a,s,l),y+=h,y>i+o)break;g&&e.restore()}function gt(e,t,n,i,r){const{ctx:o,rect:a,theme:s}=e,{x:l,y:c,width:u,height:d}=a;i=i??!1,i||(t=Rh(t,u));const p=Ft(o,s),h=ji(t)==="rtl";if(n===void 0&&h&&(n="right"),h&&(o.direction="rtl"),t.length>0){let f=!1;n==="right"?(o.textAlign="right",f=!0):n!==void 0&&n!=="left"&&(o.textAlign=n,f=!0),i?Oh(o,t,l,c,u,d,p,s,n,r):Qa(o,t,l,c,u,d,p,s,n),f&&(o.textAlign="start"),h&&(o.direction="inherit")}}function yt(e,t,n,i,r,o){typeof o=="number"&&(o={tl:o,tr:o,br:o,bl:o}),o={tl:Math.max(0,Math.min(o.tl,r/2,i/2)),tr:Math.max(0,Math.min(o.tr,r/2,i/2)),bl:Math.max(0,Math.min(o.bl,r/2,i/2)),br:Math.max(0,Math.min(o.br,r/2,i/2))},e.moveTo(t+o.tl,n),e.arcTo(t+i,n,t+i,n+o.tr,o.tr),e.arcTo(t+i,n+r,t+i-o.br,n+r,o.br),e.arcTo(t,n+r,t,n+r-o.bl,o.bl),e.arcTo(t,n,t+o.tl,n,o.tl)}function Dh(e,t,n){e.arc(t,n-1.25*3.5,1.25,0,2*Math.PI,!1),e.arc(t,n,1.25,0,2*Math.PI,!1),e.arc(t,n+1.25*3.5,1.25,0,2*Math.PI,!1)}function Fh(e,t,n){const i=function(s,l){const c=l.x-s.x,u=l.y-s.y,d=Math.sqrt(c*c+u*u),p=c/d,h=u/d;return{x:c,y:l.y-s.y,len:d,nx:p,ny:h,ang:Math.atan2(h,p)}};let r;const o=t.length;let a=t[o-1];for(let s=0;s<o;s++){let l=t[s%o];const c=t[(s+1)%o],u=i(l,a),d=i(l,c),p=u.nx*d.ny-u.ny*d.nx,h=u.nx*d.nx-u.ny*-d.ny;let f=Math.asin(p<-1?-1:p>1?1:p),g=1,m=!1;h<0?f<0?f=Math.PI+f:(f=Math.PI-f,g=-1,m=!0):f>0&&(g=-1,m=!0),r=l.radius!==void 0?l.radius:n;const y=f/2;let v=Math.abs(Math.cos(y)*r/Math.sin(y)),w;v>Math.min(u.len/2,d.len/2)?(v=Math.min(u.len/2,d.len/2),w=Math.abs(v*Math.sin(y)/Math.cos(y))):w=r;let I=l.x+d.nx*v,_=l.y+d.ny*v;I+=-d.ny*w*g,_+=d.nx*w*g,e.arc(I,_,w,u.ang+Math.PI/2*g,d.ang-Math.PI/2*g,m),a=l,l=c}e.closePath()}function Si(e,t,n,i,r,o,a,s,l,c,u,d,p,h,f){const g={x:0,y:o+c,width:0,height:0};if(e>=h.length||t>=u||t<-2||e<0)return g;const m=Array.isArray(r)?r.reduce((v,w)=>v+w,0):r,y=o-m;if(e>=d){const v=a>e?-1:1,w=hn(h);g.x+=w+l;for(let I=a;I!==e;I+=v)g.x+=h[v===1?I:I-1].width*v}else for(let v=0;v<e;v++)g.x+=h[v].width;if(g.width=h[e].width+1,t===-1)g.y=m,g.height=y;else if(t<=-2){const v=-2-t,w=Array.isArray(r)?r:[r];let I=0;for(let R=0;R<v&&R<w.length;R++)I+=w[R]??w[0]??0;const _=w[v]??w[0]??0;g.y=I,g.height=_;let C=e;const A=h[e].group,x=h[e].sticky;for(;C>0&&bi(h[C-1].group,A,v)&&h[C-1].sticky===x;){const R=h[C-1];g.x-=R.width,g.width+=R.width,C--}let E=e;for(;E+1<h.length&&bi(h[E+1].group,A,v)&&h[E+1].sticky===x;){const R=h[E+1];g.width+=R.width,E++}if(!x){const R=hn(h),T=g.x-R;T<0&&(g.x-=T,g.width+=T),g.x+g.width>n&&(g.width=n-g.x)}}else if(t>=u-p){let v=u-t;for(g.y=i;v>0;){const w=t+v-1;g.height=typeof f=="number"?f:f(w),g.y-=g.height,v--}g.height+=1}else{const v=s>t?-1:1;if(typeof f=="number"){const w=t-s;g.y+=w*f}else for(let w=s;w!==t;w+=v)g.y+=f(w)*v;g.height=(typeof f=="number"?f:f(t))+1}return g}const Xi=1<<21;function ft(e,t){return(t+2)*Xi+e}function ts(e){return e%Xi}function Ui(e){return Math.floor(e/Xi)-2}function qi(e){const t=ts(e),n=Ui(e);return[t,n]}class ns{constructor(){Q(this,"visibleWindow",{x:0,y:0,width:0,height:0});Q(this,"freezeCols",0);Q(this,"freezeRows",[]);Q(this,"isInWindow",t=>{const n=ts(t),i=Ui(t),r=this.visibleWindow,o=n>=r.x&&n<=r.x+r.width||n<this.freezeCols,a=i>=r.y&&i<=r.y+r.height||this.freezeRows.includes(i);return o&&a})}setWindow(t,n,i){this.visibleWindow.x===t.x&&this.visibleWindow.y===t.y&&this.visibleWindow.width===t.width&&this.visibleWindow.height===t.height&&this.freezeCols===n&&dn(this.freezeRows,i)||(this.visibleWindow=t,this.freezeCols=n,this.freezeRows=i,this.clearOutOfWindow())}}class Hh extends ns{constructor(){super(...arguments);Q(this,"cache",new Map);Q(this,"setValue",(n,i)=>{this.cache.set(ft(n[0],n[1]),i)});Q(this,"getValue",n=>this.cache.get(ft(n[0],n[1])));Q(this,"clearOutOfWindow",()=>{for(const[n]of this.cache.entries())this.isInWindow(n)||this.cache.delete(n)})}}class Bn{constructor(t=[]){Q(this,"cells");this.cells=new Set(t.map(n=>ft(n[0],n[1])))}add(t){this.cells.add(ft(t[0],t[1]))}has(t){return t===void 0?!1:this.cells.has(ft(t[0],t[1]))}remove(t){this.cells.delete(ft(t[0],t[1]))}clear(){this.cells.clear()}get size(){return this.cells.size}hasHeader(){for(const t of this.cells)if(Ui(t)<0)return!0;return!1}hasItemInRectangle(t){for(let n=t.y;n<t.y+t.height;n++)for(let i=t.x;i<t.x+t.width;i++)if(this.cells.has(ft(i,n)))return!0;return!1}hasItemInRegion(t){for(const n of t)if(this.hasItemInRectangle(n))return!0;return!1}*values(){for(const t of this.cells)yield qi(t)}}function Cw(e){return{"--gdg-accent-color":e.accentColor,"--gdg-accent-fg":e.accentFg,"--gdg-accent-light":e.accentLight,"--gdg-text-dark":e.textDark,"--gdg-text-medium":e.textMedium,"--gdg-text-light":e.textLight,"--gdg-text-bubble":e.textBubble,"--gdg-bg-icon-header":e.bgIconHeader,"--gdg-fg-icon-header":e.fgIconHeader,"--gdg-text-header":e.textHeader,"--gdg-text-group-header":e.textGroupHeader??e.textHeader,"--gdg-bg-group-header":e.bgGroupHeader??e.bgHeader,"--gdg-bg-group-header-hovered":e.bgGroupHeaderHovered??e.bgHeaderHovered,"--gdg-text-header-selected":e.textHeaderSelected,"--gdg-bg-cell":e.bgCell,"--gdg-bg-cell-medium":e.bgCellMedium,"--gdg-bg-header":e.bgHeader,"--gdg-bg-header-has-focus":e.bgHeaderHasFocus,"--gdg-bg-header-hovered":e.bgHeaderHovered,"--gdg-bg-bubble":e.bgBubble,"--gdg-bg-bubble-selected":e.bgBubbleSelected,"--gdg-bubble-height":`${e.bubbleHeight}px`,"--gdg-bubble-padding":`${e.bubblePadding}px`,"--gdg-bubble-margin":`${e.bubbleMargin}px`,"--gdg-bg-search-result":e.bgSearchResult,"--gdg-border-color":e.borderColor,"--gdg-horizontal-border-color":e.horizontalBorderColor??e.borderColor,"--gdg-drilldown-border":e.drilldownBorder,"--gdg-link-color":e.linkColor,"--gdg-cell-horizontal-padding":`${e.cellHorizontalPadding}px`,"--gdg-cell-vertical-padding":`${e.cellVerticalPadding}px`,"--gdg-header-font-style":e.headerFontStyle,"--gdg-base-font-style":e.baseFontStyle,"--gdg-marker-font-style":e.markerFontStyle,"--gdg-font-family":e.fontFamily,"--gdg-editor-font-size":e.editorFontSize,"--gdg-checkbox-max-size":`${e.checkboxMaxSize}px`,...e.resizeIndicatorColor===void 0?{}:{"--gdg-resize-indicator-color":e.resizeIndicatorColor},...e.headerBottomBorderColor===void 0?{}:{"--gdg-header-bottom-border-color":e.headerBottomBorderColor},...e.roundingRadius===void 0?{}:{"--gdg-rounding-radius":`${e.roundingRadius}px`}}}const rs={accentColor:"#4F5DFF",accentFg:"#FFFFFF",accentLight:"rgba(62, 116, 253, 0.1)",textDark:"#313139",textMedium:"#737383",textLight:"#B2B2C0",textBubble:"#313139",bgIconHeader:"#737383",fgIconHeader:"#FFFFFF",textHeader:"#313139",textGroupHeader:"#313139BB",textHeaderSelected:"#FFFFFF",bgCell:"#FFFFFF",bgCellMedium:"#FAFAFB",bgHeader:"#F7F7F8",bgHeaderHasFocus:"#E9E9EB",bgHeaderHovered:"#EFEFF1",bgBubble:"#EDEDF3",bgBubbleSelected:"#FFFFFF",bubbleHeight:20,bubblePadding:6,bubbleMargin:4,bgSearchResult:"#fff9e3",borderColor:"rgba(115, 116, 131, 0.16)",drilldownBorder:"rgba(0, 0, 0, 0)",linkColor:"#353fb5",cellHorizontalPadding:8,cellVerticalPadding:3,headerIconSize:18,headerFontStyle:"600 13px",baseFontStyle:"13px",markerFontStyle:"9px",fontFamily:"Inter, Roboto, -apple-system, BlinkMacSystemFont, avenir next, avenir, segoe ui, helvetica neue, helvetica, Ubuntu, noto, arial, sans-serif",editorFontSize:"13px",lineHeight:1.4,checkboxMaxSize:18};function Iw(){return rs}const Lh=un.createContext(rs);function Ew(){return un.useContext(Lh)}function pn(e,...t){const n={...e};for(const i of t)if(i!==void 0)for(const r in i)i.hasOwnProperty(r)&&(r==="bgCell"?n[r]=et(i[r],n[r]):n[r]=i[r]);return(n.headerFontFull===void 0||e.fontFamily!==n.fontFamily||e.headerFontStyle!==n.headerFontStyle)&&(n.headerFontFull=`${n.headerFontStyle} ${n.fontFamily}`),(n.baseFontFull===void 0||e.fontFamily!==n.fontFamily||e.baseFontStyle!==n.baseFontStyle)&&(n.baseFontFull=`${n.baseFontStyle} ${n.fontFamily}`),(n.markerFontFull===void 0||e.fontFamily!==n.fontFamily||e.markerFontStyle!==n.markerFontStyle)&&(n.markerFontFull=`${n.markerFontStyle} ${n.fontFamily}`),n}function Bh(e,t,n){return e===e&&(n!==void 0&&(e=e<=n?e:n),t!==void 0&&(e=e>=t?e:t)),e}var Wh=Bh,zh=Wh,ni=zi;function Nh(e,t,n){return n===void 0&&(n=t,t=void 0),n!==void 0&&(n=ni(n),n=n===n?n:0),t!==void 0&&(t=ni(t),t=t===t?t:0),zh(ni(e),t,n)}var jh=Nh;const wr=Gt(jh);var Xh="__lodash_hash_undefined__";function Uh(e){return this.__data__.set(e,Xh),this}var qh=Uh;function Kh(e){return this.__data__.has(e)}var Yh=Kh,Gh=Ti,Vh=qh,Jh=Yh;function Sr(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Gh;++t<n;)this.add(e[t])}Sr.prototype.add=Sr.prototype.push=Vh;Sr.prototype.has=Jh;var Zh=Sr;function Qh(e,t){return e.has(t)}var ep=Qh,tp=Jt,np=wt,rp=tp(np,"Set"),ip=rp;function op(e){var t=-1,n=Array(e.size);return e.forEach(function(i){n[++t]=i}),n}var ap=op;function sp(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}var lp=sp,cp=Math.ceil,up=Math.max;function dp(e,t,n,i){for(var r=-1,o=up(cp((t-e)/(n||1)),0),a=Array(o);o--;)a[i?o:++r]=e,e+=n;return a}var fp=dp,hp=xa,pp=Oi;function gp(e){return e!=null&&pp(e.length)&&!hp(e)}var Ki=gp,vp=ki,mp=Ki,yp=Ri,bp=Vt;function wp(e,t,n){if(!bp(n))return!1;var i=typeof t;return(i=="number"?mp(n)&&yp(t,n.length):i=="string"&&t in n)?vp(n[t],e):!1}var Sp=wp,_p=zi,Xo=1/0,Cp=17976931348623157e292;function Ip(e){if(!e)return e===0?e:0;if(e=_p(e),e===Xo||e===-Xo){var t=e<0?-1:1;return t*Cp}return e===e?e:0}var Ep=Ip,Pp=fp,Mp=Sp,ri=Ep;function xp(e){return function(t,n,i){return i&&typeof i!="number"&&Mp(t,n,i)&&(n=i=void 0),t=ri(t),n===void 0?(n=t,t=0):n=ri(n),i=i===void 0?t<n?1:-1:ri(i),Pp(t,n,i,e)}}var kp=xp,Ap=kp,Tp=Ap(),$p=Tp;const Rp=Gt($p);function Op(e,t){return e==="normal"?[t.bgIconHeader,t.fgIconHeader]:e==="selected"?["white",t.accentColor]:[t.accentColor,t.bgHeader]}class Dp{constructor(t,n){Q(this,"spriteMap",new Map);Q(this,"headerIcons");Q(this,"inFlight",0);this.onSettled=n,this.headerIcons=t??{}}drawSprite(t,n,i,r,o,a,s,l=1){const[c,u]=Op(n,s),d=a*Math.ceil(window.devicePixelRatio),p=`${c}_${u}_${d}_${t}`;let h=this.spriteMap.get(p);if(h===void 0){const f=this.headerIcons[t];if(f===void 0)return;h=document.createElement("canvas");const g=h.getContext("2d");if(g===null)return;const m=new Image;m.src=`data:image/svg+xml;charset=utf-8,${encodeURIComponent(f({fgColor:u,bgColor:c}))}`,this.spriteMap.set(p,h);const y=m.decode();if(y===void 0)return;this.inFlight++,y.then(()=>{g.drawImage(m,0,0,d,d)}).finally(()=>{this.inFlight--,this.inFlight===0&&this.onSettled()})}else l<1&&(i.globalAlpha=l),i.drawImage(h,0,0,d,d,r,o,a,a),l<1&&(i.globalAlpha=1)}}function is(e){if(e.length===0)return;let t;for(const n of e)t=Math.min(t??n.y,n.y);return t}function Fr(e,t,n,i,r,o,a,s,l){s=s??t;let c=t,u=e;const d=i-o;let p=!1;for(;c<n&&u<d;){const h=r(u);if(c+h>s&&l(c,u,h,!1,a&&u===i-1)===!0){p=!0;break}c+=h,u++}if(!p){c=n;for(let h=0;h<o;h++){u=i-1-h;const f=r(u);c-=f,l(c,u,f,!0,a&&u===i-1)}}}function Ht(e,t,n,i,r,o){let a=0,s=0;const l=r+i;for(const c of e){const u=c.sticky?s:a+n;if(o(c,u,l,c.sticky?0:s,t)===!0)break;a+=c.width,s+=c.sticky?c.width:0}}function Yi(e){let t=0;for(const n of e)if(n.group!==void 0){const i=Array.isArray(n.group)?n.group.length:1;t=Math.max(t,i)}return t}function zn(e,t){if(Array.isArray(e))return e.length===0?0:e.reduce((n,i)=>n+i,0);if(t!==void 0){const n=Yi(t);return n===0?0:e*n}return e}function Fp(e,t){return e===void 0?"":Array.isArray(e)?e[t]??"":t===0?e:""}function os(e,t,n,i,r,o){const a=Array.isArray(i)?i[r]??i[0]??0:i;let s=0,l=0;for(let c=0;c<e.length;c++){const u=e[c];let d=c+1,p=u.width;for(u.sticky&&(l+=p);d<e.length&&bi(e[d].group,u.group,r)&&e[d].sticky===e[c].sticky;){const v=e[d];p+=v.width,d++,c++,v.sticky&&(l+=v.width)}const h=u.sticky?0:n,f=s+h,g=u.sticky?0:Math.max(0,l-f),m=Math.min(p-g,t-(f+g)),y=Fp(u.group,r);o([u.sourceIndex,e[d-1].sourceIndex],y,f+g,0,m,a,r),s+=p}}function as(e,t,n,i,r,o,a){var p;const[s,l]=e;let c,u;const d=((p=a.find(h=>!h.sticky))==null?void 0:p.sourceIndex)??0;if(l>d){const h=Math.max(s,d);let f=t,g=i;for(let m=o.sourceIndex-1;m>=h;m--)f-=a[m].width,g+=a[m].width;for(let m=o.sourceIndex+1;m<=l;m++)g+=a[m].width;u={x:f,y:n,width:g,height:r}}if(d>s){const h=Math.min(l,d-1);let f=t,g=i;for(let m=o.sourceIndex-1;m>=s;m--)f-=a[m].width,g+=a[m].width;for(let m=o.sourceIndex+1;m<=h;m++)g+=a[m].width;c={x:f,y:n,width:g,height:r}}return[c,u]}function Pw(e,t,n,i){if(i==="any")return Hp(e,{x:t,y:n,width:1,height:1});if(i==="vertical"&&(t=e.x),i==="horizontal"&&(n=e.y),Eh([t,n],e))return;const r=t-e.x,o=e.x+e.width-t,a=n-e.y+1,s=e.y+e.height-n,l=Math.min(i==="vertical"?Number.MAX_SAFE_INTEGER:r,i==="vertical"?Number.MAX_SAFE_INTEGER:o,i==="horizontal"?Number.MAX_SAFE_INTEGER:a,i==="horizontal"?Number.MAX_SAFE_INTEGER:s);return l===s?{x:e.x,y:e.y+e.height,width:e.width,height:n-e.y-e.height+1}:l===a?{x:e.x,y:n,width:e.width,height:e.y-n}:l===o?{x:e.x+e.width,y:e.y,width:t-e.x-e.width+1,height:e.height}:{x:t,y:e.y,width:e.x-t,height:e.height}}function Nn(e,t,n,i,r,o,a,s){return e<=r+a&&r<=e+n&&t<=o+s&&o<=t+i}function cn(e,t,n){return t>=e.x&&t<=e.x+e.width&&n>=e.y&&n<=e.y+e.height}function Hp(e,t){const n=Math.min(e.x,t.x),i=Math.min(e.y,t.y),r=Math.max(e.x+e.width,t.x+t.width)-n,o=Math.max(e.y+e.height,t.y+t.height)-i;return{x:n,y:i,width:r,height:o}}function Lp(e,t){return e.x<=t.x&&e.y<=t.y&&e.x+e.width>=t.x+t.width&&e.y+e.height>=t.y+t.height}function Bp(e,t,n,i){if(e.x>t||e.y>n||e.x<0&&e.y<0&&e.x+e.width>t&&e.y+e.height>n)return;if(e.x>=0&&e.y>=0&&e.x+e.width<=t&&e.y+e.height<=n)return e;const r=-4,o=-4,a=t+4,s=n+4,l=r-e.x,c=e.x+e.width-a,u=o-e.y,d=e.y+e.height-s,p=l>0?e.x+Math.floor(l/i)*i:e.x,h=c>0?e.x+e.width-Math.floor(c/i)*i:e.x+e.width,f=u>0?e.y+Math.floor(u/i)*i:e.y,g=d>0?e.y+e.height-Math.floor(d/i)*i:e.y+e.height;return{x:p,y:f,width:h-p,height:g-f}}function Wp(e,t,n,i,r){const[o,a,s,l]=t,[c,u,d,p]=r,{x:h,y:f,width:g,height:m}=e,y=[];if(g<=0||m<=0)return y;const v=h+g,w=f+m,I=h<o,_=f<a,C=h+g>s,A=f+m>l,x=h>=o&&h<s||v>o&&v<=s||h<o&&v>s,E=f>=a&&f<l||w>a&&w<=l||f<a&&w>l;if(x&&E){const T=Math.max(h,o),M=Math.max(f,a),k=Math.min(v,s),P=Math.min(w,l);y.push({rect:{x:T,y:M,width:k-T,height:P-M},clip:{x:c,y:u,width:d-c+1,height:p-u+1}})}if(I&&_){const T=h,M=f,k=Math.min(v,o),P=Math.min(w,a);y.push({rect:{x:T,y:M,width:k-T,height:P-M},clip:{x:0,y:0,width:c+1,height:u+1}})}if(_&&x){const T=Math.max(h,o),M=f,k=Math.min(v,s),P=Math.min(w,a);y.push({rect:{x:T,y:M,width:k-T,height:P-M},clip:{x:c,y:0,width:d-c+1,height:u+1}})}if(_&&C){const T=Math.max(h,s),M=f,k=v,P=Math.min(w,a);y.push({rect:{x:T,y:M,width:k-T,height:P-M},clip:{x:d,y:0,width:n-d+1,height:u+1}})}if(I&&E){const T=h,M=Math.max(f,a),k=Math.min(v,o),P=Math.min(w,l);y.push({rect:{x:T,y:M,width:k-T,height:P-M},clip:{x:0,y:u,width:c+1,height:p-u+1}})}if(C&&E){const T=Math.max(h,s),M=Math.max(f,a),k=v,P=Math.min(w,l);y.push({rect:{x:T,y:M,width:k-T,height:P-M},clip:{x:d,y:u,width:n-d+1,height:p-u+1}})}if(I&&A){const T=h,M=Math.max(f,l),k=Math.min(v,o),P=w;y.push({rect:{x:T,y:M,width:k-T,height:P-M},clip:{x:0,y:p,width:c+1,height:i-p+1}})}if(A&&x){const T=Math.max(h,o),M=Math.max(f,l),k=Math.min(v,s),P=w;y.push({rect:{x:T,y:M,width:k-T,height:P-M},clip:{x:c,y:p,width:d-c+1,height:i-p+1}})}if(C&&A){const T=Math.max(h,s),M=Math.max(f,l),k=v,P=w;y.push({rect:{x:T,y:M,width:k-T,height:P-M},clip:{x:d,y:p,width:n-d+1,height:i-p+1}})}return y}const zp={kind:ne.Loading,allowOverlay:!1};function Uo(e,t,n,i,r,o,a,s,l,c,u,d,p,h,f,g,m,y,v,w,I,_,C,A,x,E,R,T,M,k,P,L,F,U,ke){let le=(w==null?void 0:w.size)??Number.MAX_SAFE_INTEGER;const ze=performance.now();let Ee=k.baseFontFull;e.font=Ee;const we={ctx:e},K=[0,0],Ke=m>0?bn(l,m,c):0;let Me,z;const Ae=is(v);return Ht(t,s,o,a,r,(Y,Ne,fe,ve,Ye)=>{const Qe=Math.max(0,ve-Ne),Ge=Ne+Qe,$e=r+1,je=Y.width-Qe,xt=i-r-1;if(v.length>0){let ee=!1;for(let me=0;me<v.length;me++){const re=v[me];if(Nn(Ge,$e,je,xt,re.x,re.y,re.width,re.height)){ee=!0;break}}if(!ee)return}const kt=()=>{e.save(),e.beginPath(),e.rect(Ge,$e,je,xt),e.clip()},nt=I.columns.hasIndex(Y.sourceIndex),te=Array.isArray(Y.group)?Y.group[0]??"":Y.group??"",at=d(te).overrideTheme,Re=Y.themeOverride===void 0&&at===void 0?k:pn(k,at,Y.themeOverride),Xe=Re.baseFontFull;Xe!==Ee&&(Ee=Xe,e.font=Xe),kt();let Oe;return Fr(Ye,fe,i,l,c,m,y,Ae,(ee,me,re,rt,O)=>{var lt,_t,ct;if(me<0||(K[0]=Y.sourceIndex,K[1]=me,w!==void 0&&!w.has(K)))return;if(v.length>0){let J=!1;for(let De=0;De<v.length;De++){const Ie=v[De];if(Nn(Ne,ee,Y.width,re,Ie.x,Ie.y,Ie.width,Ie.height)){J=!0;break}}if(!J)return}const Se=I.rows.hasIndex(me),_e=h.hasIndex(me),N=me<l?u(K):zp;let Te=Ne,Pe=Y.width,ie=!1,se=!1;if(N.span!==void 0){const[J,De]=N.span,Ie=`${me},${J},${De},${Y.sticky}`;if(z===void 0&&(z=new Set),z.has(Ie)){le--;return}else{const Cn=as(N.span,Ne,ee,Y.width,re,Y,n),Ve=Y.sticky?Cn[0]:Cn[1];if(!Y.sticky&&Cn[0]!==void 0&&(se=!0),Ve!==void 0){Te=Ve.x,Pe=Ve.width,z.add(Ie),e.restore(),Oe=void 0,e.save(),e.beginPath();const Ct=Math.max(0,ve-Ve.x);e.rect(Ve.x+Ct,ee,Ve.width-Ct,re),Me===void 0&&(Me=[]),Me.push({x:Ve.x+Ct,y:ee,width:Ve.width-Ct,height:re}),e.clip(),ie=!0}}}const We=p==null?void 0:p(me),it=O&&((lt=Y.trailingRowOptions)==null?void 0:lt.themeOverride)!==void 0?(_t=Y.trailingRowOptions)==null?void 0:_t.themeOverride:void 0,xe=N.themeOverride===void 0&&We===void 0&&it===void 0?Re:pn(Re,We,it,N.themeOverride);e.beginPath();const st=Ih(K,N,I);let Ue=Ph(K,N,I,g);const At=N.span!==void 0&&I.columns.some(J=>N.span!==void 0&&J>=N.span[0]&&J<=N.span[1]);st&&!f&&g?Ue=0:st&&g&&(Ue=Math.max(Ue,1)),At&&Ue++,st||(Se&&Ue++,nt&&!O&&Ue++);const Zt=N.kind===ne.Protected?xe.bgCellMedium:xe.bgCell;let Ce;if((rt||Zt!==k.bgCell)&&(Ce=et(Zt,Ce)),Ue>0||_e){_e&&(Ce=et(xe.bgHeader,Ce));for(let J=0;J<Ue;J++)Ce=et(xe.accentLight,Ce)}else if(_!==void 0){for(const J of _)if(J[0]===Y.sourceIndex&&J[1]===me){Ce=et(xe.bgSearchResult,Ce);break}}if(C!==void 0)for(let J=0;J<C.length;J++){const De=C[J],Ie=De.range;De.style!=="solid-outline"&&Ie.x<=Y.sourceIndex&&Y.sourceIndex<Ie.x+Ie.width&&Ie.y<=me&&me<Ie.y+Ie.height&&(Ce=et(De.color,Ce))}let Lt=!1;if(w!==void 0){const J=ee+1,Ie=(rt?J+re-1:Math.min(J+re-1,i-Ke))-J;(Ie!==re-1||Te+1<=ve)&&(Lt=!0,e.save(),e.beginPath(),e.rect(Te+1,J,Pe-1,Ie),e.clip()),Ce=Ce===void 0?xe.bgCell:et(Ce,xe.bgCell)}const St=Y.sourceIndex===n.length-1,Bt=me===l-1;Ce!==void 0&&(e.fillStyle=Ce,Oe!==void 0&&(Oe.fillStyle=Ce),w!==void 0?e.fillRect(Te+1,ee+1,Pe-(St?2:1),re-(Bt?2:1)):e.fillRect(Te,ee,Pe,re)),N.style==="faded"&&(e.globalAlpha=.6);let ce;for(let J=0;J<E.length;J++){const De=E[J];if(De.item[0]===Y.sourceIndex&&De.item[1]===me){ce=De;break}}if(Pe>ke&&!se){const J=xe.baseFontFull;J!==Ee&&(e.font=J,Ee=J),Oe=ss(e,N,Y.sourceIndex,me,St,Bt,Te,ee,Pe,re,Ue>0,xe,Ce??xe.bgCell,A,x,(ce==null?void 0:ce.hoverAmount)??0,R,M,ze,T,Oe,P,L,F,U)}return Lt&&e.restore(),N.style==="faded"&&(e.globalAlpha=1),le--,ie&&(e.restore(),(ct=Oe==null?void 0:Oe.deprep)==null||ct.call(Oe,we),Oe=void 0,kt(),Ee=Xe,e.font=Xe),le<=0}),e.restore(),le<=0}),Me}const kn=[0,0],An={x:0,y:0,width:0,height:0},ii=[void 0,()=>{}];let _i=!1;function Np(){_i=!0}function ss(e,t,n,i,r,o,a,s,l,c,u,d,p,h,f,g,m,y,v,w,I,_,C,A,x){var L,F;let E,R;m!==void 0&&m[0][0]===n&&m[0][1]===i&&(E=m[1][0],R=m[1][1]);let T;kn[0]=n,kn[1]=i,An.x=a,An.y=s,An.width=l,An.height=c,ii[0]=C.getValue(kn),ii[1]=U=>C.setValue(kn,U),_i=!1;const M={ctx:e,theme:d,col:n,row:i,cell:t,rect:An,highlighted:u,cellFillColor:p,hoverAmount:g,frameTime:v,hoverX:E,drawState:ii,hoverY:R,imageLoader:h,spriteManager:f,hyperWrapping:y,overrideCursor:E!==void 0?x:void 0,requestAnimationFrame:Np},k=$h(M,t.lastUpdated,v,I,r,o),P=A(t);if(P!==void 0){(I==null?void 0:I.renderer)!==P&&((L=I==null?void 0:I.deprep)==null||L.call(I,M),I=void 0);const U=(F=P.drawPrep)==null?void 0:F.call(P,M,I);w!==void 0&&!Ha(M.cell)?w(M,()=>P.draw(M,t)):P.draw(M,t),T=U===void 0?void 0:{deprep:U==null?void 0:U.deprep,fillStyle:U==null?void 0:U.fillStyle,font:U==null?void 0:U.font,renderer:P}}return(k||_i)&&(_==null||_(kn)),T}function Gi(e,t,n,i,r,o,a,s,l=-20,c=-20,u=void 0,d="center",p="square"){const h=Math.floor(r+a/2),f=p==="circle"?1e4:t.roundingRadius??4;let g=qa(u??t.checkboxMaxSize,a,t.cellVerticalPadding),m=g/2;const y=Ua(d,i,o,t.cellHorizontalPadding,g),v=Xa(y,h,g),w=Ka(i+l,r+c,v);switch(n){case!0:{e.beginPath(),yt(e,y-g/2,h-g/2,g,g,f),p==="circle"&&(m*=.8,g*=.8),e.fillStyle=s?t.accentColor:t.textMedium,e.fill(),e.beginPath(),e.moveTo(y-m+g/4.23,h-m+g/1.97),e.lineTo(y-m+g/2.42,h-m+g/1.44),e.lineTo(y-m+g/1.29,h-m+g/3.25),e.strokeStyle=t.bgCell,e.lineJoin="round",e.lineCap="round",e.lineWidth=1.9,e.stroke();break}case gr:case!1:{e.beginPath(),yt(e,y-g/2+.5,h-g/2+.5,g-1,g-1,f),e.lineWidth=1,e.strokeStyle=w?t.textDark:t.textMedium,e.stroke();break}case Fi:{e.beginPath(),yt(e,y-g/2,h-g/2,g,g,f),e.fillStyle=w?t.textMedium:t.textLight,e.fill(),p==="circle"&&(m*=.8,g*=.8),e.beginPath(),e.moveTo(y-g/3,h),e.lineTo(y+g/3,h),e.strokeStyle=t.bgCell,e.lineCap="round",e.lineWidth=1.9,e.stroke();break}default:Di()}}function jp(e,t,n,i,r,o,a,s,l,c,u,d,p,h,f,g,m,y,v,w){var T,M,k,P;const I=zn(s,t),_=a+I;if(_<=0)return;e.fillStyle=d.bgHeader,e.fillRect(0,0,r,_);const C=(T=i==null?void 0:i[0])==null?void 0:T[0],A=(M=i==null?void 0:i[0])==null?void 0:M[1],x=(k=i==null?void 0:i[1])==null?void 0:k[0],E=(P=i==null?void 0:i[1])==null?void 0:P[1],R=d.headerFontFull;e.font=R,Ht(t,0,o,0,_,(L,F,U,ke)=>{var ve;if(m!==void 0&&!m.has([L.sourceIndex,-1]))return;const le=Math.max(0,ke-F);e.save(),e.beginPath(),e.rect(F+le,I,L.width-le,a),e.clip();const ze=Array.isArray(L.group)?L.group[0]??"":L.group??"",Ee=g(ze).overrideTheme,we=L.themeOverride===void 0&&Ee===void 0?d:pn(d,Ee,L.themeOverride);we.bgHeader!==d.bgHeader&&(e.fillStyle=we.bgHeader,e.fill()),we!==d&&(e.font=we.headerFontFull);const K=u.columns.hasIndex(L.sourceIndex),Ke=l!==void 0||c||L.headerRowMarkerDisabled===!0,Me=!Ke&&A===-1&&C===L.sourceIndex,z=Ke?0:((ve=h.find(Ye=>Ye.item[0]===L.sourceIndex&&Ye.item[1]===-1))==null?void 0:ve.hoverAmount)??0,Ae=(u==null?void 0:u.current)!==void 0&&u.current.cell[0]===L.sourceIndex,Y=K?we.accentColor:Ae?we.bgHeaderHasFocus:we.bgHeader,Ne=n?I:0,fe=L.sourceIndex===0?0:1;K?(e.fillStyle=Y,e.fillRect(F+fe,Ne,L.width-fe,a)):(Ae||z>0)&&(e.beginPath(),e.rect(F+fe,Ne,L.width-fe,a),Ae&&(e.fillStyle=we.bgHeaderHasFocus,e.fill()),z>0&&(e.globalAlpha=z,e.fillStyle=we.bgHeaderHovered,e.fill(),e.globalAlpha=1)),us(e,F,Ne,L.width,a,L,K,we,Me,Me?x:void 0,Me?E:void 0,Ae,z,p,y,w),e.restore()}),n&&Xp(e,t,r,o,s,i,d,p,h,f,g,m,u,v)}function Xp(e,t,n,i,r,o,a,s,l,c,u,d,p,h){const f=Yi(t);if(f===0)return;const g=Array.isArray(r)?r:Array.from({length:f},()=>r);let m=0;for(let y=0;y<f;y++){const v=g[y]??g[0]??0;v<=0||(Up(e,t,n,i,v,m,y,o,a,s,l,c,u,d,p,h),m+=v,e.beginPath(),e.moveTo(0,m+.5),e.lineTo(n,m+.5),e.strokeStyle=a.borderColor,e.lineWidth=1,e.stroke())}}function qo(e,t,n,i,r,o,a,s,l,c,u,d,p,h,f,g){const y=l?d.accentColor??u.accentColor:c?d.bgGroupHeaderHovered??d.bgHeaderHovered:d.bgGroupHeader??d.bgHeader;if(y!==u.bgHeader&&(e.fillStyle=y,e.fill()),e.fillStyle=d.textGroupHeader??d.textHeader,o!==""){let v=t;if((p==null?void 0:p.icon)!==void 0&&(h.drawSprite(p.icon,"normal",e,v+8,n+(r-20)/2,20,d),v+=26),(p==null?void 0:p.name)!==void 0&&p.name!==""&&e.fillText(p.name,v+8,n+r/2+Ft(e,u.headerFontFull)),(p==null?void 0:p.actions)!==void 0&&c){const w=ls({x:t,y:n,width:i,height:r},p.actions);e.beginPath();const I=w[0].x-10,_=t+i-I;e.rect(I,n,_,r);const C=e.createLinearGradient(I,0,I+_,0),A=Gn(y,0);C.addColorStop(0,A),C.addColorStop(10/_,y),C.addColorStop(1,y),e.fillStyle=C,e.fill(),e.globalAlpha=.6;const[x,E]=(f==null?void 0:f[1])??[-1,-1];for(let R=0;R<p.actions.length;R++){const T=p.actions[R],M=w[R],k=cn(M,x+t,E+n);k&&(e.globalAlpha=1),h.drawSprite(T.icon,"normal",e,M.x+M.width/2-10,M.y+M.height/2-10,20,d),k&&(e.globalAlpha=.6)}e.globalAlpha=1}}t!==0&&g(s[0])&&(e.beginPath(),e.moveTo(t+.5,n),e.lineTo(t+.5,n+r),e.strokeStyle=u.borderColor,e.lineWidth=1,e.stroke())}function Up(e,t,n,i,r,o,a,s,l,c,u,d,p,h,f,g){var C,A;const[m,y]=(s==null?void 0:s[0])??[],v=(C=s==null?void 0:s[1])==null?void 0:C[0],w=(A=s==null?void 0:s[1])==null?void 0:A[1],I=-2-a;let _=0;os(t,n,i,r,a,(x,E,R,T,M,k)=>{if(h!==void 0&&!h.hasItemInRectangle({x:x[0],y:I,width:x[1]-x[0]+1,height:1}))return;e.save(),e.beginPath(),e.rect(R,T+o,M,k),e.clip();const P=p(E),L=(P==null?void 0:P.overrideTheme)===void 0?l:pn(l,P.overrideTheme),F=y===I&&m!==void 0&&m>=x[0]&&m<=x[1];let U=!1;f!==void 0&&(U=f.columns.hasAll([x[0],x[1]+1])),g!==void 0?g({ctx:e,groupName:E,level:a,span:x,theme:L,rect:{x:R,y:T+o,width:M,height:k},isSelected:U,isHovered:F,spriteManager:c,hoverX:F?v:void 0,hoverY:F?w:void 0},()=>qo(e,R,T+o,M,k,E,a,x,U,F,l,L,P,c,s,d)):qo(e,R,T+o,M,k,E,a,x,U,F,l,L,P,c,s,d),e.restore(),_=R+M}),e.beginPath(),e.moveTo(_+.5,o),e.lineTo(_+.5,o+r),e.strokeStyle=l.borderColor,e.lineWidth=1,e.stroke()}const dr=30;function qp(e,t,n,i,r){return{x:e+n-dr,y:Math.max(t,t+i/2-dr/2),width:dr,height:Math.min(dr,i)}}function ls(e,t){const n=[];let i=e.x+e.width-26*t.length;const r=e.y+e.height/2-13,o=26,a=26;for(let s=0;s<t.length;s++)n.push({x:i,y:r,width:a,height:o}),i+=26;return n}function Tn(e,t,n){return!n||e===void 0||(e.x=t-(e.x-t)-e.width),e}function cs(e,t,n,i,r,o,a,s){var y;const l=a.cellHorizontalPadding,c=a.headerIconSize,u=qp(n,i,r,o);let d=n+l;const p=t.icon===void 0?void 0:{x:d,y:i+(o-c)/2,width:c,height:c},h=p===void 0||t.overlayIcon===void 0?void 0:{x:p.x+9,y:p.y+6,width:18,height:18};p!==void 0&&(d+=Math.ceil(c*1.3));const f={x:d,y:i,width:r-d,height:o};let g;if(t.indicatorIcon!==void 0){const v=e===void 0?((y=Za(t.title,a.headerFontFull))==null?void 0:y.width)??0:wn(t.title,e,a.headerFontFull).width;f.width=v,d+=v+l,g={x:d,y:i+(o-c)/2,width:c,height:c}}const m=n+r/2;return{menuBounds:Tn(u,m,s),iconBounds:Tn(p,m,s),iconOverlayBounds:Tn(h,m,s),textBounds:Tn(f,m,s),indicatorIconBounds:Tn(g,m,s)}}function Ko(e,t,n,i,r,o,a,s,l,c,u,d,p,h,f,g){if(o.rowMarker!==void 0&&o.headerRowMarkerDisabled!==!0){const v=o.rowMarkerChecked;v!==!0&&o.headerRowMarkerAlwaysVisible!==!0&&(e.globalAlpha=d);const w=o.headerRowMarkerTheme!==void 0?pn(s,o.headerRowMarkerTheme):s;Gi(e,w,v,t,n,i,r,!1,void 0,void 0,s.checkboxMaxSize,"center",o.rowMarker),v!==!0&&o.headerRowMarkerAlwaysVisible!==!0&&(e.globalAlpha=1);return}const m=a?s.textHeaderSelected:s.textHeader,y=o.hasMenu===!0&&(l||h&&a)&&g.menuBounds!==void 0;if(o.icon!==void 0&&g.iconBounds!==void 0){let v=a?"selected":"normal";o.style==="highlight"&&(v=a?"selected":"special"),p.drawSprite(o.icon,v,e,g.iconBounds.x,g.iconBounds.y,g.iconBounds.width,s),o.overlayIcon!==void 0&&g.iconOverlayBounds!==void 0&&p.drawSprite(o.overlayIcon,a?"selected":"special",e,g.iconOverlayBounds.x,g.iconOverlayBounds.y,g.iconOverlayBounds.width,s)}if(y&&i>35){const w=f?35:i-35,I=f?35*.7:i-35*.7,_=w/i,C=I/i,A=e.createLinearGradient(t,0,t+i,0),x=Gn(m,0);A.addColorStop(f?1:0,m),A.addColorStop(_,m),A.addColorStop(C,x),A.addColorStop(f?0:1,x),e.fillStyle=A}else e.fillStyle=m;if(f&&(e.textAlign="right"),g.textBounds!==void 0&&e.fillText(o.title,f?g.textBounds.x+g.textBounds.width:g.textBounds.x,n+r/2+Ft(e,s.headerFontFull)),f&&(e.textAlign="left"),o.indicatorIcon!==void 0&&g.indicatorIconBounds!==void 0&&(!y||!Nn(g.menuBounds.x,g.menuBounds.y,g.menuBounds.width,g.menuBounds.height,g.indicatorIconBounds.x,g.indicatorIconBounds.y,g.indicatorIconBounds.width,g.indicatorIconBounds.height))){let v=a?"selected":"normal";o.style==="highlight"&&(v=a?"selected":"special"),p.drawSprite(o.indicatorIcon,v,e,g.indicatorIconBounds.x,g.indicatorIconBounds.y,g.indicatorIconBounds.width,s)}if(y&&g.menuBounds!==void 0){const v=g.menuBounds,w=c!==void 0&&u!==void 0&&cn(v,c+t,u+n);if(w||(e.globalAlpha=.7),o.menuIcon===void 0||o.menuIcon===fi.Triangle){e.beginPath();const I=v.x+v.width/2-5.5,_=v.y+v.height/2-3;Fh(e,[{x:I,y:_},{x:I+11,y:_},{x:I+5.5,y:_+6}],1),e.fillStyle=m,e.fill()}else if(o.menuIcon===fi.Dots){e.beginPath();const I=v.x+v.width/2,_=v.y+v.height/2;Dh(e,I,_),e.fillStyle=m,e.fill()}else{const I=v.x+(v.width-s.headerIconSize)/2,_=v.y+(v.height-s.headerIconSize)/2;p.drawSprite(o.menuIcon,"normal",e,I,_,s.headerIconSize,s)}w||(e.globalAlpha=1)}}function us(e,t,n,i,r,o,a,s,l,c,u,d,p,h,f,g){const m=ji(o.title)==="rtl",y=cs(e,o,t,n,i,r,s,m);f!==void 0?f({ctx:e,theme:s,rect:{x:t,y:n,width:i,height:r},column:o,columnIndex:o.sourceIndex,isSelected:a,hoverAmount:p,isHovered:l,hasSelectedCell:d,spriteManager:h,menuBounds:(y==null?void 0:y.menuBounds)??{x:0,y:0,height:0,width:0},hoverX:c,hoverY:u},()=>Ko(e,t,n,i,r,o,a,s,l,c,u,p,h,g,m,y)):Ko(e,t,n,i,r,o,a,s,l,c,u,p,h,g,m,y)}var Kp=Jt,Yp=function(){try{var e=Kp(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Gp=Yp,Yo=Gp;function Vp(e,t,n){t=="__proto__"&&Yo?Yo(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var Jp=Vp;function Zp(e,t,n,i){for(var r=-1,o=e==null?0:e.length;++r<o;){var a=e[r];t(i,a,n(a),e)}return i}var Qp=Zp;function eg(e){return function(t,n,i){for(var r=-1,o=Object(t),a=i(t),s=a.length;s--;){var l=a[e?s:++r];if(n(o[l],l,o)===!1)break}return t}}var tg=eg,ng=tg,rg=ng(),ig=rg;function og(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}var ag=og,_r={exports:{}};function sg(){return!1}var lg=sg;_r.exports;(function(e,t){var n=wt,i=lg,r=t&&!t.nodeType&&t,o=r&&!0&&e&&!e.nodeType&&e,a=o&&o.exports===r,s=a?n.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||i;e.exports=c})(_r,_r.exports);var ds=_r.exports,cg=jn,ug=Oi,dg=Xn,fg="[object Arguments]",hg="[object Array]",pg="[object Boolean]",gg="[object Date]",vg="[object Error]",mg="[object Function]",yg="[object Map]",bg="[object Number]",wg="[object Object]",Sg="[object RegExp]",_g="[object Set]",Cg="[object String]",Ig="[object WeakMap]",Eg="[object ArrayBuffer]",Pg="[object DataView]",Mg="[object Float32Array]",xg="[object Float64Array]",kg="[object Int8Array]",Ag="[object Int16Array]",Tg="[object Int32Array]",$g="[object Uint8Array]",Rg="[object Uint8ClampedArray]",Og="[object Uint16Array]",Dg="[object Uint32Array]",be={};be[Mg]=be[xg]=be[kg]=be[Ag]=be[Tg]=be[$g]=be[Rg]=be[Og]=be[Dg]=!0;be[fg]=be[hg]=be[Eg]=be[pg]=be[Pg]=be[gg]=be[vg]=be[mg]=be[yg]=be[bg]=be[wg]=be[Sg]=be[_g]=be[Cg]=be[Ig]=!1;function Fg(e){return dg(e)&&ug(e.length)&&!!be[cg(e)]}var Hg=Fg;function Lg(e){return function(t){return e(t)}}var Bg=Lg,Cr={exports:{}};Cr.exports;(function(e,t){var n=Pa,i=t&&!t.nodeType&&t,r=i&&!0&&e&&!e.nodeType&&e,o=r&&r.exports===i,a=o&&n.process,s=function(){try{var l=r&&r.require&&r.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();e.exports=s})(Cr,Cr.exports);var Wg=Cr.exports,zg=Hg,Ng=Bg,Go=Wg,Vo=Go&&Go.isTypedArray,jg=Vo?Ng(Vo):zg,fs=jg,Xg=ag,Ug=Oa,qg=bt,Kg=ds,Yg=Ri,Gg=fs,Vg=Object.prototype,Jg=Vg.hasOwnProperty;function Zg(e,t){var n=qg(e),i=!n&&Ug(e),r=!n&&!i&&Kg(e),o=!n&&!i&&!r&&Gg(e),a=n||i||r||o,s=a?Xg(e.length,String):[],l=s.length;for(var c in e)(t||Jg.call(e,c))&&!(a&&(c=="length"||r&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Yg(c,l)))&&s.push(c);return s}var Qg=Zg,ev=Object.prototype;function tv(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||ev;return e===n}var nv=tv;function rv(e,t){return function(n){return e(t(n))}}var iv=rv,ov=iv,av=ov(Object.keys,Object),sv=av,lv=nv,cv=sv,uv=Object.prototype,dv=uv.hasOwnProperty;function fv(e){if(!lv(e))return cv(e);var t=[];for(var n in Object(e))dv.call(e,n)&&n!="constructor"&&t.push(n);return t}var hv=fv,pv=Qg,gv=hv,vv=Ki;function mv(e){return vv(e)?pv(e):gv(e)}var Vi=mv,yv=ig,bv=Vi;function wv(e,t){return e&&yv(e,t,bv)}var Sv=wv,_v=Ki;function Cv(e,t){return function(n,i){if(n==null)return n;if(!_v(n))return e(n,i);for(var r=n.length,o=t?r:-1,a=Object(n);(t?o--:++o<r)&&i(a[o],o,a)!==!1;);return n}}var Iv=Cv,Ev=Sv,Pv=Iv,Mv=Pv(Ev),xv=Mv,kv=xv;function Av(e,t,n,i){return kv(e,function(r,o,a){t(i,r,n(r),a)}),i}var Tv=Av,$v=xr;function Rv(){this.__data__=new $v,this.size=0}var Ov=Rv;function Dv(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var Fv=Dv;function Hv(e){return this.__data__.get(e)}var Lv=Hv;function Bv(e){return this.__data__.has(e)}var Wv=Bv,zv=xr,Nv=Ai,jv=Ti,Xv=200;function Uv(e,t){var n=this.__data__;if(n instanceof zv){var i=n.__data__;if(!Nv||i.length<Xv-1)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new jv(i)}return n.set(e,t),this.size=n.size,this}var qv=Uv,Kv=xr,Yv=Ov,Gv=Fv,Vv=Lv,Jv=Wv,Zv=qv;function Sn(e){var t=this.__data__=new Kv(e);this.size=t.size}Sn.prototype.clear=Yv;Sn.prototype.delete=Gv;Sn.prototype.get=Vv;Sn.prototype.has=Jv;Sn.prototype.set=Zv;var hs=Sn;function Qv(e,t){for(var n=-1,i=e==null?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}var em=Qv,tm=Zh,nm=em,rm=ep,im=1,om=2;function am(e,t,n,i,r,o){var a=n&im,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var c=o.get(e),u=o.get(t);if(c&&u)return c==t&&u==e;var d=-1,p=!0,h=n&om?new tm:void 0;for(o.set(e,t),o.set(t,e);++d<s;){var f=e[d],g=t[d];if(i)var m=a?i(g,f,d,t,e,o):i(f,g,d,e,t,o);if(m!==void 0){if(m)continue;p=!1;break}if(h){if(!nm(t,function(y,v){if(!rm(h,v)&&(f===y||r(f,y,n,i,o)))return h.push(v)})){p=!1;break}}else if(!(f===g||r(f,g,n,i,o))){p=!1;break}}return o.delete(e),o.delete(t),p}var ps=am,sm=wt,lm=sm.Uint8Array,cm=lm;function um(e){var t=-1,n=Array(e.size);return e.forEach(function(i,r){n[++t]=[r,i]}),n}var dm=um,Jo=Ir,Zo=cm,fm=ki,hm=ps,pm=dm,gm=ap,vm=1,mm=2,ym="[object Boolean]",bm="[object Date]",wm="[object Error]",Sm="[object Map]",_m="[object Number]",Cm="[object RegExp]",Im="[object Set]",Em="[object String]",Pm="[object Symbol]",Mm="[object ArrayBuffer]",xm="[object DataView]",Qo=Jo?Jo.prototype:void 0,oi=Qo?Qo.valueOf:void 0;function km(e,t,n,i,r,o,a){switch(n){case xm:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Mm:return!(e.byteLength!=t.byteLength||!o(new Zo(e),new Zo(t)));case ym:case bm:case _m:return fm(+e,+t);case wm:return e.name==t.name&&e.message==t.message;case Cm:case Em:return e==t+"";case Sm:var s=pm;case Im:var l=i&vm;if(s||(s=gm),e.size!=t.size&&!l)return!1;var c=a.get(e);if(c)return c==t;i|=mm,a.set(e,t);var u=hm(s(e),s(t),i,r,o,a);return a.delete(e),u;case Pm:if(oi)return oi.call(e)==oi.call(t)}return!1}var Am=km,Tm=lp,$m=bt;function Rm(e,t,n){var i=t(e);return $m(e)?i:Tm(i,n(e))}var Om=Rm;function Dm(e,t){for(var n=-1,i=e==null?0:e.length,r=0,o=[];++n<i;){var a=e[n];t(a,n,e)&&(o[r++]=a)}return o}var Fm=Dm;function Hm(){return[]}var Lm=Hm,Bm=Fm,Wm=Lm,zm=Object.prototype,Nm=zm.propertyIsEnumerable,ea=Object.getOwnPropertySymbols,jm=ea?function(e){return e==null?[]:(e=Object(e),Bm(ea(e),function(t){return Nm.call(e,t)}))}:Wm,Xm=jm,Um=Om,qm=Xm,Km=Vi;function Ym(e){return Um(e,Km,qm)}var Gm=Ym,ta=Gm,Vm=1,Jm=Object.prototype,Zm=Jm.hasOwnProperty;function Qm(e,t,n,i,r,o){var a=n&Vm,s=ta(e),l=s.length,c=ta(t),u=c.length;if(l!=u&&!a)return!1;for(var d=l;d--;){var p=s[d];if(!(a?p in t:Zm.call(t,p)))return!1}var h=o.get(e),f=o.get(t);if(h&&f)return h==t&&f==e;var g=!0;o.set(e,t),o.set(t,e);for(var m=a;++d<l;){p=s[d];var y=e[p],v=t[p];if(i)var w=a?i(v,y,p,t,e,o):i(y,v,p,e,t,o);if(!(w===void 0?y===v||r(y,v,n,i,o):w)){g=!1;break}m||(m=p=="constructor")}if(g&&!m){var I=e.constructor,_=t.constructor;I!=_&&"constructor"in e&&"constructor"in t&&!(typeof I=="function"&&I instanceof I&&typeof _=="function"&&_ instanceof _)&&(g=!1)}return o.delete(e),o.delete(t),g}var ey=Qm,ty=Jt,ny=wt,ry=ty(ny,"DataView"),iy=ry,oy=Jt,ay=wt,sy=oy(ay,"Promise"),ly=sy,cy=Jt,uy=wt,dy=cy(uy,"WeakMap"),fy=dy,Ci=iy,Ii=Ai,Ei=ly,Pi=ip,Mi=fy,gs=jn,_n=ka,na="[object Map]",hy="[object Object]",ra="[object Promise]",ia="[object Set]",oa="[object WeakMap]",aa="[object DataView]",py=_n(Ci),gy=_n(Ii),vy=_n(Ei),my=_n(Pi),yy=_n(Mi),Kt=gs;(Ci&&Kt(new Ci(new ArrayBuffer(1)))!=aa||Ii&&Kt(new Ii)!=na||Ei&&Kt(Ei.resolve())!=ra||Pi&&Kt(new Pi)!=ia||Mi&&Kt(new Mi)!=oa)&&(Kt=function(e){var t=gs(e),n=t==hy?e.constructor:void 0,i=n?_n(n):"";if(i)switch(i){case py:return aa;case gy:return na;case vy:return ra;case my:return ia;case yy:return oa}return t});var by=Kt,ai=hs,wy=ps,Sy=Am,_y=ey,sa=by,la=bt,ca=ds,Cy=fs,Iy=1,ua="[object Arguments]",da="[object Array]",fr="[object Object]",Ey=Object.prototype,fa=Ey.hasOwnProperty;function Py(e,t,n,i,r,o){var a=la(e),s=la(t),l=a?da:sa(e),c=s?da:sa(t);l=l==ua?fr:l,c=c==ua?fr:c;var u=l==fr,d=c==fr,p=l==c;if(p&&ca(e)){if(!ca(t))return!1;a=!0,u=!1}if(p&&!u)return o||(o=new ai),a||Cy(e)?wy(e,t,n,i,r,o):Sy(e,t,l,n,i,r,o);if(!(n&Iy)){var h=u&&fa.call(e,"__wrapped__"),f=d&&fa.call(t,"__wrapped__");if(h||f){var g=h?e.value():e,m=f?t.value():t;return o||(o=new ai),r(g,m,n,i,o)}}return p?(o||(o=new ai),_y(e,t,n,i,r,o)):!1}var My=Py,xy=My,ha=Xn;function vs(e,t,n,i,r){return e===t?!0:e==null||t==null||!ha(e)&&!ha(t)?e!==e&&t!==t:xy(e,t,n,i,vs,r)}var ms=vs,ky=hs,Ay=ms,Ty=1,$y=2;function Ry(e,t,n,i){var r=n.length,o=r,a=!i;if(e==null)return!o;for(e=Object(e);r--;){var s=n[r];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++r<o;){s=n[r];var l=s[0],c=e[l],u=s[1];if(a&&s[2]){if(c===void 0&&!(l in e))return!1}else{var d=new ky;if(i)var p=i(c,u,l,e,t,d);if(!(p===void 0?Ay(u,c,Ty|$y,i,d):p))return!1}}return!0}var Oy=Ry,Dy=Vt;function Fy(e){return e===e&&!Dy(e)}var ys=Fy,Hy=ys,Ly=Vi;function By(e){for(var t=Ly(e),n=t.length;n--;){var i=t[n],r=e[i];t[n]=[i,r,Hy(r)]}return t}var Wy=By;function zy(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var bs=zy,Ny=Oy,jy=Wy,Xy=bs;function Uy(e){var t=jy(e);return t.length==1&&t[0][2]?Xy(t[0][0],t[0][1]):function(n){return n===e||Ny(n,e,t)}}var qy=Uy,Ky=$a,Yy=Ar;function Gy(e,t){t=Ky(t,e);for(var n=0,i=t.length;e!=null&&n<i;)e=e[Yy(t[n++])];return n&&n==i?e:void 0}var ws=Gy,Vy=ws;function Jy(e,t,n){var i=e==null?void 0:Vy(e,t);return i===void 0?n:i}var Zy=Jy;function Qy(e,t){return e!=null&&t in Object(e)}var e0=Qy,t0=e0,n0=Da;function r0(e,t){return e!=null&&n0(e,t,t0)}var i0=r0,o0=ms,a0=Zy,s0=i0,l0=xi,c0=ys,u0=bs,d0=Ar,f0=1,h0=2;function p0(e,t){return l0(e)&&c0(t)?u0(d0(e),t):function(n){var i=a0(n,e);return i===void 0&&i===t?s0(n,e):o0(t,i,f0|h0)}}var g0=p0;function v0(e){return e}var m0=v0;function y0(e){return function(t){return t==null?void 0:t[e]}}var b0=y0,w0=ws;function S0(e){return function(t){return w0(t,e)}}var _0=S0,C0=b0,I0=_0,E0=xi,P0=Ar;function M0(e){return E0(e)?C0(P0(e)):I0(e)}var x0=M0,k0=qy,A0=g0,T0=m0,$0=bt,R0=x0;function O0(e){return typeof e=="function"?e:e==null?T0:typeof e=="object"?$0(e)?A0(e[0],e[1]):k0(e):R0(e)}var D0=O0,F0=Qp,H0=Tv,L0=D0,B0=bt;function W0(e,t){return function(n,i){var r=B0(n)?F0:H0,o=t?t():{};return r(n,e,L0(i),o)}}var z0=W0,N0=Jp,j0=z0,X0=Object.prototype,U0=X0.hasOwnProperty,q0=j0(function(e,t,n){U0.call(e,n)?e[n].push(t):N0(e,n,[t])}),K0=q0;const Y0=Gt(K0);function G0(e,t,n,i,r,o,a,s,l,c,u,d,p,h,f,g,m,y,v){if(y!==void 0||t[t.length-1]!==n[t.length-1])return;const w=is(m);Ht(t,l,a,s,o,(I,_,C,A,x)=>{if(I!==t[t.length-1])return;_+=I.width;const E=Math.max(_,A);E>i||(e.save(),e.beginPath(),e.rect(E,o+1,1e4,r-o-1),e.clip(),Fr(x,C,r,c,u,f,g,w,(R,T,M,k)=>{if(!k&&m.length>0&&!m.some(ke=>Nn(_,R,1e4,M,ke.x,ke.y,ke.width,ke.height)))return;const P=p.hasIndex(T),L=h.hasIndex(T);e.beginPath();const F=d==null?void 0:d(T),U=F===void 0?v:pn(v,F);U.bgCell!==v.bgCell&&(e.fillStyle=U.bgCell,e.fillRect(_,R,1e4,M)),L&&(e.fillStyle=U.bgHeader,e.fillRect(_,R,1e4,M)),P&&(e.fillStyle=U.accentLight,e.fillRect(_,R,1e4,M))}),e.restore())})}function V0(e,t,n,i,r,o,a,s,l){let c=!1;for(const f of t)if(!f.sticky){c=a(f.sourceIndex);break}const u=l.horizontalBorderColor??l.borderColor,d=l.borderColor,p=c?hn(t):0;let h;if(p!==0&&(h=Wo(d,l.bgCell),e.beginPath(),e.moveTo(p+.5,0),e.lineTo(p+.5,i),e.strokeStyle=h,e.stroke()),r>0){const f=d===u&&h!==void 0?h:Wo(u,l.bgCell),g=bn(o,r,s);e.beginPath(),e.moveTo(0,i-g+.5),e.lineTo(n,i-g+.5),e.strokeStyle=f,e.stroke()}}const Ss=(e,t,n)=>{let i=0,r=t,o=0,a=n;if(e!==void 0&&e.length>0){i=Number.MAX_SAFE_INTEGER,o=Number.MAX_SAFE_INTEGER,r=Number.MIN_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;for(const s of e)i=Math.min(i,s.x-1),r=Math.max(r,s.x+s.width+1),o=Math.min(o,s.y-1),a=Math.max(a,s.y+s.height+1)}return{minX:i,maxX:r,minY:o,maxY:a}};function J0(e,t,n,i,r,o,a,s,l,c,u,d,p,h,f){var M;const g=f.bgCell,{minX:m,maxX:y,minY:v,maxY:w}=Ss(s,o,a),I=[],_=a-bn(h,p,c);let C=l,A=n,x=0;for(;C+r<_;){const k=C+r,P=c(A);if(k>=v&&k<=w-1){const L=u==null?void 0:u(A),F=L==null?void 0:L.bgCell;F!==void 0&&F!==g&&A>=h-p&&I.push({x:m,y:k,w:y-m,h:P,color:F})}C+=P,A<h-p&&(x=C),A++}let E=0;const R=Math.min(_,w)-x;if(R>0)for(let k=0;k<t.length;k++){const P=t[k];if(P.width===0)continue;const L=P.sticky?E:E+i,F=(M=P.themeOverride)==null?void 0:M.bgCell;F!==void 0&&F!==g&&L>=m&&L<=y&&d(k+1)&&I.push({x:L,y:x,w:P.width,h:R,color:F}),E+=P.width}if(I.length===0)return;let T;e.beginPath();for(let k=I.length-1;k>=0;k--){const P=I[k];T===void 0?T=P.color:P.color!==T&&(e.fillStyle=T,e.fill(),e.beginPath(),T=P.color),e.rect(P.x,P.y,P.w,P.h)}T!==void 0&&(e.fillStyle=T,e.fill()),e.beginPath()}function pa(e,t,n,i,r,o,a,s,l,c,u,d,p,h,f,g,m,y=!1){if(l!==void 0){e.beginPath(),e.save(),e.rect(0,0,o,a);for(const M of l)e.rect(M.x+1,M.y+1,M.width-1,M.height-1);e.clip("evenodd")}const v=m.horizontalBorderColor??m.borderColor,w=m.borderColor,{minX:I,maxX:_,minY:C,maxY:A}=Ss(s,o,a),x=[];e.beginPath();let E=.5;for(let M=0;M<t.length;M++){const k=t[M];if(k.width===0)continue;E+=k.width;const P=k.sticky?E:E+i;P>=I&&P<=_&&h(M+1)&&x.push({x1:P,y1:Math.max(zn(c),C),x2:P,y2:Math.min(a,A),color:w})}let R=a+.5;for(let M=g-f;M<g;M++){const k=d(M);R-=k,x.push({x1:I,y1:R,x2:_,y2:R,color:v})}if(y!==!0){let M=u+.5,k=n;const P=R;for(;M+r<P;){const L=M+r;if(L>=C&&L<=A-1){const F=p==null?void 0:p(k);x.push({x1:I,y1:L,x2:_,y2:L,color:(F==null?void 0:F.horizontalBorderColor)??(F==null?void 0:F.borderColor)??v})}M+=d(k),k++}}const T=Y0(x,M=>M.color);for(const M of Object.keys(T)){e.strokeStyle=M;for(const k of T[M])e.moveTo(k.x1,k.y1),e.lineTo(k.x2,k.y2);e.stroke(),e.beginPath()}l!==void 0&&e.restore()}function Z0(e,t,n,i,r,o,a,s,l,c,u,d,p,h,f,g,m,y,v){const w=[];e.imageSmoothingEnabled=!1;const I=Math.min(r.cellYOffset,a),_=Math.max(r.cellYOffset,a);let C=0;if(typeof y=="number")C+=(_-I)*y;else for(let P=I;P<_;P++)C+=y(P);a>r.cellYOffset&&(C=-C),C+=l-r.translateY;const A=Math.min(r.cellXOffset,o),x=Math.max(r.cellXOffset,o);let E=0;for(let P=A;P<x;P++)E+=g[P].width;o>r.cellXOffset&&(E=-E),E+=s-r.translateX;const R=hn(m);if(E!==0&&C!==0)return{regions:[]};const T=c>0?bn(p,c,y):0,M=u-R-Math.abs(E),k=d-h-T-Math.abs(C)-1;if(M>150&&k>150){const P={sx:0,sy:0,sw:u*f,sh:d*f,dx:0,dy:0,dw:u*f,dh:d*f};if(C>0?(P.sy=(h+1)*f,P.sh=k*f,P.dy=(C+h+1)*f,P.dh=k*f,w.push({x:0,y:h,width:u,height:C+1})):C<0&&(P.sy=(-C+h+1)*f,P.sh=k*f,P.dy=(h+1)*f,P.dh=k*f,w.push({x:0,y:d+C-T,width:u,height:-C+T})),E>0?(P.sx=R*f,P.sw=M*f,P.dx=(E+R)*f,P.dw=M*f,w.push({x:R-1,y:0,width:E+2,height:d})):E<0&&(P.sx=(R-E)*f,P.sw=M*f,P.dx=R*f,P.dw=M*f,w.push({x:u+E,y:0,width:-E,height:d})),e.setTransform(1,0,0,1,0,0),v){if(R>0&&E!==0&&C===0&&(i===void 0||(n==null?void 0:n[1])!==!1)){const L=R*f,F=d*f;e.drawImage(t,0,0,L,F,0,0,L,F)}if(T>0&&E===0&&C!==0&&(i===void 0||(n==null?void 0:n[0])!==!1)){const L=(d-T)*f,F=u*f,U=T*f;e.drawImage(t,0,L,F,U,0,L,F,U)}}e.drawImage(t,P.sx,P.sy,P.sw,P.sh,P.dx,P.dy,P.dw,P.dh),e.scale(f,f)}return e.imageSmoothingEnabled=!0,{regions:w}}function Q0(e,t,n,i,r,o,a,s,l,c){const u=[];return t!==e.cellXOffset||n!==e.cellYOffset||i!==e.translateX||r!==e.translateY||Ht(l,n,i,r,s,(d,p,h,f)=>{if(d.sourceIndex===c){const g=Math.max(p,f)+1;return u.push({x:g,y:0,width:o-g,height:a}),!0}}),u}function eb(e,t){if(t===void 0||e.width!==t.width||e.height!==t.height||e.theme!==t.theme||e.headerHeight!==t.headerHeight||e.rowHeight!==t.rowHeight||e.rows!==t.rows||e.freezeColumns!==t.freezeColumns||e.getRowThemeOverride!==t.getRowThemeOverride||e.isFocused!==t.isFocused||e.isResizing!==t.isResizing||e.verticalBorder!==t.verticalBorder||e.getCellContent!==t.getCellContent||e.highlightRegions!==t.highlightRegions||e.selection!==t.selection||e.dragAndDropState!==t.dragAndDropState||e.prelightCells!==t.prelightCells||e.touchMode!==t.touchMode||e.maxScaleFactor!==t.maxScaleFactor)return!1;if(e.mappedColumns!==t.mappedColumns){if(e.mappedColumns.length>100||e.mappedColumns.length!==t.mappedColumns.length)return!1;let n;for(let i=0;i<e.mappedColumns.length;i++){const r=e.mappedColumns[i],o=t.mappedColumns[i];if(dn(r,o))continue;if(n!==void 0||r.width===o.width)return!1;const{width:a,...s}=r,{width:l,...c}=o;if(!dn(s,c))return!1;n=i}return n===void 0?!0:n}return!0}function ga(e,t,n,i,r,o,a,s,l,c,u,d,p,h,f,g){const m=f==null?void 0:f.filter(A=>A.style!=="no-outline");if(m===void 0||m.length===0)return;const y=hn(s),v=bn(h,p,d),w=[l,0,s.length,h-p],I=[y,0,t,n-v],_=m.map(A=>{const x=A.range,E=A.style??"dashed";return Wp(x,w,t,n,I).map(R=>{const T=R.rect,M=Si(T.x,T.y,t,n,u,c+zn(u),i,r,o,a,h,l,p,s,d),k=T.width===1&&T.height===1?M:Si(T.x+T.width-1,T.y+T.height-1,t,n,u,c+zn(u),i,r,o,a,h,l,p,s,d);return T.x+T.width>=s.length&&(k.width-=1),T.y+T.height>=h&&(k.height-=1),{color:A.color,style:E,clip:R.clip,rect:Bp({x:M.x,y:M.y,width:k.x+k.width-M.x,height:k.y+k.height-M.y},t,n,8)}})}),C=()=>{e.lineWidth=1;let A=!1;for(const x of _)for(const E of x)if((E==null?void 0:E.rect)!==void 0&&Nn(0,0,t,n,E.rect.x,E.rect.y,E.rect.width,E.rect.height)){const R=A,T=!Lp(E.clip,E.rect);e.beginPath(),T&&(e.save(),e.rect(E.clip.x,E.clip.y,E.clip.width,E.clip.height),e.clip()),E.style==="dashed"&&!A?(e.setLineDash([5,3]),A=!0):(E.style==="solid"||E.style==="solid-outline")&&A&&(e.setLineDash([]),A=!1),e.strokeStyle=E.style==="solid-outline"?et(et(E.color,g.borderColor),g.bgCell):Gn(E.color,1),e.closePath(),e.strokeRect(E.rect.x+.5,E.rect.y+.5,E.rect.width-1,E.rect.height-1),T&&(e.restore(),A=R)}A&&e.setLineDash([])};return C(),C}function va(e,t,n,i,r){e.beginPath(),e.moveTo(t,n),e.lineTo(t,i),e.lineWidth=2,e.strokeStyle=r,e.stroke(),e.globalAlpha=1}function si(e,t,n,i,r,o,a,s,l,c,u,d,p,h,f,g,m){if(u.current===void 0)return;const y=g!==!1&&g!==void 0;if(!y)return;const v=typeof g=="object"?{...vr,...g}:vr,w=u.current.range,I=u.current.cell,_=[w.x+w.width-1,w.y+w.height-1];if(I[1]>=m&&_[1]>=m||!a.some(F=>F.sourceIndex===I[0]||F.sourceIndex===_[0]))return;const[A,x]=u.current.cell,E=p(u.current.cell),R=E.span??[A,A],T=x>=m-h,M=h>0&&!T?bn(m,h,d)-1:0,k=_[1];let P;if(Ht(a,i,r,o,c,(F,U,ke,le,ze)=>{if(F.sticky&&A>F.sourceIndex)return;const Ee=F.sourceIndex<R[0],we=F.sourceIndex>R[1],K=F.sourceIndex===_[0];if(!(!K&&(Ee||we)))return Fr(ze,ke,n,m,d,h,f,void 0,(Ke,Me,z)=>{if(Me!==x&&Me!==k)return;let Ae=U,Y=F.width;if(E.span!==void 0){const fe=as(E.span,U,Ke,F.width,z,F,s),ve=F.sticky?fe[0]:fe[1];ve!==void 0&&(Ae=ve.x,Y=ve.width)}return Me===k&&K&&y&&(P=()=>{var Ge;le>Ae&&!F.sticky&&(e.beginPath(),e.rect(le,0,t-le,n),e.clip());const fe=v.size,ve=fe/2,Ye=Ae+Y+v.offsetX-ve+.5,Qe=Ke+z+v.offsetY-ve+.5;e.beginPath(),v.shape==="circle"?e.arc(Ye+ve,Qe+ve,ve,0,Math.PI*2):e.rect(Ye,Qe,fe,fe),e.fillStyle=((Ge=F.themeOverride)==null?void 0:Ge.accentColor)??l.accentColor,e.fill(),v.outline>0&&(e.lineWidth=v.outline,e.strokeStyle=l.bgCell,v.shape==="circle"?(e.beginPath(),e.arc(Ye+ve,Qe+ve,ve+v.outline/2,0,Math.PI*2),e.stroke()):e.strokeRect(Ye-v.outline/2,Qe-v.outline/2,fe+v.outline,fe+v.outline))}),P!==void 0}),P!==void 0}),P===void 0)return;const L=()=>{e.save(),e.beginPath(),e.rect(0,c,t,n-c-M),e.clip(),P==null||P(),e.restore()};return L(),L}function tb(e,t,n,i,r,o,a,s,l){if(l===void 0||l.size===0)return;e.beginPath();const c=Yi(t),u=Array.isArray(i)?i:Array.from({length:c},()=>i);for(let d=0;d<c;d++){const p=-2-d;os(t,n,o,u[d]??u[0]??0,d,(h,f,g,m,y,v)=>{l.hasItemInRectangle({x:h[0],y:p,width:h[1]-h[0]+1,height:1})&&e.rect(g,m,y,v)})}Ht(t,s,o,a,r,(d,p,h,f)=>{const g=Math.max(0,f-p),m=p+g+1,y=d.width-g-1;if(l.has([d.sourceIndex,-1])){const v=Array.isArray(i)?i.reduce((w,I)=>w+I,0):i;e.rect(m,v,y,r-v)}}),e.clip()}function nb(e,t,n,i,r,o,a,s,l,c){let u=0;return Ht(e,o,i,r,n,(d,p,h,f,g)=>(Fr(g,h,t,a,s,l,c,void 0,(m,y,v,w)=>{w||(u=Math.max(y,u))}),!0)),u}function ma(e,t){var Bt;const{canvasCtx:n,headerCanvasCtx:i,width:r,height:o,cellXOffset:a,cellYOffset:s,translateX:l,translateY:c,mappedColumns:u,enableGroups:d,freezeColumns:p,dragAndDropState:h,theme:f,drawFocus:g,headerHeight:m,groupHeaderHeight:y,disabledRows:v,rowHeight:w,verticalBorder:I,overrideCursor:_,isResizing:C,selection:A,fillHandle:x,freezeTrailingRows:E,rows:R,getCellContent:T,getGroupDetails:M,getRowThemeOverride:k,isFocused:P,drawHeaderCallback:L,drawGroupHeaderCallback:F,prelightCells:U,drawCellCallback:ke,highlightRegions:le,resizeCol:ze,imageLoader:Ee,lastBlitData:we,hoverValues:K,hyperWrapping:Ke,hoverInfo:Me,spriteManager:z,maxScaleFactor:Ae,hasAppendRow:Y,touchMode:Ne,enqueue:fe,renderStateProvider:ve,getCellRenderer:Ye,renderStrategy:Qe,bufferACtx:Ge,bufferBCtx:$e,damage:je,minimumCellWidth:xt,resizeIndicator:kt}=e;if(r===0||o===0)return;const nt=Qe==="double-buffer",te=Math.min(Ae,Math.ceil(window.devicePixelRatio??1)),at=Qe!=="direct"&&eb(e,t),Re=n.canvas;(Re.width!==r*te||Re.height!==o*te)&&(Re.width=r*te,Re.height=o*te,Re.style.width=r+"px",Re.style.height=o+"px");const Xe=i.canvas,Oe=d?zn(y,u):0,ee=m+Oe,me=ee+1;(Xe.width!==r*te||Xe.height!==me*te)&&(Xe.width=r*te,Xe.height=me*te,Xe.style.width=r+"px",Xe.style.height=me+"px");const re=Ge.canvas,rt=$e.canvas;nt&&(re.width!==r*te||re.height!==o*te)&&(re.width=r*te,re.height=o*te,we.current!==void 0&&(we.current.aBufferScroll=void 0)),nt&&(rt.width!==r*te||rt.height!==o*te)&&(rt.width=r*te,rt.height=o*te,we.current!==void 0&&(we.current.bBufferScroll=void 0));const O=we.current;if(at===!0&&a===(O==null?void 0:O.cellXOffset)&&s===(O==null?void 0:O.cellYOffset)&&l===(O==null?void 0:O.translateX)&&c===(O==null?void 0:O.translateY))return;let Se=null;nt&&(Se=n);const _e=i;let N;nt?je!==void 0?N=(O==null?void 0:O.lastBuffer)==="b"?$e:Ge:N=(O==null?void 0:O.lastBuffer)==="b"?Ge:$e:N=n;const Te=N.canvas,Pe=nt?Te===re?rt:re:Re,ie=typeof w=="number"?()=>w:w;_e.save(),N.save(),_e.beginPath(),N.beginPath(),_e.textBaseline="middle",N.textBaseline="middle",te!==1&&(_e.scale(te,te),N.scale(te,te));const se=wi(u,a,r,h,l);let We=[];const it=g&&((Bt=A.current)==null?void 0:Bt.cell[1])===s&&c===0;let xe=!1;if(le!==void 0){for(const ce of le)if(ce.style!=="no-outline"&&ce.range.y===s&&c===0){xe=!0;break}}const st=()=>{jp(_e,se,d,Me,r,l,m,y,h,C,A,f,z,K,I,M,je,L,F,Ne),pa(_e,se,s,l,c,r,o,void 0,void 0,y,ee,ie,k,I,E,R,f,!0),_e.beginPath(),_e.moveTo(0,me-.5),_e.lineTo(r,me-.5),_e.strokeStyle=et(f.headerBottomBorderColor??f.horizontalBorderColor??f.borderColor,f.bgHeader),_e.stroke(),xe&&ga(_e,r,o,a,s,l,c,u,p,m,y,w,E,R,le,f),it&&si(_e,r,o,s,l,c,se,u,f,ee,A,ie,T,E,Y,x,R)};if(je!==void 0){const ce=se[se.length-1].sourceIndex+1,lt=je.hasItemInRegion([{x:a,y:-2,width:ce,height:2},{x:a,y:s,width:ce,height:300},{x:0,y:s,width:p,height:300},{x:0,y:-2,width:p,height:2},{x:a,y:R-E,width:ce,height:E,when:E>0}]),_t=ct=>{Uo(ct,se,u,o,ee,l,c,s,R,ie,T,M,k,v,P,g,E,Y,We,je,A,U,le,Ee,z,K,Me,ke,Ke,f,fe,ve,Ye,_,xt);const J=A.current;x!==!1&&x!==void 0&&g&&J!==void 0&&je.has(Ga(J.range))&&si(ct,r,o,s,l,c,se,u,f,ee,A,ie,T,E,Y,x,R)};lt&&(_t(N),Se!==null&&(Se.save(),Se.scale(te,te),Se.textBaseline="middle",_t(Se),Se.restore()),je.hasHeader()&&(tb(_e,se,r,y,ee,l,c,s,je),st())),N.restore(),_e.restore();return}if((at!==!0||a!==(O==null?void 0:O.cellXOffset)||l!==(O==null?void 0:O.translateX)||it!==(O==null?void 0:O.mustDrawFocusOnHeader)||xe!==(O==null?void 0:O.mustDrawHighlightRingsOnHeader))&&st(),at===!0){Et(Pe!==void 0&&O!==void 0);const{regions:ce}=Z0(N,Pe,Pe===re?O.aBufferScroll:O.bBufferScroll,Pe===re?O.bBufferScroll:O.aBufferScroll,O,a,s,l,c,E,r,o,R,ee,te,u,se,w,nt);We=ce}else at!==!1&&(Et(O!==void 0),We=Q0(O,a,s,l,c,r,o,ee,se,at));V0(N,se,r,o,E,R,I,ie,f);const Ue=ga(N,r,o,a,s,l,c,u,p,m,y,w,E,R,le,f),At=g?si(N,r,o,s,l,c,se,u,f,ee,A,ie,T,E,Y,x,R):void 0;if(N.fillStyle=f.bgCell,We.length>0){N.beginPath();for(const ce of We)N.rect(ce.x,ce.y,ce.width,ce.height);N.clip(),N.fill(),N.beginPath()}else N.fillRect(0,0,r,o);const Zt=Uo(N,se,u,o,ee,l,c,s,R,ie,T,M,k,v,P,g,E,Y,We,je,A,U,le,Ee,z,K,Me,ke,Ke,f,fe,ve,Ye,_,xt);G0(N,se,u,r,o,ee,l,c,s,R,ie,k,A.rows,v,E,Y,We,je,f),J0(N,se,s,l,c,r,o,We,ee,ie,k,I,E,R,f),pa(N,se,s,l,c,r,o,We,Zt,y,ee,ie,k,I,E,R,f),Ue==null||Ue(),At==null||At(),C&&kt!=="none"&&Ht(se,0,l,0,ee,(ce,lt)=>ce.sourceIndex===ze?(va(_e,lt+ce.width,0,ee+1,et(f.resizeIndicatorColor??f.accentLight,f.bgHeader)),kt==="full"&&va(N,lt+ce.width,ee,o,et(f.resizeIndicatorColor??f.accentLight,f.bgCell)),!0):!1),Se!==null&&(Se.fillStyle=f.bgCell,Se.fillRect(0,0,r,o),Se.drawImage(N.canvas,0,0));const Ce=nb(se,o,ee,l,c,s,R,ie,E,Y);Ee==null||Ee.setWindow({x:a,y:s,width:se.length,height:Ce-s},p,Array.from({length:E},(ce,lt)=>R-1-lt));const Lt=O!==void 0&&(a!==O.cellXOffset||l!==O.translateX),St=O!==void 0&&(s!==O.cellYOffset||c!==O.translateY);we.current={cellXOffset:a,cellYOffset:s,translateX:l,translateY:c,mustDrawFocusOnHeader:it,mustDrawHighlightRingsOnHeader:xe,lastBuffer:nt?Te===re?"a":"b":void 0,aBufferScroll:Te===re?[Lt,St]:O==null?void 0:O.aBufferScroll,bBufferScroll:Te===rt?[Lt,St]:O==null?void 0:O.bBufferScroll},N.restore(),_e.restore()}const rb=80;function ib(e){const t=e-1;return t*t*t+1}class ob{constructor(t){Q(this,"currentHoveredItem");Q(this,"leavingItems",[]);Q(this,"lastAnimationTime");Q(this,"addToLeavingItems",t=>{this.leavingItems.some(i=>hr(i.item,t.item))||this.leavingItems.push(t)});Q(this,"removeFromLeavingItems",t=>{const n=this.leavingItems.find(i=>hr(i.item,t));return this.leavingItems=this.leavingItems.filter(i=>i!==n),(n==null?void 0:n.hoverAmount)??0});Q(this,"cleanUpLeavingElements",()=>{this.leavingItems=this.leavingItems.filter(t=>t.hoverAmount>0)});Q(this,"shouldStep",()=>{const t=this.leavingItems.length>0,n=this.currentHoveredItem!==void 0&&this.currentHoveredItem.hoverAmount<1;return t||n});Q(this,"getAnimatingItems",()=>this.currentHoveredItem!==void 0?[...this.leavingItems,this.currentHoveredItem]:this.leavingItems.map(t=>({...t,hoverAmount:ib(t.hoverAmount)})));Q(this,"step",t=>{if(this.lastAnimationTime===void 0)this.lastAnimationTime=t;else{const i=(t-this.lastAnimationTime)/rb;for(const o of this.leavingItems)o.hoverAmount=wr(o.hoverAmount-i,0,1);this.currentHoveredItem!==void 0&&(this.currentHoveredItem.hoverAmount=wr(this.currentHoveredItem.hoverAmount+i,0,1));const r=this.getAnimatingItems();this.callback(r),this.cleanUpLeavingElements()}this.shouldStep()?(this.lastAnimationTime=t,window.requestAnimationFrame(this.step)):this.lastAnimationTime=void 0});Q(this,"setHovered",t=>{var n;if(!hr((n=this.currentHoveredItem)==null?void 0:n.item,t)){if(this.currentHoveredItem!==void 0&&this.addToLeavingItems(this.currentHoveredItem),t!==void 0){const i=this.removeFromLeavingItems(t);this.currentHoveredItem={item:t,hoverAmount:i}}else this.currentHoveredItem=void 0;this.lastAnimationTime===void 0&&window.requestAnimationFrame(this.step)}});this.callback=t}}class ab{constructor(t){Q(this,"fn");Q(this,"val");this.fn=t}get value(){return this.val??(this.val=this.fn())}}function Ji(e){return new ab(e)}const sb=Ji(()=>window.navigator.userAgent.includes("Firefox")),ya=Ji(()=>window.navigator.userAgent.includes("Mac OS")&&window.navigator.userAgent.includes("Safari")&&!window.navigator.userAgent.includes("Chrome")),Mw=Ji(()=>window.navigator.platform.toLowerCase().startsWith("mac"));function lb(e){const t=b.useRef([]),n=b.useRef(0),i=b.useRef(e);i.current=e;const r=b.useCallback(()=>{const o=()=>window.requestAnimationFrame(a),a=()=>{const s=t.current.map(qi);t.current=[],i.current(new Bn(s)),t.current.length>0?n.current++:n.current=0};window.requestAnimationFrame(n.current>600?o:a)},[]);return b.useCallback(o=>{t.current.length===0&&r();const a=ft(o[0],o[1]);t.current.includes(a)||t.current.push(a)},[r])}const qt="header",$n="group-header",ba="out-of-bounds";var On=(e=>(e[e.Start=-2]="Start",e[e.StartPadding=-1]="StartPadding",e[e.Center=0]="Center",e[e.EndPadding=1]="EndPadding",e[e.End=2]="End",e))(On||{});function cb(e,t){return e===t?!0:(e==null?void 0:e.kind)==="out-of-bounds"?(e==null?void 0:e.kind)===(t==null?void 0:t.kind)&&(e==null?void 0:e.location[0])===(t==null?void 0:t.location[0])&&(e==null?void 0:e.location[1])===(t==null?void 0:t.location[1])&&(e==null?void 0:e.region[0])===(t==null?void 0:t.region[0])&&(e==null?void 0:e.region[1])===(t==null?void 0:t.region[1]):(e==null?void 0:e.kind)===(t==null?void 0:t.kind)&&(e==null?void 0:e.location[0])===(t==null?void 0:t.location[0])&&(e==null?void 0:e.location[1])===(t==null?void 0:t.location[1])}const ub=(e,t)=>{if(e.kind===ne.Custom)return e.copyData;const n=t==null?void 0:t(e);return(n==null?void 0:n.getAccessibilityString(e))??""},db=(e,t)=>{const{width:n,height:i,accessibilityHeight:r,columns:o,cellXOffset:a,cellYOffset:s,headerHeight:l,fillHandle:c=!1,groupHeaderHeight:u,rowHeight:d,rows:p,getCellContent:h,getRowThemeOverride:f,onHeaderMenuClick:g,onHeaderIndicatorClick:m,enableGroups:y,isFilling:v,onCanvasFocused:w,onCanvasBlur:I,isFocused:_,selection:C,freezeColumns:A,onContextMenu:x,freezeTrailingRows:E,fixedShadowX:R=!0,fixedShadowY:T=!0,drawFocusRing:M,onMouseDown:k,onMouseUp:P,onMouseMoveRaw:L,onMouseMove:F,onItemHovered:U,dragAndDropState:ke,firstColAccessible:le,onKeyDown:ze,onKeyUp:Ee,highlightRegions:we,canvasRef:K,onDragStart:Ke,onDragEnd:Me,eventTargetRef:z,isResizing:Ae,resizeColumn:Y,isDragging:Ne,isDraggable:fe=!1,allowResize:ve,disabledRows:Ye,hasAppendRow:Qe,getGroupDetails:Ge,theme:$e,prelightCells:je,headerIcons:xt,verticalBorder:kt,drawCell:nt,drawHeader:te,drawGroupHeader:at,onCellFocused:Re,onDragOverCell:Xe,onDrop:Oe,onDragLeave:ee,imageWindowLoader:me,smoothScrollX:re=!1,smoothScrollY:rt=!1,experimental:O,getCellRenderer:Se,resizeIndicator:_e="full"}=e,N=e.translateX??0,Te=e.translateY??0,Pe=Math.max(A,Math.min(o.length-1,a)),ie=b.useRef(null),se=b.useRef((O==null?void 0:O.eventTarget)??window),We=se.current,it=me,xe=b.useRef(void 0),[st,Ue]=b.useState(!1),At=b.useRef([]),Zt=b.useRef(void 0),[Ce,Lt]=b.useState(),[St,Bt]=b.useState(),ce=b.useRef(null),[lt,_t]=b.useState(),[ct,J]=b.useState(!1),De=b.useRef(ct);De.current=ct;const Ie=b.useMemo(()=>new Dp(xt,()=>{Zn.current=void 0,In.current()}),[xt]),Cn=y?Array.isArray(u)?u.reduce((S,$)=>S+$,0):u:0,Ve=l+Cn,Ct=b.useRef(-1),Hr=((O==null?void 0:O.enableFirefoxRescaling)??!1)&&sb.value,Lr=((O==null?void 0:O.enableSafariRescaling)??!1)&&ya.value;b.useLayoutEffect(()=>{window.devicePixelRatio===1||!Hr&&!Lr||(Ct.current!==-1&&Ue(!0),window.clearTimeout(Ct.current),Ct.current=window.setTimeout(()=>{Ue(!1),Ct.current=-1},200))},[s,Pe,N,Te,Hr,Lr]);const he=Ch(o,A),Br=b.useMemo(()=>R?hn(he,ke):0,[he,ke,R]),He=b.useCallback((S,$,B)=>{const W=S.getBoundingClientRect();if($>=he.length||B>=p)return;const D=W.width/n,H=Si($,B,n,i,u,Ve,Pe,s,N,Te,p,A,E,he,d);return D!==1&&(H.x*=D,H.y*=D,H.width*=D,H.height*=D),H.x+=W.x,H.y+=W.y,H},[n,i,u,Ve,Pe,s,N,Te,p,A,E,he,d]),Le=b.useCallback((S,$,B,W)=>{const D=S.getBoundingClientRect(),H=D.width/n,q=($-D.left)/H,Z=(B-D.top)/H,j=5,Be=wi(he,Pe,n,void 0,N);let X=0,oe=0;const ye=typeof PointerEvent<"u"&&W instanceof PointerEvent&&W.pointerType==="mouse"||typeof MouseEvent<"u"&&W instanceof MouseEvent,pe=typeof PointerEvent<"u"&&W instanceof PointerEvent&&W.pointerType==="touch"||typeof TouchEvent<"u"&&W instanceof TouchEvent;ye&&(X=W.button,oe=W.buttons);const ue=Mh(q,Be,N),ge=xh(Z,i,y,l,u,p,d,s,Te,E),Fe=(W==null?void 0:W.shiftKey)===!0,It=(W==null?void 0:W.ctrlKey)===!0,Tt=(W==null?void 0:W.metaKey)===!0,ht=[q<0?-1:n<q?1:0,Z<Ve?-1:i<Z?1:0];let $t;if(ue===-1||Z<0||q<0||ge===void 0||q>n||Z>i){const de=q>n?1:q<0?-1:0,Rt=Z>i?1:Z<0?-1:0;let ot=de*2,Kr=Rt*2;de===0&&(ot=ue===-1?On.EndPadding:On.Center),Rt===0&&(Kr=ge===void 0?On.EndPadding:On.Center);let rn=!1;if(ue===-1&&ge===-1){const on=He(S,he.length-1,-1);Et(on!==void 0),rn=$<on.x+on.width+j}const Pn=q>n&&q<n+Ho()||Z>i&&Z<i+Ho();$t={kind:ba,location:[ue!==-1?ue:q<0?0:he.length-1,ge??p-1],region:[ot,Kr],shiftKey:Fe,ctrlKey:It,metaKey:Tt,isEdge:rn,isTouch:pe,button:X,buttons:oe,scrollEdge:ht,isMaybeScrollbar:Pn}}else if(ge<=-1){let de=He(S,ue,ge);Et(de!==void 0);let Rt=de!==void 0&&de.x+de.width-$<=j;const ot=ue-1;$-de.x<=j&&ot>=0?(Rt=!0,de=He(S,ot,ge),Et(de!==void 0),$t={kind:y&&ge<=-2?$n:qt,location:[ot,ge],bounds:de,group:ge<=-2?Array.isArray(he[ot].group)?he[ot].group[-2-ge]??"":ge===-2?he[ot].group??"":"":"",isEdge:Rt,shiftKey:Fe,ctrlKey:It,metaKey:Tt,isTouch:pe,localEventX:$-de.x,localEventY:B-de.y,button:X,buttons:oe,scrollEdge:ht}):$t={kind:y&&ge<=-2?$n:qt,group:ge<=-2?Array.isArray(he[ue].group)?he[ue].group[-2-ge]??"":ge===-2?he[ue].group??"":"":"",location:[ue,ge],bounds:de,isEdge:Rt,shiftKey:Fe,ctrlKey:It,metaKey:Tt,isTouch:pe,localEventX:$-de.x,localEventY:B-de.y,button:X,buttons:oe,scrollEdge:ht}}else{const de=He(S,ue,ge);Et(de!==void 0);const Rt=de!==void 0&&de.x+de.width-$<j;let ot=!1;if(c!==!1&&c!==void 0&&C.current!==void 0){const rn=typeof c=="object"?{...vr,...c}:vr,Pn=rn.size,on=Pn/2,ho=Ga(C.current.range),Mn=He(S,ho[0],ho[1]);if(Mn!==void 0){const qs=Mn.x+Mn.width+rn.offsetX-on+.5,Ks=Mn.y+Mn.height+rn.offsetY-on+.5;ot=Math.abs(qs-$)<Pn&&Math.abs(Ks-B)<Pn}}$t={kind:"cell",location:[ue,ge],bounds:de,isEdge:Rt,shiftKey:Fe,ctrlKey:It,isFillHandle:ot,metaKey:Tt,isTouch:pe,localEventX:$-de.x,localEventY:B-de.y,button:X,buttons:oe,scrollEdge:ht}}return $t},[n,he,Pe,N,i,y,l,u,p,d,s,Te,E,He,c,C,Ve]),[Wt]=Ce??[],Zi=b.useRef(()=>{}),Qt=b.useRef(Ce);Qt.current=Ce;const[zt,Nt]=b.useMemo(()=>{const S=document.createElement("canvas"),$=document.createElement("canvas");return S.style.display="none",S.style.opacity="0",S.style.position="fixed",$.style.display="none",$.style.opacity="0",$.style.position="fixed",[S.getContext("2d",{alpha:!1}),$.getContext("2d",{alpha:!1})]},[]);b.useLayoutEffect(()=>{if(!(zt===null||Nt===null))return document.documentElement.append(zt.canvas),document.documentElement.append(Nt.canvas),()=>{zt.canvas.remove(),Nt.canvas.remove()}},[zt,Nt]);const Jn=b.useMemo(()=>new Hh,[]),Qi=Hr&&st?1:Lr&&st?2:5,eo=(O==null?void 0:O.disableMinimumCellWidth)===!0?1:10,Zn=b.useRef(void 0),Qn=b.useRef(null),er=b.useRef(null),tr=b.useCallback(()=>{var q;const S=ie.current,$=ce.current;if(S===null||$===null||(Qn.current===null&&(Qn.current=S.getContext("2d",{alpha:!1}),S.width=0,S.height=0),er.current===null&&(er.current=$.getContext("2d",{alpha:!1}),$.width=0,$.height=0),Qn.current===null||er.current===null||zt===null||Nt===null))return;let B=!1;const W=Z=>{B=!0,_t(Z)},D=Zn.current,H={headerCanvasCtx:er.current,canvasCtx:Qn.current,bufferACtx:zt,bufferBCtx:Nt,width:n,height:i,cellXOffset:Pe,cellYOffset:s,translateX:Math.round(N),translateY:Math.round(Te),mappedColumns:he,enableGroups:y,freezeColumns:A,dragAndDropState:ke,theme:$e,headerHeight:l,groupHeaderHeight:u,disabledRows:Ye??hi.empty(),rowHeight:d,verticalBorder:kt,isResizing:Ae,resizeCol:Y,isFocused:_,selection:C,fillHandle:c,drawCellCallback:nt,hasAppendRow:Qe,overrideCursor:W,maxScaleFactor:Qi,freezeTrailingRows:E,rows:p,drawFocus:M,getCellContent:h,getGroupDetails:Ge??(Z=>({name:Z})),getRowThemeOverride:f,drawHeaderCallback:te,drawGroupHeaderCallback:at,prelightCells:je,highlightRegions:we,imageLoader:it,lastBlitData:Zt,damage:xe.current,hoverValues:At.current,hoverInfo:Qt.current,spriteManager:Ie,scrolling:st,hyperWrapping:(O==null?void 0:O.hyperWrapping)??!1,touchMode:ct,enqueue:Zi.current,renderStateProvider:Jn,renderStrategy:(O==null?void 0:O.renderStrategy)??(ya.value?"double-buffer":"single-buffer"),getCellRenderer:Se,minimumCellWidth:eo,resizeIndicator:_e};H.damage===void 0?(Zn.current=H,ma(H,D)):ma(H,void 0),!B&&(H.damage===void 0||H.damage.has((q=Qt==null?void 0:Qt.current)==null?void 0:q[0]))&&_t(void 0)},[zt,Nt,n,i,Pe,s,N,Te,he,y,A,ke,$e,l,u,Ye,d,kt,Ae,Qe,Y,_,C,c,E,p,M,Qi,h,Ge,f,nt,te,at,je,we,it,Ie,st,O==null?void 0:O.hyperWrapping,O==null?void 0:O.renderStrategy,ct,Jn,Se,eo,_e]),In=b.useRef(tr);b.useLayoutEffect(()=>{tr(),In.current=tr},[tr]),b.useLayoutEffect(()=>{(async()=>{var $;(($=document==null?void 0:document.fonts)==null?void 0:$.ready)!==void 0&&(await document.fonts.ready,Zn.current=void 0,In.current())})()},[]);const en=b.useCallback(S=>{xe.current=S,In.current(),xe.current=void 0},[]),Is=lb(en);Zi.current=Is;const to=b.useCallback(S=>{en(new Bn(S.map($=>$.cell)))},[en]);it.setCallback(en);const[Es,Ps]=b.useState(!1),[jt,tn]=Wt??[],Ms=jt!==void 0&&tn===-1&&jt>=0&&jt<he.length&&he[jt].headerRowMarkerDisabled!==!0,xs=jt!==void 0&&tn===-2;let no=!1,ro=!1,nr=lt;if(nr===void 0&&jt!==void 0&&tn!==void 0&&tn>-1&&tn<p){const S=h([jt,tn],!0);no=S.kind===Wn.NewRow||S.kind===Wn.Marker&&S.markerKind!=="number",ro=S.kind===ne.Boolean&&Hi(S),nr=S.cursor}const io=Ne?"grabbing":(St??!1)||Ae?"col-resize":Es||v?"crosshair":nr!==void 0?nr:Ms||no||ro||xs?"pointer":"default",Wr=b.useMemo(()=>({contain:"strict",display:"block",cursor:io}),[io]),oo=b.useRef("default"),zr=z==null?void 0:z.current;zr!=null&&oo.current!==Wr.cursor&&(zr.style.cursor=oo.current=Wr.cursor);const rr=b.useCallback((S,$,B,W)=>{if(Ge===void 0)return;const D=Ge(S);if(D.actions!==void 0){const H=ls($,D.actions);for(const[q,Z]of H.entries())if(cn(Z,B+$.x,W+Z.y))return D.actions[q]}},[Ge]),nn=b.useCallback((S,$,B,W)=>{const D=he[$];if(!Ne&&!Ae&&!(St??!1)){const H=He(S,$,-1);Et(H!==void 0);const q=cs(void 0,D,H.x,H.y,H.width,H.height,$e,ji(D.title)==="rtl");if(D.hasMenu===!0&&q.menuBounds!==void 0&&cn(q.menuBounds,B,W))return{area:"menu",bounds:q.menuBounds};if(D.indicatorIcon!==void 0&&q.indicatorIconBounds!==void 0&&cn(q.indicatorIconBounds,B,W))return{area:"indicator",bounds:q.indicatorIconBounds}}},[he,He,St,Ne,Ae,$e]),Nr=b.useRef(0),En=b.useRef(void 0),jr=b.useRef(!1),ks=b.useCallback(S=>{const $=ie.current,B=z==null?void 0:z.current;if($===null||S.target!==$&&S.target!==B)return;jr.current=!0;const W=S.clientX,D=S.clientY;if(S.target===B&&B!==null){const q=B.getBoundingClientRect();if(W>q.right||D>q.bottom)return}const H=Le($,W,D,S);En.current=H.location,H.isTouch&&(Nr.current=Date.now()),De.current!==H.isTouch&&J(H.isTouch),!(H.kind===qt&&nn($,H.location[0],W,D)!==void 0)&&(H.kind===$n&&rr(H.group,H.bounds,H.localEventX,H.localEventY)!==void 0||(k==null||k(H),!H.isTouch&&fe!==!0&&fe!==H.kind&&H.button<3&&H.button!==1&&S.preventDefault()))},[z,fe,Le,rr,nn,k]);pt("pointerdown",ks,We,!1);const ao=b.useRef(0),As=b.useCallback(S=>{var oe,ye;const $=ao.current;ao.current=Date.now();const B=ie.current;if(jr.current=!1,P===void 0||B===null)return;const W=z==null?void 0:z.current,D=S.target!==B&&S.target!==W,H=S.clientX,q=S.clientY,Z=S.pointerType==="mouse"?S.button<3:!0;let j=Le(B,H,q,S);j.isTouch&&Nr.current!==0&&Date.now()-Nr.current>500&&(j={...j,isLongTouch:!0}),$!==0&&Date.now()-$<(j.isTouch?1e3:500)&&(j={...j,isDoubleClick:!0}),De.current!==j.isTouch&&J(j.isTouch),!D&&S.cancelable&&Z&&S.preventDefault();const[Be]=j.location,X=nn(B,Be,H,q);if(j.kind===qt&&X!==void 0){(j.button!==0||((oe=En.current)==null?void 0:oe[0])!==Be||((ye=En.current)==null?void 0:ye[1])!==-1)&&P(j,!0);return}else if(j.kind===$n){const pe=rr(j.group,j.bounds,j.localEventX,j.localEventY);if(pe!==void 0){j.button===0&&pe.onClick(j);return}}P(j,D)},[P,z,Le,nn,rr]);pt("pointerup",As,We,!1);const Ts=b.useCallback(S=>{var Be,X;const $=ie.current;if($===null)return;const B=z==null?void 0:z.current,W=S.target!==$&&S.target!==B;let D,H,q=!0;S instanceof MouseEvent?(D=S.clientX,H=S.clientY,q=S.button<3):(D=S.changedTouches[0].clientX,H=S.changedTouches[0].clientY);const Z=Le($,D,H,S);De.current!==Z.isTouch&&J(Z.isTouch),!W&&S.cancelable&&q&&S.preventDefault();const[j]=Z.location;if(Z.kind===qt){const oe=nn($,j,D,H);oe!==void 0&&Z.button===0&&((Be=En.current)==null?void 0:Be[0])===j&&((X=En.current)==null?void 0:X[1])===-1&&(oe.area==="menu"?g==null||g(j,oe.bounds):oe.area==="indicator"&&(m==null||m(j,oe.bounds)))}},[z,Le,nn,g,m]);pt("click",Ts,We,!1);const $s=b.useCallback(S=>{const $=ie.current,B=z==null?void 0:z.current;if($===null||S.target!==$&&S.target!==B||x===void 0)return;const W=Le($,S.clientX,S.clientY,S);x(W,()=>{S.cancelable&&S.preventDefault()})},[z,Le,x]);pt("contextmenu",$s,(z==null?void 0:z.current)??null,!1);const so=b.useCallback(S=>{xe.current=new Bn(S.map($=>$.item)),At.current=S,In.current(),xe.current=void 0},[]),lo=b.useMemo(()=>new ob(so),[so]),co=b.useRef(lo);co.current=lo,b.useLayoutEffect(()=>{const S=co.current;if(Wt===void 0||Wt[1]<0){S.setHovered(Wt);return}const $=h(Wt,!0),B=Se($),W=B===void 0&&$.kind===ne.Custom||(B==null?void 0:B.needsHover)!==void 0&&(typeof B.needsHover=="boolean"?B.needsHover:B.needsHover($));S.setHovered(W?Wt:void 0)},[h,Se,Wt]);const uo=b.useRef(void 0),Rs=b.useCallback(S=>{var Z;const $=ie.current;if($===null)return;const B=z==null?void 0:z.current,W=S.target!==$&&S.target!==B,D=Le($,S.clientX,S.clientY,S);if(D.kind!=="out-of-bounds"&&W&&!jr.current&&!D.isTouch)return;const H=(j,Be)=>{Lt(X=>X===j||(X==null?void 0:X[0][0])===(j==null?void 0:j[0][0])&&(X==null?void 0:X[0][1])===(j==null?void 0:j[0][1])&&((X==null?void 0:X[1][0])===(j==null?void 0:j[1][0])&&(X==null?void 0:X[1][1])===(j==null?void 0:j[1][1])||!Be)?X:j)};if(!cb(D,uo.current))_t(void 0),U==null||U(D),H(D.kind===ba?void 0:[D.location,[D.localEventX,D.localEventY]],!0),uo.current=D;else if(D.kind==="cell"||D.kind===qt||D.kind===$n){let j=!1,Be=!0;if(D.kind==="cell"){const oe=h(D.location);Be=((Z=Se(oe))==null?void 0:Z.needsHoverPosition)??oe.kind===ne.Custom,j=Be}else j=!0;const X=[D.location,[D.localEventX,D.localEventY]];H(X,Be),Qt.current=X,j&&en(new Bn([D.location]))}const q=D.location[0]>=(le?0:1);Bt(D.kind===qt&&D.isEdge&&q&&ve===!0),Ps(D.kind==="cell"&&D.isFillHandle),L==null||L(S),F(D)},[z,Le,le,ve,L,F,U,h,Se,en]);pt("pointermove",Rs,We,!0);const Os=b.useCallback(S=>{const $=ie.current;if($===null)return;let B,W;C.current!==void 0&&(B=He($,C.current.cell[0],C.current.cell[1]),W=C.current.cell),ze==null||ze({bounds:B,stopPropagation:()=>S.stopPropagation(),preventDefault:()=>S.preventDefault(),cancel:()=>{},ctrlKey:S.ctrlKey,metaKey:S.metaKey,shiftKey:S.shiftKey,altKey:S.altKey,key:S.key,keyCode:S.keyCode,rawEvent:S,location:W})},[ze,C,He]),Ds=b.useCallback(S=>{const $=ie.current;if($===null)return;let B,W;C.current!==void 0&&(B=He($,C.current.cell[0],C.current.cell[1]),W=C.current.cell),Ee==null||Ee({bounds:B,stopPropagation:()=>S.stopPropagation(),preventDefault:()=>S.preventDefault(),cancel:()=>{},ctrlKey:S.ctrlKey,metaKey:S.metaKey,shiftKey:S.shiftKey,altKey:S.altKey,key:S.key,keyCode:S.keyCode,rawEvent:S,location:W})},[Ee,C,He]),Fs=b.useCallback(S=>{if(ie.current=S,K!==void 0&&(K.current=S),O!=null&&O.eventTarget)se.current=O.eventTarget;else if(S===null)se.current=window;else{const $=S.getRootNode();$===document&&(se.current=window),se.current=$}},[K,O==null?void 0:O.eventTarget]),Hs=b.useCallback(S=>{const $=ie.current;if($===null||fe===!1||Ae){S.preventDefault();return}let B,W;const D=Le($,S.clientX,S.clientY);if(fe!==!0&&D.kind!==fe){S.preventDefault();return}const H=(oe,ye)=>{B=oe,W=ye};let q,Z,j;const Be=(oe,ye,pe)=>{q=oe,Z=ye,j=pe};let X=!1;if(Ke==null||Ke({...D,setData:H,setDragImage:Be,preventDefault:()=>X=!0,defaultPrevented:()=>X}),!X&&B!==void 0&&W!==void 0&&S.dataTransfer!==null)if(S.dataTransfer.setData(B,W),S.dataTransfer.effectAllowed="copyLink",q!==void 0&&Z!==void 0&&j!==void 0)S.dataTransfer.setDragImage(q,Z,j);else{const[oe,ye]=D.location;if(ye!==void 0){const pe=document.createElement("canvas"),ue=He($,oe,ye);Et(ue!==void 0);const ge=Math.ceil(window.devicePixelRatio??1);pe.width=ue.width*ge,pe.height=ue.height*ge;const Fe=pe.getContext("2d");Fe!==null&&(Fe.scale(ge,ge),Fe.textBaseline="middle",ye===-1?(Fe.font=$e.headerFontFull,Fe.fillStyle=$e.bgHeader,Fe.fillRect(0,0,pe.width,pe.height),us(Fe,0,0,ue.width,ue.height,he[oe],!1,$e,!1,void 0,void 0,!1,0,Ie,te,!1)):(Fe.font=$e.baseFontFull,Fe.fillStyle=$e.bgCell,Fe.fillRect(0,0,pe.width,pe.height),ss(Fe,h([oe,ye]),0,ye,!1,!1,0,0,ue.width,ue.height,!1,$e,$e.bgCell,it,Ie,1,void 0,!1,0,void 0,void 0,void 0,Jn,Se,()=>{}))),pe.style.left="-100%",pe.style.position="absolute",pe.style.width=`${ue.width}px`,pe.style.height=`${ue.height}px`,document.body.append(pe),S.dataTransfer.setDragImage(pe,ue.width/2,ue.height/2),window.setTimeout(()=>{pe.remove()},0)}}else S.preventDefault()},[fe,Ae,Le,Ke,He,$e,he,Ie,te,h,it,Jn,Se]);pt("dragstart",Hs,(z==null?void 0:z.current)??null,!1,!1);const Xr=b.useRef(void 0),Ls=b.useCallback(S=>{const $=ie.current;if(Oe!==void 0&&S.preventDefault(),$===null||Xe===void 0)return;const B=Le($,S.clientX,S.clientY),[W,D]=B.location,H=W-(le?0:1),[q,Z]=Xr.current??[];(q!==H||Z!==D)&&(Xr.current=[H,D],Xe([H,D],S.dataTransfer))},[le,Le,Xe,Oe]);pt("dragover",Ls,(z==null?void 0:z.current)??null,!1,!1);const Bs=b.useCallback(()=>{Xr.current=void 0,Me==null||Me()},[Me]);pt("dragend",Bs,(z==null?void 0:z.current)??null,!1,!1);const Ws=b.useCallback(S=>{const $=ie.current;if($===null||Oe===void 0)return;S.preventDefault();const B=Le($,S.clientX,S.clientY),[W,D]=B.location,H=W-(le?0:1);Oe([H,D],S.dataTransfer)},[le,Le,Oe]);pt("drop",Ws,(z==null?void 0:z.current)??null,!1,!1);const zs=b.useCallback(()=>{ee==null||ee()},[ee]);pt("dragleave",zs,(z==null?void 0:z.current)??null,!1,!1);const fo=b.useRef(C);fo.current=C;const ir=b.useRef(null),Ur=b.useCallback(S=>{var $;ie.current===null||!ie.current.contains(document.activeElement)||(S===null&&fo.current.current!==void 0?($=K==null?void 0:K.current)==null||$.focus({preventScroll:!0}):S!==null&&S.focus({preventScroll:!0}),ir.current=S)},[K]);b.useImperativeHandle(t,()=>({focus:()=>{var $;const S=ir.current;S===null||!document.contains(S)?($=K==null?void 0:K.current)==null||$.focus({preventScroll:!0}):S.focus({preventScroll:!0})},getBounds:(S,$)=>{if(!(K===void 0||K.current===null))return He(K.current,S??0,$??-1)},damage:to,getMouseArgsForPosition:(S,$,B)=>{if(!(K===void 0||K.current===null))return Le(K.current,S,$,B)}}),[K,to,He,Le]);const qr=b.useRef(void 0),Ns=sh(()=>{var Z,j,Be;if(n<50||(O==null?void 0:O.disableAccessibilityTree)===!0)return null;let S=wi(he,Pe,n,ke,N);const $=le?0:-1;!le&&((Z=S[0])==null?void 0:Z.sourceIndex)===0&&(S=S.slice(1));const[B,W]=((j=C.current)==null?void 0:j.cell)??[],D=(Be=C.current)==null?void 0:Be.range,H=S.map(X=>X.sourceIndex),q=Rp(s,Math.min(p,s+r));return B!==void 0&&W!==void 0&&!(H.includes(B)&&q.includes(W))&&Ur(null),b.createElement("table",{key:"access-tree",role:"grid","aria-rowcount":p+1,"aria-multiselectable":"true","aria-colcount":he.length+$},b.createElement("thead",{role:"rowgroup"},b.createElement("tr",{role:"row","aria-rowindex":1},S.map(X=>b.createElement("th",{role:"columnheader","aria-selected":C.columns.hasIndex(X.sourceIndex),"aria-colindex":X.sourceIndex+1+$,tabIndex:-1,onFocus:oe=>{if(oe.target!==ir.current)return Re==null?void 0:Re([X.sourceIndex,-1])},key:X.sourceIndex},X.title)))),b.createElement("tbody",{role:"rowgroup"},q.map(X=>b.createElement("tr",{role:"row","aria-selected":C.rows.hasIndex(X),key:X,"aria-rowindex":X+2},S.map(oe=>{const ye=oe.sourceIndex,pe=ft(ye,X),ue=B===ye&&W===X,ge=D!==void 0&&ye>=D.x&&ye<D.x+D.width&&X>=D.y&&X<D.y+D.height,Fe=`glide-cell-${ye}-${X}`,It=[ye,X],Tt=h(It,!0);return b.createElement("td",{key:pe,role:"gridcell","aria-colindex":ye+1+$,"aria-selected":ge,"aria-readonly":Ha(Tt)||!Ld(Tt),id:Fe,"data-testid":Fe,onClick:()=>{const ht=K==null?void 0:K.current;if(ht!=null)return ze==null?void 0:ze({bounds:He(ht,ye,X),cancel:()=>{},preventDefault:()=>{},stopPropagation:()=>{},ctrlKey:!1,key:"Enter",keyCode:13,metaKey:!1,shiftKey:!1,altKey:!1,rawEvent:void 0,location:It})},onFocusCapture:ht=>{var $t,de;if(!(ht.target===ir.current||(($t=qr.current)==null?void 0:$t[0])===ye&&((de=qr.current)==null?void 0:de[1])===X))return qr.current=It,Re==null?void 0:Re(It)},ref:ue?Ur:void 0,tabIndex:-1},ub(Tt,Se))})))))},[n,he,Pe,ke,N,p,s,r,C,Ur,h,K,ze,He,Re],200),or=A===0||!R?0:Pe>A?1:wr(-N/100,0,1),js=-s*32+Te,ar=T?wr(-js/100,0,1):0,Xs=b.useMemo(()=>{if(!or&&!ar)return null;const S={position:"absolute",top:0,left:Br,width:n-Br,height:i,opacity:or,pointerEvents:"none",transition:re?void 0:"opacity 0.2s",boxShadow:"inset 13px 0 10px -13px rgba(0, 0, 0, 0.2)"},$={position:"absolute",top:Ve,left:0,width:n,height:i,opacity:ar,pointerEvents:"none",transition:rt?void 0:"opacity 0.2s",boxShadow:"inset 0 13px 10px -13px rgba(0, 0, 0, 0.2)"};return b.createElement(b.Fragment,null,or>0&&b.createElement("div",{id:"shadow-x",style:S}),ar>0&&b.createElement("div",{id:"shadow-y",style:$}))},[or,ar,Br,n,re,Ve,i,rt]),Us=b.useMemo(()=>({position:"absolute",top:0,left:0}),[]);return b.createElement(b.Fragment,null,b.createElement("canvas",{"data-testid":"data-grid-canvas",tabIndex:0,onKeyDown:Os,onKeyUp:Ds,onFocus:w,onBlur:I,ref:Fs,style:Wr},Ns),b.createElement("canvas",{ref:ce,style:Us}),Xs)},xw=b.memo(b.forwardRef(db));function fb(e){if(e.copyData!==void 0)return{formatted:e.copyData,rawValue:e.copyData,format:"string",doNotEscape:!0};switch(e.kind){case ne.Boolean:return{formatted:e.data===!0?"TRUE":e.data===!1?"FALSE":e.data===Fi?"INDETERMINATE":"",rawValue:e.data,format:"boolean"};case ne.Custom:return{formatted:e.copyData,rawValue:e.copyData,format:"string"};case ne.Image:case ne.Bubble:return{formatted:e.data,rawValue:e.data,format:"string-array"};case ne.Drilldown:return{formatted:e.data.map(t=>t.text),rawValue:e.data.map(t=>t.text),format:"string-array"};case ne.Text:return{formatted:e.displayData??e.data,rawValue:e.data,format:"string"};case ne.Uri:return{formatted:e.displayData??e.data,rawValue:e.data,format:"url"};case ne.Markdown:case ne.RowID:return{formatted:e.data,rawValue:e.data,format:"string"};case ne.Number:return{formatted:e.displayData,rawValue:e.data,format:"number"};case ne.Loading:return{formatted:"#LOADING",rawValue:"",format:"string"};case ne.Protected:return{formatted:"************",rawValue:"",format:"string"};default:Di()}}function hb(e,t){return e.map((i,r)=>{const o=t[r];return i.map(a=>a.span!==void 0&&a.span[0]!==o?{formatted:"",rawValue:"",format:"string"}:fb(a))})}function wa(e,t){return(t?/[\t\n",]/:/[\t\n"]/).test(e)&&(e=`"${e.replace(/"/g,'""')}"`),e}function pb(e){var n;const t=[];for(const i of e){const r=[];for(const o of i)o.format==="url"?r.push(((n=o.rawValue)==null?void 0:n.toString())??""):o.format==="string-array"?r.push(o.formatted.map(a=>wa(a,!0)).join(",")):r.push(o.doNotEscape===!0?o.formatted:wa(o.formatted,!1));t.push(r.join("	"))}return t.join(`
`)}function li(e){return e.replace(/\t/g,"    ").replace(/ {2,}/g,t=>"<span> </span>".repeat(t.length))}function Sa(e){return'"'+e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")+'"'}function gb(e){return e.replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")}function vb(e){var n;const t=[];t.push('<style type="text/css"><!--br {mso-data-placement:same-cell;}--></style>',"<table><tbody>");for(const i of e){t.push("<tr>");for(const r of i){const o=`gdg-format="${r.format}"`;r.format==="url"?t.push(`<td ${o}><a href="${r.rawValue}">${li(r.formatted)}</a></td>`):r.format==="string-array"?t.push(`<td ${o}><ol>${r.formatted.map((a,s)=>`<li gdg-raw-value=${Sa(r.rawValue[s])}>`+li(a)+"</li>").join("")}</ol></td>`):t.push(`<td gdg-raw-value=${Sa(((n=r.rawValue)==null?void 0:n.toString())??"")} ${o}>${li(r.formatted)}</td>`)}t.push("</tr>")}return t.push("</tbody></table>"),t.join("")}function mb(e,t){const n=hb(e,t),i=pb(n),r=vb(n);return{textPlain:i,textHtml:r}}function kw(e){var a;const t=document.createElement("html");t.innerHTML=e.replace(/&nbsp;/g," ");const n=t.querySelector("table");if(n===null)return;const i=[n],r=[];let o;for(;i.length>0;){const s=i.pop();if(s===void 0)break;if(s instanceof HTMLTableElement||s.nodeName==="TBODY")i.push(...[...s.children].reverse());else if(s instanceof HTMLTableRowElement)o!==void 0&&r.push(o),o=[],i.push(...[...s.children].reverse());else if(s instanceof HTMLTableCellElement){const l=s.cloneNode(!0),u=l.children.length===1&&l.children[0].nodeName==="P"?l.children[0]:null,d=(u==null?void 0:u.children.length)===1&&u.children[0].nodeName==="FONT",p=l.querySelectorAll("br");for(const g of p)g.replaceWith(`
`);const h=l.getAttribute("gdg-raw-value"),f=l.getAttribute("gdg-format")??"string";if(l.querySelector("a")!==null)o==null||o.push({rawValue:((a=l.querySelector("a"))==null?void 0:a.getAttribute("href"))??"",formatted:l.textContent??"",format:f});else if(l.querySelector("ol")!==null){const g=l.querySelectorAll("li");o==null||o.push({rawValue:[...g].map(m=>m.getAttribute("gdg-raw-value")??""),formatted:[...g].map(m=>m.textContent??""),format:"string-array"})}else if(h!==null)o==null||o.push({rawValue:gb(h),formatted:l.textContent??"",format:f});else{let g=l.textContent??"";d&&(g=g.replace(/\n(?!\n)/g,"")),o==null||o.push({rawValue:g??"",formatted:g??"",format:f})}}}return o!==void 0&&r.push(o),r}function Aw(e,t,n,i,r){var s;const o=e;if(i==="allowPartial"||e.current===void 0||t===void 0)return e;let a=!1;do{if((e==null?void 0:e.current)===void 0)break;const l=(s=e.current)==null?void 0:s.range,c=[];if(l.width>2){const p=t({x:l.x,y:l.y,width:1,height:l.height},r.signal);if(typeof p=="function")return o;c.push(...p);const h=t({x:l.x+l.width-1,y:l.y,width:1,height:l.height},r.signal);if(typeof h=="function")return o;c.push(...h)}else{const p=t({x:l.x,y:l.y,width:l.width,height:l.height},r.signal);if(typeof p=="function")return o;c.push(...p)}let u=l.x-n,d=l.x+l.width-1-n;for(const p of c)for(const h of p)h.span!==void 0&&(u=Math.min(h.span[0],u),d=Math.max(h.span[1],d));u===l.x-n&&d===l.x+l.width-1-n?a=!0:e={current:{cell:e.current.cell??[0,0],range:{x:u+n,y:l.y,width:d-u+1,height:l.height},rangeStack:e.current.rangeStack},columns:e.columns,rows:e.rows}}while(!a);return e}function _a(e){return e.startsWith('"')&&e.endsWith('"')&&(e=e.slice(1,-1).replace(/""/g,'"')),e}function Tw(e){let t;(s=>{s[s.None=0]="None",s[s.inString=1]="inString",s[s.inStringPostQuote=2]="inStringPostQuote"})(t||(t={}));const n=[];let i=[],r=0,o=0;e=e.replace(/\r\n/g,`
`);let a=0;for(const s of e){switch(o){case 0:s==="	"||s===`
`?(i.push(e.slice(r,a)),r=a+1,s===`
`&&(n.push(i),i=[])):s==='"'&&(o=1);break;case 1:s==='"'&&(o=2);break;case 2:s==='"'?o=1:((s==="	"||s===`
`)&&(i.push(_a(e.slice(r,a))),r=a+1,s===`
`&&(n.push(i),i=[])),o=0);break}a++}return r<e.length&&i.push(_a(e.slice(r,e.length))),n.push(i),n.map(s=>s.map(l=>({rawValue:l,formatted:l,format:"string"})))}function $w(e,t,n){var s;const i=mb(e,t),r=l=>{var c;(c=window.navigator.clipboard)==null||c.writeText(l)},o=(l,c)=>{var u;return((u=window.navigator.clipboard)==null?void 0:u.write)===void 0?!1:(window.navigator.clipboard.write([new ClipboardItem({"text/plain":new Blob([l],{type:"text/plain"}),"text/html":new Blob([c],{type:"text/html"})})]),!0)},a=(l,c)=>{var u,d;try{if(n===void 0||n.clipboardData===null)throw new Error("No clipboard data");(u=n==null?void 0:n.clipboardData)==null||u.setData("text/plain",l),(d=n==null?void 0:n.clipboardData)==null||d.setData("text/html",c)}catch{o(l,c)||r(l)}};((s=window.navigator.clipboard)==null?void 0:s.write)!==void 0||(n==null?void 0:n.clipboardData)!==void 0?a(i.textPlain,i.textHtml):r(i.textPlain),n==null||n.preventDefault()}function yb(e){return e!==!0}function Ca(e){const{cell:t,posX:n,posY:i,bounds:r,theme:o}=e,{width:a,height:s,x:l,y:c}=r,u=t.maxSize??o.checkboxMaxSize,d=Math.floor(r.y+s/2),p=qa(u,s,o.cellVerticalPadding),h=Ua(t.contentAlign??"center",l,a,o.cellHorizontalPadding,p),f=Xa(h,d,p),g=Ka(l+n,c+i,f);return Hi(t)&&g}const bb={getAccessibilityString:e=>{var t;return((t=e.data)==null?void 0:t.toString())??"false"},kind:ne.Boolean,needsHover:!0,useLabel:!1,needsHoverPosition:!0,measure:()=>50,draw:e=>wb(e,e.cell.data,Hi(e.cell),e.cell.maxSize??e.theme.checkboxMaxSize,e.cell.hoverEffectIntensity??.35),onDelete:e=>({...e,data:!1}),onSelect:e=>{Ca(e)&&e.preventDefault()},onClick:e=>{if(Ca(e))return{...e.cell,data:yb(e.cell.data)}},onPaste:(e,t)=>{let n=gr;return e.toLowerCase()==="true"?n=!0:e.toLowerCase()==="false"?n=!1:e.toLowerCase()==="indeterminate"&&(n=Fi),n===t.data?void 0:{...t,data:n}}};function wb(e,t,n,i,r){if(!n&&t===gr)return;const{ctx:o,hoverAmount:a,theme:s,rect:l,highlighted:c,hoverX:u,hoverY:d,cell:{contentAlign:p}}=e,{x:h,y:f,width:g,height:m}=l;let y=!1;if(r>0){let v=n?1-r+r*a:.4;if(t===gr&&(v*=a),v===0)return;v<1&&(y=!0,o.globalAlpha=v)}Gi(o,s,t,h,f,g,m,c,u,d,i,p),y&&(o.globalAlpha=1)}const Sb=Mt("div")({name:"BubblesOverlayEditorStyle",class:"bed7b9f",propsAsIs:!1}),_b=e=>{const{bubbles:t}=e;return b.createElement(Sb,null,t.map((n,i)=>b.createElement("div",{key:i,className:"boe-bubble"},n)),b.createElement("textarea",{className:"gdg-input",autoFocus:!0}))},Cb={getAccessibilityString:e=>Ya(e.data),kind:ne.Bubble,needsHover:!1,useLabel:!1,needsHoverPosition:!1,measure:(e,t,n)=>{const i=t.data.reduce((r,o)=>e.measureText(o).width+r+n.bubblePadding*2+n.bubbleMargin,0);return t.data.length===0?n.cellHorizontalPadding*2:i+2*n.cellHorizontalPadding-n.bubbleMargin},draw:e=>Ib(e,e.cell.data),provideEditor:()=>e=>{const{value:t}=e;return b.createElement(_b,{bubbles:t.data})},onPaste:()=>{}};function Ib(e,t){const{rect:n,theme:i,ctx:r,highlighted:o}=e,{x:a,y:s,width:l,height:c}=n;let u=a+i.cellHorizontalPadding;const d=[];for(const p of t){if(u>a+l)break;const h=wn(p,r,i.baseFontFull).width;d.push({x:u,width:h}),u+=h+i.bubblePadding*2+i.bubbleMargin}r.beginPath();for(const p of d)yt(r,p.x,s+(c-i.bubbleHeight)/2,p.width+i.bubblePadding*2,i.bubbleHeight,i.roundingRadius??i.bubbleHeight/2);r.fillStyle=o?i.bgBubbleSelected:i.bgBubble,r.fill();for(const[p,h]of d.entries())r.beginPath(),r.fillStyle=i.textBubble,r.fillText(t[p],h.x+i.bubblePadding,s+c/2+Ft(r,i))}const Eb=Mt("div")({name:"DrilldownOverlayEditorStyle",class:"dy18k32",propsAsIs:!1}),Pb=e=>{const{drilldowns:t}=e;return b.createElement(Eb,null,t.map((n,i)=>b.createElement("div",{key:i,className:"doe-bubble"},n.img!==void 0&&b.createElement("img",{src:n.img}),b.createElement("div",null,n.text))))},Mb={getAccessibilityString:e=>Ya(e.data.map(t=>t.text)),kind:ne.Drilldown,needsHover:!1,useLabel:!1,needsHoverPosition:!1,measure:(e,t,n)=>t.data.reduce((i,r)=>e.measureText(r.text).width+i+n.bubblePadding*2+n.bubbleMargin+(r.img!==void 0?18:0),0)+2*n.cellHorizontalPadding-4,draw:e=>kb(e,e.cell.data),provideEditor:()=>e=>{const{value:t}=e;return b.createElement(Pb,{drilldowns:t.data})},onPaste:()=>{}},ci={};function xb(e,t,n,i){const r=Math.ceil(window.devicePixelRatio),o=5,a=n-o*2,s=4,l=n*r,c=i+o,u=i*3,d=(u+o*2)*r,p=`${e},${t},${r},${n}`;if(ci[p]!==void 0)return{el:ci[p],height:l,width:d,middleWidth:s*r,sideWidth:c*r,padding:o*r,dpr:r};const h=document.createElement("canvas"),f=h.getContext("2d");return f===null?null:(h.width=d,h.height=l,f.scale(r,r),ci[p]=h,f.beginPath(),yt(f,o,o,u,a,i),f.shadowColor="rgba(24, 25, 34, 0.4)",f.shadowBlur=1,f.fillStyle=e,f.fill(),f.shadowColor="rgba(24, 25, 34, 0.3)",f.shadowOffsetY=1,f.shadowBlur=5,f.fillStyle=e,f.fill(),f.shadowOffsetY=0,f.shadowBlur=0,f.shadowBlur=0,f.beginPath(),yt(f,o+.5,o+.5,u,a,i),f.strokeStyle=t,f.lineWidth=1,f.stroke(),{el:h,height:l,width:d,sideWidth:c*r,middleWidth:i*r,padding:o*r,dpr:r})}function kb(e,t){const{rect:n,theme:i,ctx:r,imageLoader:o,col:a,row:s}=e,{x:l,width:c}=n,u=i.baseFontFull,d=es(r,u),p=Math.min(n.height,Math.max(16,Math.ceil(d*i.lineHeight)*2)),h=Math.floor(n.y+(n.height-p)/2),f=p-10,g=i.bubblePadding,m=i.bubbleMargin;let y=l+i.cellHorizontalPadding;const v=i.roundingRadius??6,w=xb(i.bgCell,i.drilldownBorder,p,v),I=[];for(const _ of t){if(y>l+c)break;const A=wn(_.text,r,u).width;let x=0;_.img!==void 0&&o.loadOrGetImage(_.img,a,s)!==void 0&&(x=f-8+4);const E=A+x+g*2;I.push({x:y,width:E}),y+=E+m}if(w!==null){const{el:_,height:C,middleWidth:A,sideWidth:x,width:E,dpr:R,padding:T}=w,M=x/R,k=T/R;for(const P of I){const L=Math.floor(P.x),F=Math.floor(P.width),U=F-(M-k)*2;r.imageSmoothingEnabled=!1,r.drawImage(_,0,0,x,C,L-k,h,M,p),U>0&&r.drawImage(_,x,0,A,C,L+(M-k),h,U,p),r.drawImage(_,E-x,0,x,C,L+F-(M-k),h,M,p),r.imageSmoothingEnabled=!0}}r.beginPath();for(const[_,C]of I.entries()){const A=t[_];let x=C.x+g;if(A.img!==void 0){const E=o.loadOrGetImage(A.img,a,s);if(E!==void 0){const R=f-8;let T=0,M=0,k=E.width,P=E.height;k>P?(T+=(k-P)/2,k=P):P>k&&(M+=(P-k)/2,P=k),r.beginPath(),yt(r,x,h+p/2-R/2,R,R,i.roundingRadius??3),r.save(),r.clip(),r.drawImage(E,T,M,k,P,x,h+p/2-R/2,R,R),r.restore(),x+=R+4}}r.beginPath(),r.fillStyle=i.textBubble,r.fillText(A.text,x,h+p/2+Ft(r,i))}}const Ab={getAccessibilityString:e=>e.data.join(", "),kind:ne.Image,needsHover:!1,useLabel:!1,needsHoverPosition:!1,draw:e=>Tb(e,e.cell.displayData??e.cell.data,e.cell.rounding??e.theme.roundingRadius??4,e.cell.contentAlign),measure:(e,t)=>t.data.length*50,onDelete:e=>({...e,data:[]}),provideEditor:()=>e=>{const{value:t,onFinishedEditing:n,imageEditorOverride:i}=e,r=i??dh;return b.createElement(r,{urls:t.data,canWrite:t.readonly!==!0,onCancel:n,onChange:o=>{n({...t,data:[o]})}})},onPaste:(e,t)=>{e=e.trim();const i=e.split(",").map(r=>{try{return new URL(r),r}catch{return}}).filter(r=>r!==void 0);if(!(i.length===t.data.length&&i.every((r,o)=>r===t.data[o])))return{...t,data:i}}},ui=4;function Tb(e,t,n,i){const{rect:r,col:o,row:a,theme:s,ctx:l,imageLoader:c}=e,{x:u,y:d,height:p,width:h}=r,f=p-s.cellVerticalPadding*2,g=[];let m=0;for(let v=0;v<t.length;v++){const w=t[v];if(w.length===0)continue;const I=c.loadOrGetImage(w,o,a);if(I!==void 0){g[v]=I;const _=I.width*(f/I.height);m+=_+ui}}if(m===0)return;m-=ui;let y=u+s.cellHorizontalPadding;i==="right"?y=Math.floor(u+h-s.cellHorizontalPadding-m):i==="center"&&(y=Math.floor(u+h/2-m/2));for(const v of g){if(v===void 0)continue;const w=v.width*(f/v.height);n>0&&(l.beginPath(),yt(l,y,d+s.cellVerticalPadding,w,f,n),l.save(),l.clip()),l.drawImage(v,y,d+s.cellVerticalPadding,w,f),n>0&&l.restore(),y+=w+ui}}function $b(e,t){let n=e*49632+t*325176;return n^=n<<13,n^=n>>17,n^=n<<5,n/4294967295*2}const Rb={getAccessibilityString:()=>"",kind:ne.Loading,needsHover:!1,useLabel:!1,needsHoverPosition:!1,measure:()=>120,draw:e=>{const{cell:t,col:n,row:i,ctx:r,rect:o,theme:a}=e;if(t.skeletonWidth===void 0||t.skeletonWidth===0)return;let s=t.skeletonWidth;t.skeletonWidthVariability!==void 0&&t.skeletonWidthVariability>0&&(s+=Math.round($b(n,i)*t.skeletonWidthVariability));const l=a.cellHorizontalPadding;s+l*2>=o.width&&(s=o.width-l*2-1);const c=t.skeletonHeight??Math.min(18,o.height-2*a.cellVerticalPadding);yt(r,o.x+l,o.y+(o.height-c)/2,s,c,a.roundingRadius??3),r.fillStyle=Gn(a.textDark,.1),r.fill()},onPaste:()=>{}},Ob=()=>e=>e.targetWidth,Ia=Mt("div")({name:"MarkdownOverlayEditorStyle",class:"mmv7gx6",propsAsIs:!1,vars:{"mmv7gx6-0":[Ob(),"px"]}}),Db=e=>{const{value:t,onChange:n,forceEditMode:i,createNode:r,targetRect:o,onFinish:a,validatedSelection:s}=e,l=t.data,c=t.readonly===!0,[u,d]=b.useState(l===""||i),p=b.useCallback(()=>{d(f=>!f)},[]),h=l?"gdg-ml-6":"";return u?b.createElement(Ia,{targetWidth:o.width-20},b.createElement(Dr,{autoFocus:!0,highlight:!1,validatedSelection:s,value:l,onKeyDown:f=>{f.key==="Enter"&&f.stopPropagation()},onChange:n}),b.createElement("div",{className:`gdg-edit-icon gdg-checkmark-hover ${h}`,onClick:()=>a(t)},b.createElement(ah,null))):b.createElement(Ia,{targetWidth:o.width},b.createElement(hh,{contents:l,createNode:r}),!c&&b.createElement(b.Fragment,null,b.createElement("div",{className:"spacer"}),b.createElement("div",{className:`gdg-edit-icon gdg-edit-hover ${h}`,onClick:p},b.createElement(Ni,null))),b.createElement("textarea",{className:"gdg-md-edit-textarea gdg-input",autoFocus:!0}))},Fb={getAccessibilityString:e=>{var t;return((t=e.data)==null?void 0:t.toString())??""},kind:ne.Markdown,needsHover:!1,needsHoverPosition:!1,drawPrep:Vn,measure:(e,t,n)=>{const i=t.data.split(`
`)[0];return e.measureText(i).width+2*n.cellHorizontalPadding},draw:e=>gt(e,e.cell.data,e.cell.contentAlign),onDelete:e=>({...e,data:""}),provideEditor:()=>e=>{const{onChange:t,value:n,target:i,onFinishedEditing:r,markdownDivCreateNode:o,forceEditMode:a,validatedSelection:s}=e;return b.createElement(Db,{onFinish:r,targetRect:i,value:n,validatedSelection:s,onChange:l=>t({...n,data:l.target.value}),forceEditMode:a,createNode:o})},onPaste:(e,t)=>e===t.data?void 0:{...t,data:e}},Hb={getAccessibilityString:e=>e.row.toString(),kind:Wn.Marker,needsHover:!0,needsHoverPosition:!1,drawPrep:Lb,measure:()=>44,draw:e=>Wb(e,e.cell.row,e.cell.checked,e.cell.markerKind,e.cell.drawHandle,e.cell.checkboxStyle),onClick:e=>{const{bounds:t,cell:n,posX:i,posY:r}=e,{width:o,height:a}=t,s=n.drawHandle?7+(o-7)/2:o/2,l=a/2;if(Math.abs(i-s)<=10&&Math.abs(r-l)<=10)return{...n,checked:!n.checked}},onPaste:()=>{}};function Lb(e,t){const{ctx:n,theme:i}=e,r=i.markerFontFull,o=t??{};return(o==null?void 0:o.font)!==r&&(n.font=r,o.font=r),o.deprep=Bb,n.textAlign="center",o}function Bb(e){const{ctx:t}=e;t.textAlign="start"}function Wb(e,t,n,i,r,o){const{ctx:a,rect:s,hoverAmount:l,theme:c}=e,{x:u,y:d,width:p,height:h}=s,f=n?1:i==="checkbox-visible"?.6+.4*l:l;if(i!=="number"&&f>0){a.globalAlpha=f;const g=7*(n?l:1);if(Gi(a,c,n,r?u+g:u,d,r?p-g:p,h,!0,void 0,void 0,c.checkboxMaxSize,"center",o),r){a.globalAlpha=l,a.beginPath();for(const m of[3,6])for(const y of[-5,-1,3])a.rect(u+m,d+h/2+y,2,2);a.fillStyle=c.textLight,a.fill(),a.beginPath()}a.globalAlpha=1}if(i==="number"||i==="both"&&!n){const g=t.toString(),m=c.markerFontFull,y=u+p/2;i==="both"&&l!==0&&(a.globalAlpha=1-l),a.fillStyle=c.textLight,a.font=m,a.fillText(g,y,d+h/2+Ft(a,m)),l!==0&&(a.globalAlpha=1)}}const zb={getAccessibilityString:()=>"",kind:Wn.NewRow,needsHover:!0,needsHoverPosition:!1,measure:()=>200,draw:e=>Nb(e,e.cell.hint,e.cell.icon),onPaste:()=>{}};function Nb(e,t,n){const{ctx:i,rect:r,hoverAmount:o,theme:a,spriteManager:s}=e,{x:l,y:c,width:u,height:d}=r;i.beginPath(),i.globalAlpha=o,i.rect(l+1,c+1,u,d-2),i.fillStyle=a.bgHeaderHovered,i.fill(),i.globalAlpha=1,i.beginPath();const p=t!=="";let h=0;if(n!==void 0){const g=d-8,m=l+8/2,y=c+8/2;s.drawSprite(n,"normal",i,m,y,g,a,p?1:o),h=g}else{h=24;const f=12,g=p?f:o*f,m=p?0:(1-o)*f*.5,y=a.cellHorizontalPadding+4;g>0&&(i.moveTo(l+y+m,c+d/2),i.lineTo(l+y+m+g,c+d/2),i.moveTo(l+y+m+g*.5,c+d/2-g*.5),i.lineTo(l+y+m+g*.5,c+d/2+g*.5),i.lineWidth=2,i.strokeStyle=a.bgIconHeader,i.lineCap="round",i.stroke())}i.fillStyle=a.textMedium,i.fillText(t,h+l+a.cellHorizontalPadding+.5,c+d/2+Ft(i,a)),i.beginPath()}function _s(e,t,n,i,r,o,a){e.textBaseline="alphabetic";const s=jb(e,r,i,t,(n==null?void 0:n.fullSize)??!1);e.beginPath(),yt(e,s.x,s.y,s.width,s.height,t.roundingRadius??4),e.globalAlpha=o,e.fillStyle=(n==null?void 0:n.bgColor)??Gn(t.textDark,.1),e.fill(),e.globalAlpha=1,e.fillStyle=t.textDark,e.textBaseline="middle",a==null||a("text")}function jb(e,t,n,i,r){const o=i.cellHorizontalPadding,a=i.cellVerticalPadding;if(r)return{x:t.x+o/2,y:t.y+a/2+1,width:t.width-o,height:t.height-a-1};const s=wn(n,e,i.baseFontFull,"alphabetic"),l=t.height-a,c=Math.min(l,s.actualBoundingBoxAscent*2.5);return{x:t.x+o/2,y:t.y+(t.height-c)/2+1,width:s.width+o*3,height:c-1}}const Xb=b.lazy(async()=>await Js(()=>import("./number-overlay-editor-CDNh_2Xf.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url)),Ub={getAccessibilityString:e=>{var t;return((t=e.data)==null?void 0:t.toString())??""},kind:ne.Number,needsHover:e=>e.hoverEffect===!0,needsHoverPosition:!1,useLabel:!0,drawPrep:Vn,draw:e=>{const{hoverAmount:t,cell:n,ctx:i,theme:r,rect:o,overrideCursor:a}=e,{hoverEffect:s,displayData:l,hoverEffectTheme:c}=n;s===!0&&t>0&&_s(i,r,c,l,o,t,a),gt(e,e.cell.displayData,e.cell.contentAlign)},measure:(e,t,n)=>e.measureText(t.displayData).width+n.cellHorizontalPadding*2,onDelete:e=>({...e,data:void 0}),provideEditor:()=>e=>{const{isHighlighted:t,onChange:n,value:i,validatedSelection:r}=e;return b.createElement(b.Suspense,{fallback:null},b.createElement(Xb,{highlight:t,disabled:i.readonly===!0,value:i.data,fixedDecimals:i.fixedDecimals,allowNegative:i.allowNegative,thousandSeparator:i.thousandSeparator,decimalSeparator:i.decimalSeparator,validatedSelection:r,onChange:o=>n({...i,data:Number.isNaN(o.floatValue??0)?0:o.floatValue})}))},onPaste:(e,t,n)=>{const i=typeof n.rawValue=="number"?n.rawValue:Number.parseFloat(typeof n.rawValue=="string"?n.rawValue:e);if(!(Number.isNaN(i)||t.data===i))return{...t,data:i,displayData:n.formattedString??t.displayData}}},qb={getAccessibilityString:()=>"",measure:()=>108,kind:ne.Protected,needsHover:!1,needsHoverPosition:!1,draw:Kb,onPaste:()=>{}};function Kb(e){const{ctx:t,theme:n,rect:i}=e,{x:r,y:o,height:a}=i;t.beginPath();const s=2.5;let l=r+n.cellHorizontalPadding+s;const c=o+a/2,u=Math.cos(Fo(30))*s,d=Math.sin(Fo(30))*s;for(let p=0;p<12;p++)t.moveTo(l,c-s),t.lineTo(l,c+s),t.moveTo(l+u,c-d),t.lineTo(l-u,c+d),t.moveTo(l-u,c-d),t.lineTo(l+u,c+d),l+=8;t.lineWidth=1.1,t.lineCap="square",t.strokeStyle=n.textLight,t.stroke()}const Yb={getAccessibilityString:e=>{var t;return((t=e.data)==null?void 0:t.toString())??""},kind:ne.RowID,needsHover:!1,needsHoverPosition:!1,drawPrep:(e,t)=>Vn(e,t,e.theme.textLight),draw:e=>gt(e,e.cell.data,e.cell.contentAlign),measure:(e,t,n)=>e.measureText(t.data).width+n.cellHorizontalPadding*2,provideEditor:()=>e=>{const{isHighlighted:t,onChange:n,value:i,validatedSelection:r}=e;return un.createElement(Dr,{highlight:t,autoFocus:i.readonly!==!0,disabled:i.readonly!==!1,value:i.data,validatedSelection:r,onChange:o=>n({...i,data:o.target.value})})},onPaste:()=>{}},Gb={getAccessibilityString:e=>{var t;return((t=e.data)==null?void 0:t.toString())??""},kind:ne.Text,needsHover:e=>e.hoverEffect===!0,needsHoverPosition:!1,drawPrep:Vn,useLabel:!0,draw:e=>{const{cell:t,hoverAmount:n,hyperWrapping:i,ctx:r,rect:o,theme:a,overrideCursor:s}=e,{displayData:l,contentAlign:c,hoverEffect:u,allowWrapping:d,hoverEffectTheme:p}=t;u===!0&&n>0&&_s(r,a,p,l,o,n,s),gt(e,l,c,d,i)},measure:(e,t,n)=>{const i=t.displayData.split(`
`,t.allowWrapping===!0?void 0:1);let r=0;for(const o of i)r=Math.max(r,e.measureText(o).width);return r+2*n.cellHorizontalPadding},onDelete:e=>({...e,data:""}),provideEditor:e=>({disablePadding:e.allowWrapping===!0,editor:t=>{const{isHighlighted:n,onChange:i,value:r,validatedSelection:o}=t;return b.createElement(Dr,{style:e.allowWrapping===!0?{padding:"3px 8.5px"}:void 0,highlight:n,autoFocus:r.readonly!==!0,disabled:r.readonly===!0,altNewline:!0,value:r.data,validatedSelection:o,onChange:a=>i({...r,data:a.target.value})})}}),onPaste:(e,t,n)=>e===t.data?void 0:{...t,data:e,displayData:n.formattedString??t.displayData}},Vb=Mt("div")({name:"UriOverlayEditorStyle",class:"uwr6ffw",propsAsIs:!1}),Jb=e=>{const{uri:t,onChange:n,forceEditMode:i,readonly:r,validatedSelection:o,preview:a}=e,[s,l]=b.useState(!r&&(t===""||i)),c=b.useCallback(()=>{l(!0)},[]);return s?b.createElement(Dr,{validatedSelection:o,highlight:!0,autoFocus:!0,value:t,onChange:n}):b.createElement(Vb,null,b.createElement("a",{className:"gdg-link-area",href:t,target:"_blank",rel:"noopener noreferrer"},a),!r&&b.createElement("div",{className:"gdg-edit-icon",onClick:c},b.createElement(Ni,null)),b.createElement("textarea",{className:"gdg-input",autoFocus:!0}))};function Cs(e,t,n,i){let r=n.cellHorizontalPadding;const o=t.height/2-e.actualBoundingBoxAscent/2,a=e.width,s=e.actualBoundingBoxAscent;return i==="right"?r=t.width-a-n.cellHorizontalPadding:i==="center"&&(r=t.width/2-a/2),{x:r,y:o,width:a,height:s}}function Ea(e){const{cell:t,bounds:n,posX:i,posY:r,theme:o}=e,a=t.displayData??t.data;if(t.hoverEffect!==!0||t.onClickUri===void 0)return!1;const s=Za(a,o.baseFontFull);if(s===void 0)return!1;const l=Cs(s,n,o,t.contentAlign);return cn({x:l.x-4,y:l.y-4,width:l.width+8,height:l.height+8},i,r)}const Zb={getAccessibilityString:e=>{var t;return((t=e.data)==null?void 0:t.toString())??""},kind:ne.Uri,needsHover:e=>e.hoverEffect===!0,needsHoverPosition:!0,useLabel:!0,drawPrep:Vn,draw:e=>{const{cell:t,theme:n,overrideCursor:i,hoverX:r,hoverY:o,rect:a,ctx:s}=e,l=t.displayData??t.data,c=t.hoverEffect===!0;if(i!==void 0&&c&&r!==void 0&&o!==void 0){const u=wn(l,s,n.baseFontFull),d=Cs(u,a,n,t.contentAlign),{x:p,y:h,width:f,height:g}=d;if(r>=p-4&&r<=p-4+f+8&&o>=h-4&&o<=h-4+g+8){const m=Ft(s,n.baseFontFull);i("pointer");const y=5,v=h-m;s.beginPath(),s.moveTo(a.x+p,Math.floor(a.y+v+g+y)+.5),s.lineTo(a.x+p+f,Math.floor(a.y+v+g+y)+.5),s.strokeStyle=n.linkColor,s.stroke(),s.save(),s.fillStyle=e.cellFillColor,gt({...e,rect:{...a,x:a.x-1}},l,t.contentAlign),gt({...e,rect:{...a,x:a.x-2}},l,t.contentAlign),gt({...e,rect:{...a,x:a.x+1}},l,t.contentAlign),gt({...e,rect:{...a,x:a.x+2}},l,t.contentAlign),s.restore()}}s.fillStyle=c?n.linkColor:n.textDark,gt(e,l,t.contentAlign)},onSelect:e=>{Ea(e)&&e.preventDefault()},onClick:e=>{var i;const{cell:t}=e;Ea(e)&&((i=t.onClickUri)==null||i.call(t,e))},measure:(e,t,n)=>e.measureText(t.displayData??t.data).width+n.cellHorizontalPadding*2,onDelete:e=>({...e,data:""}),provideEditor:e=>t=>{const{onChange:n,value:i,forceEditMode:r,validatedSelection:o}=t;return b.createElement(Jb,{forceEditMode:i.readonly!==!0&&(r||e.hoverEffect===!0&&e.onClickUri!==void 0),uri:i.data,preview:i.displayData??i.data,validatedSelection:o,readonly:i.readonly===!0,onChange:a=>n({...i,data:a.target.value})})},onPaste:(e,t,n)=>e===t.data?void 0:{...t,data:e,displayData:n.formattedString??t.displayData}},Rw=[Hb,zb,bb,Cb,Mb,Ab,Rb,Fb,Ub,qb,Yb,Gb,Zb];var Qb=ja,ew=Vt,tw="Expected a function";function nw(e,t,n){var i=!0,r=!0;if(typeof e!="function")throw new TypeError(tw);return ew(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),Qb(e,t,{leading:i,maxWait:t,trailing:r})}var rw=nw;const iw=Gt(rw),di=[];class Ow extends ns{constructor(){super(...arguments);Q(this,"imageLoaded",()=>{});Q(this,"loadedLocations",[]);Q(this,"cache",{});Q(this,"sendLoaded",iw(()=>{this.imageLoaded(new Bn(this.loadedLocations)),this.loadedLocations=[]},20));Q(this,"clearOutOfWindow",()=>{const n=Object.keys(this.cache);for(const i of n){const r=this.cache[i];let o=!1;for(let a=0;a<r.cells.length;a++){const s=r.cells[a];if(this.isInWindow(s)){o=!0;break}}o?r.cells=r.cells.filter(this.isInWindow):(r.cancel(),delete this.cache[i])}})}setCallback(n){this.imageLoaded=n}loadImage(n,i,r,o){let a=!1;const s=di.pop()??new Image;let l=!1;const c={img:void 0,cells:[ft(i,r)],url:n,cancel:()=>{l||(l=!0,di.length<12?di.unshift(s):a||(s.src=""))}},u=new Promise(d=>s.addEventListener("load",()=>d(null)));requestAnimationFrame(async()=>{try{s.src=n,await u,await s.decode();const d=this.cache[o];if(d!==void 0&&!l){d.img=s;for(const p of d.cells)this.loadedLocations.push(qi(p));a=!0,this.sendLoaded()}}catch{c.cancel()}}),this.cache[o]=c}loadOrGetImage(n,i,r){const o=n,a=this.cache[o];if(a!==void 0){const s=ft(i,r);return a.cells.includes(s)||a.cells.push(s),a.img}else this.loadImage(n,i,r,o)}}export{Hd as $,yw as A,vw as B,hi as C,mw as D,Aw as E,pn as F,ne as G,Gn as H,Wn as I,cn as J,dw as K,yb as L,bn as M,$n as N,ba as O,bi as P,Eh as Q,Ha as R,Ld as S,Hp as T,hr as U,qt as V,cb as W,Pw as X,wr as Y,Di as Z,ap as _,Dr as a,gw as a0,Sw as a1,kw as a2,Tw as a3,ih as a4,Ho as a5,Cw as a6,Lh as a7,$w as a8,Rw as a9,Ow as aa,xw as ab,ya as ac,Ch as ad,zn as ae,sb as af,pw as ag,uw as ah,Hb as ai,Ep as aj,Sp as ak,Ki as al,xv as am,Er as an,Gu as ao,m0 as ap,ws as aq,Bg as ar,D0 as as,es as b,et as c,_w as d,ww as e,Rp as f,Ft as g,Fd as h,bw as i,pt as j,fw as k,hw as l,wn as m,ip as n,Zh as o,fn as p,ep as q,yt as r,Ir as s,bt as t,Ew as u,Oa as v,lp as w,Et as x,Mw as y,Iw as z};
