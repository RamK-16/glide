import{a as IJ,g as PJ,R as Bi,r as yn}from"./iframe-VjYuGMsY.js";import{s as BJ}from"./marked.esm-CZueurBS.js";import"./preload-helper-C1FmrZbK.js";var Ar={},Wu,ap;function qJ(){if(ap)return Wu;ap=1;function r(e){this.content=e}return r.prototype={constructor:r,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return t==-1?void 0:this.content[t+1]},update:function(e,t,n){var a=n&&n!=e?this.remove(n):this,i=a.find(e),o=a.content.slice();return i==-1?o.push(n||e,t):(o[i+1]=t,n&&(o[i]=n)),new r(o)},remove:function(e){var t=this.find(e);if(t==-1)return this;var n=this.content.slice();return n.splice(t,2),new r(n)},addToStart:function(e,t){return new r([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new r(n)},addBefore:function(e,t,n){var a=this.remove(t),i=a.content.slice(),o=a.find(e);return i.splice(o==-1?i.length:o,0,t,n),new r(i)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return e=r.from(e),e.size?new r(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=r.from(e),e.size?new r(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=r.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach(function(t,n){e[t]=n}),e},get size(){return this.content.length>>1}},r.from=function(e){if(e instanceof r)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new r(t)},Wu=r,Wu}var ip;function il(){if(ip)return Ar;ip=1;function r(N,E){var h=typeof Symbol<"u"&&N[Symbol.iterator]||N["@@iterator"];if(!h){if(Array.isArray(N)||(h=e(N))||E){h&&(N=h);var w=0,L=function(){};return{s:L,n:function(){return w>=N.length?{done:!0}:{done:!1,value:N[w++]}},e:function(ie){throw ie},f:L}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var P=!0,H=!1,$;return{s:function(){h=h.call(N)},n:function(){var ie=h.next();return P=ie.done,ie},e:function(ie){H=!0,$=ie},f:function(){try{!P&&h.return!=null&&h.return()}finally{if(H)throw $}}}}function e(N,E){if(N){if(typeof N=="string")return t(N,E);var h=Object.prototype.toString.call(N).slice(8,-1);if(h==="Object"&&N.constructor&&(h=N.constructor.name),h==="Map"||h==="Set")return Array.from(N);if(h==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h))return t(N,E)}}function t(N,E){(E==null||E>N.length)&&(E=N.length);for(var h=0,w=new Array(E);h<E;h++)w[h]=N[h];return w}function n(){return typeof Reflect<"u"&&Reflect.get?n=Reflect.get.bind():n=function(E,h,w){var L=a(E,h);if(L){var P=Object.getOwnPropertyDescriptor(L,h);return P.get?P.get.call(arguments.length<3?E:w):P.value}},n.apply(this,arguments)}function a(N,E){for(;!Object.prototype.hasOwnProperty.call(N,E)&&(N=O(N),N!==null););return N}function i(N,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");N.prototype=Object.create(E&&E.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),Object.defineProperty(N,"prototype",{writable:!1}),E&&M(N,E)}function o(N){var E=T();return function(){var w=O(N),L;if(E){var P=O(this).constructor;L=Reflect.construct(w,arguments,P)}else L=w.apply(this,arguments);return l(this,L)}}function l(N,E){if(E&&(I(E)==="object"||typeof E=="function"))return E;if(E!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d(N)}function d(N){if(N===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N}function g(N){var E=typeof Map=="function"?new Map:void 0;return g=function(w){if(w===null||!S(w))return w;if(typeof w!="function")throw new TypeError("Super expression must either be null or a function");if(typeof E<"u"){if(E.has(w))return E.get(w);E.set(w,L)}function L(){return C(w,arguments,O(this).constructor)}return L.prototype=Object.create(w.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),M(L,w)},g(N)}function C(N,E,h){return T()?C=Reflect.construct.bind():C=function(L,P,H){var $=[null];$.push.apply($,P);var ee=Function.bind.apply(L,$),ie=new ee;return H&&M(ie,H.prototype),ie},C.apply(null,arguments)}function T(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function S(N){try{return Function.toString.call(N).indexOf("[native code]")!==-1}catch{return typeof N=="function"}}function M(N,E){return M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(w,L){return w.__proto__=L,w},M(N,E)}function O(N){return O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(h){return h.__proto__||Object.getPrototypeOf(h)},O(N)}function I(N){"@babel/helpers - typeof";return I=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},I(N)}function q(N,E){if(!(N instanceof E))throw new TypeError("Cannot call a class as a function")}function z(N,E){for(var h=0;h<E.length;h++){var w=E[h];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(N,G(w.key),w)}}function V(N,E,h){return E&&z(N.prototype,E),h&&z(N,h),Object.defineProperty(N,"prototype",{writable:!1}),N}function G(N){var E=Z(N,"string");return I(E)==="symbol"?E:String(E)}function Z(N,E){if(I(N)!=="object"||N===null)return N;var h=N[Symbol.toPrimitive];if(h!==void 0){var w=h.call(N,E);if(I(w)!=="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(N)}var ne=qJ();function X(N,E,h){for(var w=0;;w++){if(w==N.childCount||w==E.childCount)return N.childCount==E.childCount?null:h;var L=N.child(w),P=E.child(w);if(L==P){h+=L.nodeSize;continue}if(!L.sameMarkup(P))return h;if(L.isText&&L.text!=P.text){for(var H=0;L.text[H]==P.text[H];H++)h++;return h}if(L.content.size||P.content.size){var $=X(L.content,P.content,h+1);if($!=null)return $}h+=L.nodeSize}}function oe(N,E,h,w){for(var L=N.childCount,P=E.childCount;;){if(L==0||P==0)return L==P?null:{a:h,b:w};var H=N.child(--L),$=E.child(--P),ee=H.nodeSize;if(H==$){h-=ee,w-=ee;continue}if(!H.sameMarkup($))return{a:h,b:w};if(H.isText&&H.text!=$.text){for(var ie=0,be=Math.min(H.text.length,$.text.length);ie<be&&H.text[H.text.length-ie-1]==$.text[$.text.length-ie-1];)ie++,h--,w--;return{a:h,b:w}}if(H.content.size||$.content.size){var ge=oe(H.content,$.content,h-1,w-1);if(ge)return ge}h-=ee,w-=ee}}var ve=function(){function N(E,h){if(q(this,N),this.content=E,this.size=h||0,h==null)for(var w=0;w<E.length;w++)this.size+=E[w].nodeSize}return V(N,[{key:"nodesBetween",value:function(h,w,L){for(var P=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,H=arguments.length>4?arguments[4]:void 0,$=0,ee=0;ee<w;$++){var ie=this.content[$],be=ee+ie.nodeSize;if(be>h&&L(ie,P+ee,H||null,$)!==!1&&ie.content.size){var ge=ee+1;ie.nodesBetween(Math.max(0,h-ge),Math.min(ie.content.size,w-ge),L,P+ge)}ee=be}}},{key:"descendants",value:function(h){this.nodesBetween(0,this.size,h)}},{key:"textBetween",value:function(h,w,L,P){var H="",$=!0;return this.nodesBetween(h,w,function(ee,ie){var be=ee.isText?ee.text.slice(Math.max(h,ie)-ie,w-ie):ee.isLeaf?P?typeof P=="function"?P(ee):P:ee.type.spec.leafText?ee.type.spec.leafText(ee):"":"";ee.isBlock&&(ee.isLeaf&&be||ee.isTextblock)&&L&&($?$=!1:H+=L),H+=be},0),H}},{key:"append",value:function(h){if(!h.size)return this;if(!this.size)return h;var w=this.lastChild,L=h.firstChild,P=this.content.slice(),H=0;for(w.isText&&w.sameMarkup(L)&&(P[P.length-1]=w.withText(w.text+L.text),H=1);H<h.content.length;H++)P.push(h.content[H]);return new N(P,this.size+h.size)}},{key:"cut",value:function(h){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.size;if(h==0&&w==this.size)return this;var L=[],P=0;if(w>h)for(var H=0,$=0;$<w;H++){var ee=this.content[H],ie=$+ee.nodeSize;ie>h&&(($<h||ie>w)&&(ee.isText?ee=ee.cut(Math.max(0,h-$),Math.min(ee.text.length,w-$)):ee=ee.cut(Math.max(0,h-$-1),Math.min(ee.content.size,w-$-1))),L.push(ee),P+=ee.nodeSize),$=ie}return new N(L,P)}},{key:"cutByIndex",value:function(h,w){return h==w?N.empty:h==0&&w==this.content.length?this:new N(this.content.slice(h,w))}},{key:"replaceChild",value:function(h,w){var L=this.content[h];if(L==w)return this;var P=this.content.slice(),H=this.size+w.nodeSize-L.nodeSize;return P[h]=w,new N(P,H)}},{key:"addToStart",value:function(h){return new N([h].concat(this.content),this.size+h.nodeSize)}},{key:"addToEnd",value:function(h){return new N(this.content.concat(h),this.size+h.nodeSize)}},{key:"eq",value:function(h){if(this.content.length!=h.content.length)return!1;for(var w=0;w<this.content.length;w++)if(!this.content[w].eq(h.content[w]))return!1;return!0}},{key:"firstChild",get:function(){return this.content.length?this.content[0]:null}},{key:"lastChild",get:function(){return this.content.length?this.content[this.content.length-1]:null}},{key:"childCount",get:function(){return this.content.length}},{key:"child",value:function(h){var w=this.content[h];if(!w)throw new RangeError("Index "+h+" out of range for "+this);return w}},{key:"maybeChild",value:function(h){return this.content[h]||null}},{key:"forEach",value:function(h){for(var w=0,L=0;w<this.content.length;w++){var P=this.content[w];h(P,L,w),L+=P.nodeSize}}},{key:"findDiffStart",value:function(h){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return X(this,h,w)}},{key:"findDiffEnd",value:function(h){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.size,L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:h.size;return oe(this,h,w,L)}},{key:"findIndex",value:function(h){if(h==0)return Me(0,h);if(h==this.size)return Me(this.content.length,h);if(h>this.size||h<0)throw new RangeError("Position ".concat(h," outside of fragment (").concat(this,")"));for(var w=0,L=0;;w++){var P=this.child(w),H=L+P.nodeSize;if(H>=h)return H==h?Me(w+1,H):Me(w,L);L=H}}},{key:"toString",value:function(){return"<"+this.toStringInner()+">"}},{key:"toStringInner",value:function(){return this.content.join(", ")}},{key:"toJSON",value:function(){return this.content.length?this.content.map(function(h){return h.toJSON()}):null}}],[{key:"fromJSON",value:function(h,w){if(!w)return N.empty;if(!Array.isArray(w))throw new RangeError("Invalid input for Fragment.fromJSON");return new N(w.map(h.nodeFromJSON))}},{key:"fromArray",value:function(h){if(!h.length)return N.empty;for(var w,L=0,P=0;P<h.length;P++){var H=h[P];L+=H.nodeSize,P&&H.isText&&h[P-1].sameMarkup(H)?(w||(w=h.slice(0,P)),w[w.length-1]=H.withText(w[w.length-1].text+H.text)):w&&w.push(H)}return new N(w||h,L)}},{key:"from",value:function(h){if(!h)return N.empty;if(h instanceof N)return h;if(Array.isArray(h))return this.fromArray(h);if(h.attrs)return new N([h],h.nodeSize);throw new RangeError("Can not convert "+h+" to a Fragment"+(h.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}]),N}();ve.empty=new ve([],0);var ye={index:0,offset:0};function Me(N,E){return ye.index=N,ye.offset=E,ye}function Ke(N,E){if(N===E)return!0;if(!(N&&I(N)=="object")||!(E&&I(E)=="object"))return!1;var h=Array.isArray(N);if(Array.isArray(E)!=h)return!1;if(h){if(N.length!=E.length)return!1;for(var w=0;w<N.length;w++)if(!Ke(N[w],E[w]))return!1}else{for(var L in N)if(!(L in E)||!Ke(N[L],E[L]))return!1;for(var P in E)if(!(P in N))return!1}return!0}var Oe=function(){function N(E,h){q(this,N),this.type=E,this.attrs=h}return V(N,[{key:"addToSet",value:function(h){for(var w,L=!1,P=0;P<h.length;P++){var H=h[P];if(this.eq(H))return h;if(this.type.excludes(H.type))w||(w=h.slice(0,P));else{if(H.type.excludes(this.type))return h;!L&&H.type.rank>this.type.rank&&(w||(w=h.slice(0,P)),w.push(this),L=!0),w&&w.push(H)}}return w||(w=h.slice()),L||w.push(this),w}},{key:"removeFromSet",value:function(h){for(var w=0;w<h.length;w++)if(this.eq(h[w]))return h.slice(0,w).concat(h.slice(w+1));return h}},{key:"isInSet",value:function(h){for(var w=0;w<h.length;w++)if(this.eq(h[w]))return!0;return!1}},{key:"eq",value:function(h){return this==h||this.type==h.type&&Ke(this.attrs,h.attrs)}},{key:"toJSON",value:function(){var h={type:this.type.name};for(var w in this.attrs){h.attrs=this.attrs;break}return h}}],[{key:"fromJSON",value:function(h,w){if(!w)throw new RangeError("Invalid input for Mark.fromJSON");var L=h.marks[w.type];if(!L)throw new RangeError("There is no mark type ".concat(w.type," in this schema"));var P=L.create(w.attrs);return L.checkAttrs(P.attrs),P}},{key:"sameSet",value:function(h,w){if(h==w)return!0;if(h.length!=w.length)return!1;for(var L=0;L<h.length;L++)if(!h[L].eq(w[L]))return!1;return!0}},{key:"setFrom",value:function(h){if(!h||Array.isArray(h)&&h.length==0)return N.none;if(h instanceof N)return[h];var w=h.slice();return w.sort(function(L,P){return L.type.rank-P.type.rank}),w}}]),N}();Oe.none=[];var st=function(N){i(h,N);var E=o(h);function h(){return q(this,h),E.apply(this,arguments)}return V(h)}(g(Error)),Ye=function(){function N(E,h,w){q(this,N),this.content=E,this.openStart=h,this.openEnd=w}return V(N,[{key:"size",get:function(){return this.content.size-this.openStart-this.openEnd}},{key:"insertAt",value:function(h,w){var L=it(this.content,h+this.openStart,w);return L&&new N(L,this.openStart,this.openEnd)}},{key:"removeBetween",value:function(h,w){return new N(_t(this.content,h+this.openStart,w+this.openStart),this.openStart,this.openEnd)}},{key:"eq",value:function(h){return this.content.eq(h.content)&&this.openStart==h.openStart&&this.openEnd==h.openEnd}},{key:"toString",value:function(){return this.content+"("+this.openStart+","+this.openEnd+")"}},{key:"toJSON",value:function(){if(!this.content.size)return null;var h={content:this.content.toJSON()};return this.openStart>0&&(h.openStart=this.openStart),this.openEnd>0&&(h.openEnd=this.openEnd),h}}],[{key:"fromJSON",value:function(h,w){if(!w)return N.empty;var L=w.openStart||0,P=w.openEnd||0;if(typeof L!="number"||typeof P!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new N(ve.fromJSON(h,w.content),L,P)}},{key:"maxOpen",value:function(h){for(var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,L=0,P=0,H=h.firstChild;H&&!H.isLeaf&&(w||!H.type.spec.isolating);H=H.firstChild)L++;for(var $=h.lastChild;$&&!$.isLeaf&&(w||!$.type.spec.isolating);$=$.lastChild)P++;return new N(h,L,P)}}]),N}();Ye.empty=new Ye(ve.empty,0,0);function _t(N,E,h){var w=N.findIndex(E),L=w.index,P=w.offset,H=N.maybeChild(L),$=N.findIndex(h),ee=$.index,ie=$.offset;if(P==E||H.isText){if(ie!=h&&!N.child(ee).isText)throw new RangeError("Removing non-flat range");return N.cut(0,E).append(N.cut(h))}if(L!=ee)throw new RangeError("Removing non-flat range");return N.replaceChild(L,H.copy(_t(H.content,E-P-1,h-P-1)))}function it(N,E,h,w){var L=N.findIndex(E),P=L.index,H=L.offset,$=N.maybeChild(P);if(H==E||$.isText)return w&&!w.canReplace(P,P,h)?null:N.cut(0,E).append(h).append(N.cut(E));var ee=it($.content,E-H-1,h,$);return ee&&N.replaceChild(P,$.copy(ee))}function wt(N,E,h){if(h.openStart>N.depth)throw new st("Inserted content deeper than insertion position");if(N.depth-h.openStart!=E.depth-h.openEnd)throw new st("Inconsistent open depths");return Tt(N,E,h,0)}function Tt(N,E,h,w){var L=N.index(w),P=N.node(w);if(L==E.index(w)&&w<N.depth-h.openStart){var H=Tt(N,E,h,w+1);return P.copy(P.content.replaceChild(L,H))}else if(h.content.size)if(!h.openStart&&!h.openEnd&&N.depth==w&&E.depth==w){var $=N.parent,ee=$.content;return Et($,ee.cut(0,N.parentOffset).append(h.content).append(ee.cut(E.parentOffset)))}else{var ie=Lt(h,N),be=ie.start,ge=ie.end;return Et(P,kt(N,be,ge,E,w))}else return Et(P,Jt(N,E,w))}function Kt(N,E){if(!E.type.compatibleContent(N.type))throw new st("Cannot join "+E.type.name+" onto "+N.type.name)}function ze(N,E,h){var w=N.node(h);return Kt(w,E.node(h)),w}function ot(N,E){var h=E.length-1;h>=0&&N.isText&&N.sameMarkup(E[h])?E[h]=N.withText(E[h].text+N.text):E.push(N)}function rt(N,E,h,w){var L=(E||N).node(h),P=0,H=E?E.index(h):L.childCount;N&&(P=N.index(h),N.depth>h?P++:N.textOffset&&(ot(N.nodeAfter,w),P++));for(var $=P;$<H;$++)ot(L.child($),w);E&&E.depth==h&&E.textOffset&&ot(E.nodeBefore,w)}function Et(N,E){return N.type.checkContent(E),N.copy(E)}function kt(N,E,h,w,L){var P=N.depth>L&&ze(N,E,L+1),H=w.depth>L&&ze(h,w,L+1),$=[];return rt(null,N,L,$),P&&H&&E.index(L)==h.index(L)?(Kt(P,H),ot(Et(P,kt(N,E,h,w,L+1)),$)):(P&&ot(Et(P,Jt(N,E,L+1)),$),rt(E,h,L,$),H&&ot(Et(H,Jt(h,w,L+1)),$)),rt(w,null,L,$),new ve($)}function Jt(N,E,h){var w=[];if(rt(null,N,h,w),N.depth>h){var L=ze(N,E,h+1);ot(Et(L,Jt(N,E,h+1)),w)}return rt(E,null,h,w),new ve(w)}function Lt(N,E){for(var h=E.depth-N.openStart,w=E.node(h),L=w.copy(N.content),P=h-1;P>=0;P--)L=E.node(P).copy(ve.from(L));return{start:L.resolveNoCache(N.openStart+h),end:L.resolveNoCache(L.content.size-N.openEnd-h)}}var rr=function(){function N(E,h,w){q(this,N),this.pos=E,this.path=h,this.parentOffset=w,this.depth=h.length/3-1}return V(N,[{key:"resolveDepth",value:function(h){return h==null?this.depth:h<0?this.depth+h:h}},{key:"parent",get:function(){return this.node(this.depth)}},{key:"doc",get:function(){return this.node(0)}},{key:"node",value:function(h){return this.path[this.resolveDepth(h)*3]}},{key:"index",value:function(h){return this.path[this.resolveDepth(h)*3+1]}},{key:"indexAfter",value:function(h){return h=this.resolveDepth(h),this.index(h)+(h==this.depth&&!this.textOffset?0:1)}},{key:"start",value:function(h){return h=this.resolveDepth(h),h==0?0:this.path[h*3-1]+1}},{key:"end",value:function(h){return h=this.resolveDepth(h),this.start(h)+this.node(h).content.size}},{key:"before",value:function(h){if(h=this.resolveDepth(h),!h)throw new RangeError("There is no position before the top-level node");return h==this.depth+1?this.pos:this.path[h*3-1]}},{key:"after",value:function(h){if(h=this.resolveDepth(h),!h)throw new RangeError("There is no position after the top-level node");return h==this.depth+1?this.pos:this.path[h*3-1]+this.path[h*3].nodeSize}},{key:"textOffset",get:function(){return this.pos-this.path[this.path.length-1]}},{key:"nodeAfter",get:function(){var h=this.parent,w=this.index(this.depth);if(w==h.childCount)return null;var L=this.pos-this.path[this.path.length-1],P=h.child(w);return L?h.child(w).cut(L):P}},{key:"nodeBefore",get:function(){var h=this.index(this.depth),w=this.pos-this.path[this.path.length-1];return w?this.parent.child(h).cut(0,w):h==0?null:this.parent.child(h-1)}},{key:"posAtIndex",value:function(h,w){w=this.resolveDepth(w);for(var L=this.path[w*3],P=w==0?0:this.path[w*3-1]+1,H=0;H<h;H++)P+=L.child(H).nodeSize;return P}},{key:"marks",value:function(){var h=this.parent,w=this.index();if(h.content.size==0)return Oe.none;if(this.textOffset)return h.child(w).marks;var L=h.maybeChild(w-1),P=h.maybeChild(w);if(!L){var H=L;L=P,P=H}for(var $=L.marks,ee=0;ee<$.length;ee++)$[ee].type.spec.inclusive===!1&&(!P||!$[ee].isInSet(P.marks))&&($=$[ee--].removeFromSet($));return $}},{key:"marksAcross",value:function(h){var w=this.parent.maybeChild(this.index());if(!w||!w.isInline)return null;for(var L=w.marks,P=h.parent.maybeChild(h.index()),H=0;H<L.length;H++)L[H].type.spec.inclusive===!1&&(!P||!L[H].isInSet(P.marks))&&(L=L[H--].removeFromSet(L));return L}},{key:"sharedDepth",value:function(h){for(var w=this.depth;w>0;w--)if(this.start(w)<=h&&this.end(w)>=h)return w;return 0}},{key:"blockRange",value:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this,w=arguments.length>1?arguments[1]:void 0;if(h.pos<this.pos)return h.blockRange(this);for(var L=this.depth-(this.parent.inlineContent||this.pos==h.pos?1:0);L>=0;L--)if(h.pos<=this.end(L)&&(!w||w(this.node(L))))return new Q(this,h,L);return null}},{key:"sameParent",value:function(h){return this.pos-this.parentOffset==h.pos-h.parentOffset}},{key:"max",value:function(h){return h.pos>this.pos?h:this}},{key:"min",value:function(h){return h.pos<this.pos?h:this}},{key:"toString",value:function(){for(var h="",w=1;w<=this.depth;w++)h+=(h?"/":"")+this.node(w).type.name+"_"+this.index(w-1);return h+":"+this.parentOffset}}],[{key:"resolve",value:function(h,w){if(!(w>=0&&w<=h.content.size))throw new RangeError("Position "+w+" out of range");for(var L=[],P=0,H=w,$=h;;){var ee=$.content.findIndex(H),ie=ee.index,be=ee.offset,ge=H-be;if(L.push($,ie,P+be),!ge||($=$.child(ie),$.isText))break;H=ge-1,P+=be+1}return new N(w,L,H)}},{key:"resolveCached",value:function(h,w){var L=K.get(h);if(L)for(var P=0;P<L.elts.length;P++){var H=L.elts[P];if(H.pos==w)return H}else K.set(h,L=new le);var $=L.elts[L.i]=N.resolve(h,w);return L.i=(L.i+1)%ae,$}}]),N}(),le=V(function N(){q(this,N),this.elts=[],this.i=0}),ae=12,K=new WeakMap,Q=function(){function N(E,h,w){q(this,N),this.$from=E,this.$to=h,this.depth=w}return V(N,[{key:"start",get:function(){return this.$from.before(this.depth+1)}},{key:"end",get:function(){return this.$to.after(this.depth+1)}},{key:"parent",get:function(){return this.$from.node(this.depth)}},{key:"startIndex",get:function(){return this.$from.index(this.depth)}},{key:"endIndex",get:function(){return this.$to.indexAfter(this.depth)}}]),N}(),U=Object.create(null),ue=function(){function N(E,h,w){var L=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Oe.none;q(this,N),this.type=E,this.attrs=h,this.marks=L,this.content=w||ve.empty}return V(N,[{key:"children",get:function(){return this.content.content}},{key:"nodeSize",get:function(){return this.isLeaf?1:2+this.content.size}},{key:"childCount",get:function(){return this.content.childCount}},{key:"child",value:function(h){return this.content.child(h)}},{key:"maybeChild",value:function(h){return this.content.maybeChild(h)}},{key:"forEach",value:function(h){this.content.forEach(h)}},{key:"nodesBetween",value:function(h,w,L){var P=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;this.content.nodesBetween(h,w,L,P,this)}},{key:"descendants",value:function(h){this.nodesBetween(0,this.content.size,h)}},{key:"textContent",get:function(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}},{key:"textBetween",value:function(h,w,L,P){return this.content.textBetween(h,w,L,P)}},{key:"firstChild",get:function(){return this.content.firstChild}},{key:"lastChild",get:function(){return this.content.lastChild}},{key:"eq",value:function(h){return this==h||this.sameMarkup(h)&&this.content.eq(h.content)}},{key:"sameMarkup",value:function(h){return this.hasMarkup(h.type,h.attrs,h.marks)}},{key:"hasMarkup",value:function(h,w,L){return this.type==h&&Ke(this.attrs,w||h.defaultAttrs||U)&&Oe.sameSet(this.marks,L||Oe.none)}},{key:"copy",value:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return h==this.content?this:new N(this.type,this.attrs,h,this.marks)}},{key:"mark",value:function(h){return h==this.marks?this:new N(this.type,this.attrs,this.content,h)}},{key:"cut",value:function(h){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.content.size;return h==0&&w==this.content.size?this:this.copy(this.content.cut(h,w))}},{key:"slice",value:function(h){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.content.size,L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(h==w)return Ye.empty;var P=this.resolve(h),H=this.resolve(w),$=L?0:P.sharedDepth(w),ee=P.start($),ie=P.node($),be=ie.content.cut(P.pos-ee,H.pos-ee);return new Ye(be,P.depth-$,H.depth-$)}},{key:"replace",value:function(h,w,L){return wt(this.resolve(h),this.resolve(w),L)}},{key:"nodeAt",value:function(h){for(var w=this;;){var L=w.content.findIndex(h),P=L.index,H=L.offset;if(w=w.maybeChild(P),!w)return null;if(H==h||w.isText)return w;h-=H+1}}},{key:"childAfter",value:function(h){var w=this.content.findIndex(h),L=w.index,P=w.offset;return{node:this.content.maybeChild(L),index:L,offset:P}}},{key:"childBefore",value:function(h){if(h==0)return{node:null,index:0,offset:0};var w=this.content.findIndex(h),L=w.index,P=w.offset;if(P<h)return{node:this.content.child(L),index:L,offset:P};var H=this.content.child(L-1);return{node:H,index:L-1,offset:P-H.nodeSize}}},{key:"resolve",value:function(h){return rr.resolveCached(this,h)}},{key:"resolveNoCache",value:function(h){return rr.resolve(this,h)}},{key:"rangeHasMark",value:function(h,w,L){var P=!1;return w>h&&this.nodesBetween(h,w,function(H){return L.isInSet(H.marks)&&(P=!0),!P}),P}},{key:"isBlock",get:function(){return this.type.isBlock}},{key:"isTextblock",get:function(){return this.type.isTextblock}},{key:"inlineContent",get:function(){return this.type.inlineContent}},{key:"isInline",get:function(){return this.type.isInline}},{key:"isText",get:function(){return this.type.isText}},{key:"isLeaf",get:function(){return this.type.isLeaf}},{key:"isAtom",get:function(){return this.type.isAtom}},{key:"toString",value:function(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);var h=this.type.name;return this.content.size&&(h+="("+this.content.toStringInner()+")"),Ne(this.marks,h)}},{key:"contentMatchAt",value:function(h){var w=this.type.contentMatch.matchFragment(this.content,0,h);if(!w)throw new Error("Called contentMatchAt on a node with invalid content");return w}},{key:"canReplace",value:function(h,w){var L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ve.empty,P=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,H=arguments.length>4&&arguments[4]!==void 0?arguments[4]:L.childCount,$=this.contentMatchAt(h).matchFragment(L,P,H),ee=$&&$.matchFragment(this.content,w);if(!ee||!ee.validEnd)return!1;for(var ie=P;ie<H;ie++)if(!this.type.allowsMarks(L.child(ie).marks))return!1;return!0}},{key:"canReplaceWith",value:function(h,w,L,P){if(P&&!this.type.allowsMarks(P))return!1;var H=this.contentMatchAt(h).matchType(L),$=H&&H.matchFragment(this.content,w);return $?$.validEnd:!1}},{key:"canAppend",value:function(h){return h.content.size?this.canReplace(this.childCount,this.childCount,h.content):this.type.compatibleContent(h.type)}},{key:"check",value:function(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);for(var h=Oe.none,w=0;w<this.marks.length;w++){var L=this.marks[w];L.type.checkAttrs(L.attrs),h=L.addToSet(h)}if(!Oe.sameSet(h,this.marks))throw new RangeError("Invalid collection of marks for node ".concat(this.type.name,": ").concat(this.marks.map(function(P){return P.type.name})));this.content.forEach(function(P){return P.check()})}},{key:"toJSON",value:function(){var h={type:this.type.name};for(var w in this.attrs){h.attrs=this.attrs;break}return this.content.size&&(h.content=this.content.toJSON()),this.marks.length&&(h.marks=this.marks.map(function(L){return L.toJSON()})),h}}],[{key:"fromJSON",value:function(h,w){if(!w)throw new RangeError("Invalid input for Node.fromJSON");var L=void 0;if(w.marks){if(!Array.isArray(w.marks))throw new RangeError("Invalid mark data for Node.fromJSON");L=w.marks.map(h.markFromJSON)}if(w.type=="text"){if(typeof w.text!="string")throw new RangeError("Invalid text node in JSON");return h.text(w.text,L)}var P=ve.fromJSON(h,w.content),H=h.nodeType(w.type).create(w.attrs,P,L);return H.type.checkAttrs(H.attrs),H}}]),N}();ue.prototype.text=void 0;var de=function(N){i(h,N);var E=o(h);function h(w,L,P,H){var $;if(q(this,h),$=E.call(this,w,L,null,H),!P)throw new RangeError("Empty text nodes are not allowed");return $.text=P,$}return V(h,[{key:"toString",value:function(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):Ne(this.marks,JSON.stringify(this.text))}},{key:"textContent",get:function(){return this.text}},{key:"textBetween",value:function(L,P){return this.text.slice(L,P)}},{key:"nodeSize",get:function(){return this.text.length}},{key:"mark",value:function(L){return L==this.marks?this:new h(this.type,this.attrs,this.text,L)}},{key:"withText",value:function(L){return L==this.text?this:new h(this.type,this.attrs,L,this.marks)}},{key:"cut",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.text.length;return L==0&&P==this.text.length?this:this.withText(this.text.slice(L,P))}},{key:"eq",value:function(L){return this.sameMarkup(L)&&this.text==L.text}},{key:"toJSON",value:function(){var L=n(O(h.prototype),"toJSON",this).call(this);return L.text=this.text,L}}]),h}(ue);function Ne(N,E){for(var h=N.length-1;h>=0;h--)E=N[h].type.name+"("+E+")";return E}var He=function(){function N(E){q(this,N),this.validEnd=E,this.next=[],this.wrapCache=[]}return V(N,[{key:"matchType",value:function(h){for(var w=0;w<this.next.length;w++)if(this.next[w].type==h)return this.next[w].next;return null}},{key:"matchFragment",value:function(h){for(var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:h.childCount,P=this,H=w;P&&H<L;H++)P=P.matchType(h.child(H).type);return P}},{key:"inlineContent",get:function(){return this.next.length!=0&&this.next[0].type.isInline}},{key:"defaultType",get:function(){for(var h=0;h<this.next.length;h++){var w=this.next[h].type;if(!(w.isText||w.hasRequiredAttrs()))return w}return null}},{key:"compatible",value:function(h){for(var w=0;w<this.next.length;w++)for(var L=0;L<h.next.length;L++)if(this.next[w].type==h.next[L].type)return!0;return!1}},{key:"fillBefore",value:function(h){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,P=[this];function H($,ee){var ie=$.matchFragment(h,L);if(ie&&(!w||ie.validEnd))return ve.from(ee.map(function(Mt){return Mt.createAndFill()}));for(var be=0;be<$.next.length;be++){var ge=$.next[be],Se=ge.type,Ve=ge.next;if(!(Se.isText||Se.hasRequiredAttrs())&&P.indexOf(Ve)==-1){P.push(Ve);var ut=H(Ve,ee.concat(Se));if(ut)return ut}}return null}return H(this,[])}},{key:"findWrapping",value:function(h){for(var w=0;w<this.wrapCache.length;w+=2)if(this.wrapCache[w]==h)return this.wrapCache[w+1];var L=this.computeWrapping(h);return this.wrapCache.push(h,L),L}},{key:"computeWrapping",value:function(h){for(var w=Object.create(null),L=[{match:this,type:null,via:null}];L.length;){var P=L.shift(),H=P.match;if(H.matchType(h)){for(var $=[],ee=P;ee.type;ee=ee.via)$.push(ee.type);return $.reverse()}for(var ie=0;ie<H.next.length;ie++){var be=H.next[ie],ge=be.type,Se=be.next;!ge.isLeaf&&!ge.hasRequiredAttrs()&&!(ge.name in w)&&(!P.type||Se.validEnd)&&(L.push({match:ge.contentMatch,type:ge,via:P}),w[ge.name]=!0)}}return null}},{key:"edgeCount",get:function(){return this.next.length}},{key:"edge",value:function(h){if(h>=this.next.length)throw new RangeError("There's no ".concat(h,"th edge in this content match"));return this.next[h]}},{key:"toString",value:function(){var h=[];function w(L){h.push(L);for(var P=0;P<L.next.length;P++)h.indexOf(L.next[P].next)==-1&&w(L.next[P].next)}return w(this),h.map(function(L,P){for(var H=P+(L.validEnd?"*":" ")+" ",$=0;$<L.next.length;$++)H+=($?", ":"")+L.next[$].type.name+"->"+h.indexOf(L.next[$].next);return H}).join(`
`)}}],[{key:"parse",value:function(h,w){var L=new lt(h,w);if(L.next==null)return N.empty;var P=Je(L);L.next&&L.err("Unexpected trailing text");var H=Re(fn(P));return Ge(H,L),H}}]),N}();He.empty=new He(!0);var lt=function(){function N(E,h){q(this,N),this.string=E,this.nodeTypes=h,this.inline=null,this.pos=0,this.tokens=E.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}return V(N,[{key:"next",get:function(){return this.tokens[this.pos]}},{key:"eat",value:function(h){return this.next==h&&(this.pos++||!0)}},{key:"err",value:function(h){throw new SyntaxError(h+" (in content expression '"+this.string+"')")}}]),N}();function Je(N){var E=[];do E.push(xt(N));while(N.eat("|"));return E.length==1?E[0]:{type:"choice",exprs:E}}function xt(N){var E=[];do E.push(mt(N));while(N.next&&N.next!=")"&&N.next!="|");return E.length==1?E[0]:{type:"seq",exprs:E}}function mt(N){for(var E=An(N);;)if(N.eat("+"))E={type:"plus",expr:E};else if(N.eat("*"))E={type:"star",expr:E};else if(N.eat("?"))E={type:"opt",expr:E};else if(N.eat("{"))E=gt(N,E);else break;return E}function Pt(N){/\D/.test(N.next)&&N.err("Expected number, got '"+N.next+"'");var E=Number(N.next);return N.pos++,E}function gt(N,E){var h=Pt(N),w=h;return N.eat(",")&&(N.next!="}"?w=Pt(N):w=-1),N.eat("}")||N.err("Unclosed braced range"),{type:"range",min:h,max:w,expr:E}}function nr(N,E){var h=N.nodeTypes,w=h[E];if(w)return[w];var L=[];for(var P in h){var H=h[P];H.isInGroup(E)&&L.push(H)}return L.length==0&&N.err("No node type or group '"+E+"' found"),L}function An(N){if(N.eat("(")){var E=Je(N);return N.eat(")")||N.err("Missing closing paren"),E}else if(/\W/.test(N.next))N.err("Unexpected token '"+N.next+"'");else{var h=nr(N,N.next).map(function(w){return N.inline==null?N.inline=w.isInline:N.inline!=w.isInline&&N.err("Mixing inline and block content"),{type:"name",value:w}});return N.pos++,h.length==1?h[0]:{type:"choice",exprs:h}}}function fn(N){var E=[[]];return L(P(N,0),h()),E;function h(){return E.push([])-1}function w(H,$,ee){var ie={term:ee,to:$};return E[H].push(ie),ie}function L(H,$){H.forEach(function(ee){return ee.to=$})}function P(H,$){if(H.type=="choice")return H.exprs.reduce(function(hn,Rn){return hn.concat(P(Rn,$))},[]);if(H.type=="seq")for(var ee=0;;ee++){var ie=P(H.exprs[ee],$);if(ee==H.exprs.length-1)return ie;L(ie,$=h())}else if(H.type=="star"){var be=h();return w($,be),L(P(H.expr,be),be),[w(be)]}else if(H.type=="plus"){var ge=h();return L(P(H.expr,$),ge),L(P(H.expr,ge),ge),[w(ge)]}else{if(H.type=="opt")return[w($)].concat(P(H.expr,$));if(H.type=="range"){for(var Se=$,Ve=0;Ve<H.min;Ve++){var ut=h();L(P(H.expr,Se),ut),Se=ut}if(H.max==-1)L(P(H.expr,Se),Se);else for(var Mt=H.min;Mt<H.max;Mt++){var Rr=h();w(Se,Rr),L(P(H.expr,Se),Rr),Se=Rr}return[w(Se)]}else{if(H.type=="name")return[w($,void 0,H.value)];throw new Error("Unknown expr type")}}}}function Qt(N,E){return E-N}function De(N,E){var h=[];return w(E),h.sort(Qt);function w(L){var P=N[L];if(P.length==1&&!P[0].term)return w(P[0].to);h.push(L);for(var H=0;H<P.length;H++){var $=P[H],ee=$.term,ie=$.to;!ee&&h.indexOf(ie)==-1&&w(ie)}}}function Re(N){var E=Object.create(null);return h(De(N,0));function h(w){var L=[];w.forEach(function(ee){N[ee].forEach(function(ie){var be=ie.term,ge=ie.to;if(be){for(var Se,Ve=0;Ve<L.length;Ve++)L[Ve][0]==be&&(Se=L[Ve][1]);De(N,ge).forEach(function(ut){Se||L.push([be,Se=[]]),Se.indexOf(ut)==-1&&Se.push(ut)})}})});for(var P=E[w.join(",")]=new He(w.indexOf(N.length-1)>-1),H=0;H<L.length;H++){var $=L[H][1].sort(Qt);P.next.push({type:L[H][0],next:E[$.join(",")]||h($)})}return P}}function Ge(N,E){for(var h=0,w=[N];h<w.length;h++){for(var L=w[h],P=!L.validEnd,H=[],$=0;$<L.next.length;$++){var ee=L.next[$],ie=ee.type,be=ee.next;H.push(ie.name),P&&!(ie.isText||ie.hasRequiredAttrs())&&(P=!1),w.indexOf(be)==-1&&w.push(be)}P&&E.err("Only non-generatable nodes ("+H.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function Qe(N){var E=Object.create(null);for(var h in N){var w=N[h];if(!w.hasDefault)return null;E[h]=w.default}return E}function pt(N,E){var h=Object.create(null);for(var w in N){var L=E&&E[w];if(L===void 0){var P=N[w];if(P.hasDefault)L=P.default;else throw new RangeError("No value supplied for attribute "+w)}h[w]=L}return h}function vr(N,E,h,w){for(var L in E)if(!(L in N))throw new RangeError("Unsupported attribute ".concat(L," for ").concat(h," of type ").concat(L));for(var P in N){var H=N[P];H.validate&&H.validate(E[P])}}function Bt(N,E){var h=Object.create(null);if(E)for(var w in E)h[w]=new Ln(N,w,E[w]);return h}var Xt=function(){function N(E,h,w){q(this,N),this.name=E,this.schema=h,this.spec=w,this.markSet=null,this.groups=w.group?w.group.split(" "):[],this.attrs=Bt(E,w.attrs),this.defaultAttrs=Qe(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(w.inline||E=="text"),this.isText=E=="text"}return V(N,[{key:"isInline",get:function(){return!this.isBlock}},{key:"isTextblock",get:function(){return this.isBlock&&this.inlineContent}},{key:"isLeaf",get:function(){return this.contentMatch==He.empty}},{key:"isAtom",get:function(){return this.isLeaf||!!this.spec.atom}},{key:"isInGroup",value:function(h){return this.groups.indexOf(h)>-1}},{key:"whitespace",get:function(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}},{key:"hasRequiredAttrs",value:function(){for(var h in this.attrs)if(this.attrs[h].isRequired)return!0;return!1}},{key:"compatibleContent",value:function(h){return this==h||this.contentMatch.compatible(h.contentMatch)}},{key:"computeAttrs",value:function(h){return!h&&this.defaultAttrs?this.defaultAttrs:pt(this.attrs,h)}},{key:"create",value:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,w=arguments.length>1?arguments[1]:void 0,L=arguments.length>2?arguments[2]:void 0;if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new ue(this,this.computeAttrs(h),ve.from(w),Oe.setFrom(L))}},{key:"createChecked",value:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,w=arguments.length>1?arguments[1]:void 0,L=arguments.length>2?arguments[2]:void 0;return w=ve.from(w),this.checkContent(w),new ue(this,this.computeAttrs(h),w,Oe.setFrom(L))}},{key:"createAndFill",value:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,w=arguments.length>1?arguments[1]:void 0,L=arguments.length>2?arguments[2]:void 0;if(h=this.computeAttrs(h),w=ve.from(w),w.size){var P=this.contentMatch.fillBefore(w);if(!P)return null;w=P.append(w)}var H=this.contentMatch.matchFragment(w),$=H&&H.fillBefore(ve.empty,!0);return $?new ue(this,h,w.append($),Oe.setFrom(L)):null}},{key:"validContent",value:function(h){var w=this.contentMatch.matchFragment(h);if(!w||!w.validEnd)return!1;for(var L=0;L<h.childCount;L++)if(!this.allowsMarks(h.child(L).marks))return!1;return!0}},{key:"checkContent",value:function(h){if(!this.validContent(h))throw new RangeError("Invalid content for node ".concat(this.name,": ").concat(h.toString().slice(0,50)))}},{key:"checkAttrs",value:function(h){vr(this.attrs,h,"node",this.name)}},{key:"allowsMarkType",value:function(h){return this.markSet==null||this.markSet.indexOf(h)>-1}},{key:"allowsMarks",value:function(h){if(this.markSet==null)return!0;for(var w=0;w<h.length;w++)if(!this.allowsMarkType(h[w].type))return!1;return!0}},{key:"allowedMarks",value:function(h){if(this.markSet==null)return h;for(var w,L=0;L<h.length;L++)this.allowsMarkType(h[L].type)?w&&w.push(h[L]):w||(w=h.slice(0,L));return w?w.length?w:Oe.none:h}}],[{key:"compile",value:function(h,w){var L=Object.create(null);h.forEach(function($,ee){return L[$]=new N($,w,ee)});var P=w.spec.topNode||"doc";if(!L[P])throw new RangeError("Schema is missing its top node type ('"+P+"')");if(!L.text)throw new RangeError("Every schema needs a 'text' type");for(var H in L.text.attrs)throw new RangeError("The text node type should not have attributes");return L}}]),N}();function Qr(N,E,h){var w=h.split("|");return function(L){var P=L===null?"null":I(L);if(w.indexOf(P)<0)throw new RangeError("Expected value of type ".concat(w," for attribute ").concat(E," on type ").concat(N,", got ").concat(P))}}var Ln=function(){function N(E,h,w){q(this,N),this.hasDefault=Object.prototype.hasOwnProperty.call(w,"default"),this.default=w.default,this.validate=typeof w.validate=="string"?Qr(E,h,w.validate):w.validate}return V(N,[{key:"isRequired",get:function(){return!this.hasDefault}}]),N}(),pr=function(){function N(E,h,w,L){q(this,N),this.name=E,this.rank=h,this.schema=w,this.spec=L,this.attrs=Bt(E,L.attrs),this.excluded=null;var P=Qe(this.attrs);this.instance=P?new Oe(this,P):null}return V(N,[{key:"create",value:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return!h&&this.instance?this.instance:new Oe(this,pt(this.attrs,h))}},{key:"removeFromSet",value:function(h){for(var w=0;w<h.length;w++)h[w].type==this&&(h=h.slice(0,w).concat(h.slice(w+1)),w--);return h}},{key:"isInSet",value:function(h){for(var w=0;w<h.length;w++)if(h[w].type==this)return h[w]}},{key:"checkAttrs",value:function(h){vr(this.attrs,h,"mark",this.name)}},{key:"excludes",value:function(h){return this.excluded.indexOf(h)>-1}}],[{key:"compile",value:function(h,w){var L=Object.create(null),P=0;return h.forEach(function(H,$){return L[H]=new N(H,P++,w,$)}),L}}]),N}(),Or=function(){function N(E){var h=this;q(this,N),this.linebreakReplacement=null,this.cached=Object.create(null);var w=this.spec={};for(var L in E)w[L]=E[L];w.nodes=ne.from(E.nodes),w.marks=ne.from(E.marks||{}),this.nodes=Xt.compile(this.spec.nodes,this),this.marks=pr.compile(this.spec.marks,this);var P=Object.create(null);for(var H in this.nodes){if(H in this.marks)throw new RangeError(H+" can not be both a node and a mark");var $=this.nodes[H],ee=$.spec.content||"",ie=$.spec.marks;if($.contentMatch=P[ee]||(P[ee]=He.parse(ee,this.nodes)),$.inlineContent=$.contentMatch.inlineContent,$.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!$.isInline||!$.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=$}$.markSet=ie=="_"?null:ie?Dn(this,ie.split(" ")):ie==""||!$.inlineContent?[]:null}for(var be in this.marks){var ge=this.marks[be],Se=ge.spec.excludes;ge.excluded=Se==null?[ge]:Se==""?[]:Dn(this,Se.split(" "))}this.nodeFromJSON=function(Ve){return ue.fromJSON(h,Ve)},this.markFromJSON=function(Ve){return Oe.fromJSON(h,Ve)},this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}return V(N,[{key:"node",value:function(h){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,L=arguments.length>2?arguments[2]:void 0,P=arguments.length>3?arguments[3]:void 0;if(typeof h=="string")h=this.nodeType(h);else if(h instanceof Xt){if(h.schema!=this)throw new RangeError("Node type from different schema used ("+h.name+")")}else throw new RangeError("Invalid node type: "+h);return h.createChecked(w,L,P)}},{key:"text",value:function(h,w){var L=this.nodes.text;return new de(L,L.defaultAttrs,h,Oe.setFrom(w))}},{key:"mark",value:function(h,w){return typeof h=="string"&&(h=this.marks[h]),h.create(w)}},{key:"nodeType",value:function(h){var w=this.nodes[h];if(!w)throw new RangeError("Unknown node type: "+h);return w}}]),N}();function Dn(N,E){for(var h=[],w=0;w<E.length;w++){var L=E[w],P=N.marks[L],H=P;if(P)h.push(P);else for(var $ in N.marks){var ee=N.marks[$];(L=="_"||ee.spec.group&&ee.spec.group.split(" ").indexOf(L)>-1)&&h.push(H=ee)}if(!H)throw new SyntaxError("Unknown mark type: '"+E[w]+"'")}return h}function vn(N){return N.tag!=null}function pn(N){return N.style!=null}var _r=function(){function N(E,h){var w=this;q(this,N),this.schema=E,this.rules=h,this.tags=[],this.styles=[];var L=this.matchedStyles=[];h.forEach(function(P){if(vn(P))w.tags.push(P);else if(pn(P)){var H=/[^=]*/.exec(P.style)[0];L.indexOf(H)<0&&L.push(H),w.styles.push(P)}}),this.normalizeLists=!this.tags.some(function(P){if(!/^(ul|ol)\b/.test(P.tag)||!P.node)return!1;var H=E.nodes[P.node];return H.contentMatch.matchType(H)})}return V(N,[{key:"parse",value:function(h){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},L=new Tr(this,w,!1);return L.addAll(h,Oe.none,w.from,w.to),L.finish()}},{key:"parseSlice",value:function(h){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},L=new Tr(this,w,!0);return L.addAll(h,Oe.none,w.from,w.to),Ye.maxOpen(L.finish())}},{key:"matchTag",value:function(h,w,L){for(var P=L?this.tags.indexOf(L)+1:0;P<this.tags.length;P++){var H=this.tags[P];if(dn(h,H.tag)&&(H.namespace===void 0||h.namespaceURI==H.namespace)&&(!H.context||w.matchesContext(H.context))){if(H.getAttrs){var $=H.getAttrs(h);if($===!1)continue;H.attrs=$||void 0}return H}}}},{key:"matchStyle",value:function(h,w,L,P){for(var H=P?this.styles.indexOf(P)+1:0;H<this.styles.length;H++){var $=this.styles[H],ee=$.style;if(!(ee.indexOf(h)!=0||$.context&&!L.matchesContext($.context)||ee.length>h.length&&(ee.charCodeAt(h.length)!=61||ee.slice(h.length+1)!=w))){if($.getAttrs){var ie=$.getAttrs(w);if(ie===!1)continue;$.attrs=ie||void 0}return $}}}}],[{key:"schemaRules",value:function(h){var w=[];function L(ie){for(var be=ie.priority==null?50:ie.priority,ge=0;ge<w.length;ge++){var Se=w[ge],Ve=Se.priority==null?50:Se.priority;if(Ve<be)break}w.splice(ge,0,ie)}var P=function(be){var ge=h.marks[be].spec.parseDOM;ge&&ge.forEach(function(Se){L(Se=Xr(Se)),Se.mark||Se.ignore||Se.clearMark||(Se.mark=be)})};for(var H in h.marks)P(H);var $=function(be){var ge=h.nodes[be].spec.parseDOM;ge&&ge.forEach(function(Se){L(Se=Xr(Se)),Se.node||Se.ignore||Se.mark||(Se.node=be)})};for(var ee in h.nodes)$(ee);return w}},{key:"fromSchema",value:function(h){return h.cached.domParser||(h.cached.domParser=new N(h,N.schemaRules(h)))}}]),N}(),Nr={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},ar={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},On={ol:!0,ul:!0},St=1,ir=2,Dt=4;function zr(N,E,h){return E!=null?(E?St:0)|(E==="full"?ir:0):N&&N.whitespace=="pre"?St|ir:h&~Dt}var Mr=function(){function N(E,h,w,L,P,H){q(this,N),this.type=E,this.attrs=h,this.marks=w,this.solid=L,this.options=H,this.content=[],this.activeMarks=Oe.none,this.match=P||(H&Dt?null:E.contentMatch)}return V(N,[{key:"findWrapping",value:function(h){if(!this.match){if(!this.type)return[];var w=this.type.contentMatch.fillBefore(ve.from(h));if(w)this.match=this.type.contentMatch.matchFragment(w);else{var L=this.type.contentMatch,P;return(P=L.findWrapping(h.type))?(this.match=L,P):null}}return this.match.findWrapping(h.type)}},{key:"finish",value:function(h){if(!(this.options&St)){var w=this.content[this.content.length-1],L;if(w&&w.isText&&(L=/[ \t\r\n\u000c]+$/.exec(w.text))){var P=w;w.text.length==L[0].length?this.content.pop():this.content[this.content.length-1]=P.withText(P.text.slice(0,P.text.length-L[0].length))}}var H=ve.from(this.content);return!h&&this.match&&(H=H.append(this.match.fillBefore(ve.empty,!0))),this.type?this.type.create(this.attrs,H,this.marks):H}},{key:"inlineContext",value:function(h){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:h.parentNode&&!Nr.hasOwnProperty(h.parentNode.nodeName.toLowerCase())}}]),N}(),Tr=function(){function N(E,h,w){q(this,N),this.parser=E,this.options=h,this.isOpen=w,this.open=0,this.localPreserveWS=!1;var L=h.topNode,P,H=zr(null,h.preserveWhitespace,0)|(w?Dt:0);L?P=new Mr(L.type,L.attrs,Oe.none,!0,h.topMatch||L.type.contentMatch,H):w?P=new Mr(null,null,Oe.none,!0,null,H):P=new Mr(E.schema.topNodeType,null,Oe.none,!0,null,H),this.nodes=[P],this.find=h.findPositions,this.needsBlock=!1}return V(N,[{key:"top",get:function(){return this.nodes[this.open]}},{key:"addDOM",value:function(h,w){h.nodeType==3?this.addTextNode(h,w):h.nodeType==1&&this.addElement(h,w)}},{key:"addTextNode",value:function(h,w){var L=h.nodeValue,P=this.top,H=P.options&ir?"full":this.localPreserveWS||(P.options&St)>0,$=this.parser.schema;if(H==="full"||P.inlineContext(h)||/[^ \t\r\n\u000c]/.test(L)){if(H)if(H==="full")L=L.replace(/\r\n?/g,`
`);else if($.linebreakReplacement&&/[\r\n]/.test(L)&&this.top.findWrapping($.linebreakReplacement.create())){for(var be=L.split(/\r?\n|\r/),ge=0;ge<be.length;ge++)ge&&this.insertNode($.linebreakReplacement.create(),w,!0),be[ge]&&this.insertNode($.text(be[ge]),w,!/\S/.test(be[ge]));L=""}else L=L.replace(/\r?\n|\r/g," ");else if(L=L.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(L)&&this.open==this.nodes.length-1){var ee=P.content[P.content.length-1],ie=h.previousSibling;(!ee||ie&&ie.nodeName=="BR"||ee.isText&&/[ \t\r\n\u000c]$/.test(ee.text))&&(L=L.slice(1))}L&&this.insertNode($.text(L),w,!/\S/.test(L)),this.findInText(h)}else this.findInside(h)}},{key:"addElement",value:function(h,w,L){var P=this.localPreserveWS,H=this.top;(h.tagName=="PRE"||/pre/.test(h.style&&h.style.whiteSpace))&&(this.localPreserveWS=!0);var $=h.nodeName.toLowerCase(),ee;On.hasOwnProperty($)&&this.parser.normalizeLists&&dr(h);var ie=this.options.ruleFromNode&&this.options.ruleFromNode(h)||(ee=this.parser.matchTag(h,this,L));e:if(ie?ie.ignore:ar.hasOwnProperty($))this.findInside(h),this.ignoreFallback(h,w);else if(!ie||ie.skip||ie.closeParent){ie&&ie.closeParent?this.open=Math.max(0,this.open-1):ie&&ie.skip.nodeType&&(h=ie.skip);var be,ge=this.needsBlock;if(Nr.hasOwnProperty($))H.content.length&&H.content[0].isInline&&this.open&&(this.open--,H=this.top),be=!0,H.type||(this.needsBlock=!0);else if(!h.firstChild){this.leafFallback(h,w);break e}var Se=ie&&ie.skip?w:this.readStyles(h,w);Se&&this.addAll(h,Se),be&&this.sync(H),this.needsBlock=ge}else{var Ve=this.readStyles(h,w);Ve&&this.addElementByRule(h,ie,Ve,ie.consuming===!1?ee:void 0)}this.localPreserveWS=P}},{key:"leafFallback",value:function(h,w){h.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(h.ownerDocument.createTextNode(`
`),w)}},{key:"ignoreFallback",value:function(h,w){h.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),w,!0)}},{key:"readStyles",value:function(h,w){var L=this,P=h.style;if(P&&P.length)for(var H=0;H<this.parser.matchedStyles.length;H++){var $=this.parser.matchedStyles[H],ee=P.getPropertyValue($);if(ee){for(var ie=function(Ve){var ut=L.parser.matchStyle($,ee,L,Ve);if(!ut)return ge=Ve,0;if(ut.ignore)return{v:null};if(ut.clearMark?w=w.filter(function(Mt){return!ut.clearMark(Mt)}):w=w.concat(L.parser.schema.marks[ut.mark].create(ut.attrs)),ut.consuming===!1)Ve=ut;else return ge=Ve,0;ge=Ve},be,ge=void 0;be=ie(ge),be!==0;)if(be)return be.v}}return w}},{key:"addElementByRule",value:function(h,w,L,P){var H=this,$,ee;if(w.node)if(ee=this.parser.schema.nodes[w.node],ee.isLeaf)this.insertNode(ee.create(w.attrs),L,h.nodeName=="BR")||this.leafFallback(h,L);else{var ie=this.enter(ee,w.attrs||null,L,w.preserveWhitespace);ie&&($=!0,L=ie)}else{var be=this.parser.schema.marks[w.mark];L=L.concat(be.create(w.attrs))}var ge=this.top;if(ee&&ee.isLeaf)this.findInside(h);else if(P)this.addElement(h,L,P);else if(w.getContent)this.findInside(h),w.getContent(h,this.parser.schema).forEach(function(Ve){return H.insertNode(Ve,L,!1)});else{var Se=h;typeof w.contentElement=="string"?Se=h.querySelector(w.contentElement):typeof w.contentElement=="function"?Se=w.contentElement(h):w.contentElement&&(Se=w.contentElement),this.findAround(h,Se,!0),this.addAll(Se,L),this.findAround(h,Se,!1)}$&&this.sync(ge)&&this.open--}},{key:"addAll",value:function(h,w,L,P){for(var H=L||0,$=L?h.childNodes[L]:h.firstChild,ee=P==null?null:h.childNodes[P];$!=ee;$=$.nextSibling,++H)this.findAtPoint(h,H),this.addDOM($,w);this.findAtPoint(h,H)}},{key:"findPlace",value:function(h,w,L){for(var P,H,$=this.open,ee=0;$>=0;$--){var ie=this.nodes[$],be=ie.findWrapping(h);if(be&&(!P||P.length>be.length+ee)&&(P=be,H=ie,!be.length))break;if(ie.solid){if(L)break;ee+=2}}if(!P)return null;this.sync(H);for(var ge=0;ge<P.length;ge++)w=this.enterInner(P[ge],null,w,!1);return w}},{key:"insertNode",value:function(h,w,L){if(h.isInline&&this.needsBlock&&!this.top.type){var P=this.textblockFromContext();P&&(w=this.enterInner(P,null,w))}var H=this.findPlace(h,w,L);if(H){this.closeExtra();var $=this.top;$.match&&($.match=$.match.matchType(h.type));var ee=Oe.none,ie=r(H.concat(h.marks)),be;try{for(ie.s();!(be=ie.n()).done;){var ge=be.value;($.type?$.type.allowsMarkType(ge.type):Zr(ge.type,h.type))&&(ee=ge.addToSet(ee))}}catch(Se){ie.e(Se)}finally{ie.f()}return $.content.push(h.mark(ee)),!0}return!1}},{key:"enter",value:function(h,w,L,P){var H=this.findPlace(h.create(w),L,!1);return H&&(H=this.enterInner(h,w,L,!0,P)),H}},{key:"enterInner",value:function(h,w,L){var P=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,H=arguments.length>4?arguments[4]:void 0;this.closeExtra();var $=this.top;$.match=$.match&&$.match.matchType(h);var ee=zr(h,H,$.options);$.options&Dt&&$.content.length==0&&(ee|=Dt);var ie=Oe.none;return L=L.filter(function(be){return($.type?$.type.allowsMarkType(be.type):Zr(be.type,h))?(ie=be.addToSet(ie),!1):!0}),this.nodes.push(new Mr(h,w,ie,P,null,ee)),this.open++,L}},{key:"closeExtra",value:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,w=this.nodes.length-1;if(w>this.open){for(;w>this.open;w--)this.nodes[w-1].content.push(this.nodes[w].finish(h));this.nodes.length=this.open+1}}},{key:"finish",value:function(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}},{key:"sync",value:function(h){for(var w=this.open;w>=0;w--){if(this.nodes[w]==h)return this.open=w,!0;this.localPreserveWS&&(this.nodes[w].options|=St)}return!1}},{key:"currentPos",get:function(){this.closeExtra();for(var h=0,w=this.open;w>=0;w--){for(var L=this.nodes[w].content,P=L.length-1;P>=0;P--)h+=L[P].nodeSize;w&&h++}return h}},{key:"findAtPoint",value:function(h,w){if(this.find)for(var L=0;L<this.find.length;L++)this.find[L].node==h&&this.find[L].offset==w&&(this.find[L].pos=this.currentPos)}},{key:"findInside",value:function(h){if(this.find)for(var w=0;w<this.find.length;w++)this.find[w].pos==null&&h.nodeType==1&&h.contains(this.find[w].node)&&(this.find[w].pos=this.currentPos)}},{key:"findAround",value:function(h,w,L){if(h!=w&&this.find){for(var P=0;P<this.find.length;P++)if(this.find[P].pos==null&&h.nodeType==1&&h.contains(this.find[P].node)){var H=w.compareDocumentPosition(this.find[P].node);H&(L?2:4)&&(this.find[P].pos=this.currentPos)}}}},{key:"findInText",value:function(h){if(this.find)for(var w=0;w<this.find.length;w++)this.find[w].node==h&&(this.find[w].pos=this.currentPos-(h.nodeValue.length-this.find[w].offset))}},{key:"matchesContext",value:function(h){var w=this;if(h.indexOf("|")>-1)return h.split(/\s*\|\s*/).some(this.matchesContext,this);var L=h.split("/"),P=this.options.context,H=!this.isOpen&&(!P||P.parent.type==this.nodes[0].type),$=-(P?P.depth+1:0)+(H?0:1),ee=function ie(be,ge){for(;be>=0;be--){var Se=L[be];if(Se==""){if(be==L.length-1||be==0)continue;for(;ge>=$;ge--)if(ie(be-1,ge))return!0;return!1}else{var Ve=ge>0||ge==0&&H?w.nodes[ge].type:P&&ge>=$?P.node(ge-$).type:null;if(!Ve||Ve.name!=Se&&!Ve.isInGroup(Se))return!1;ge--}}return!0};return ee(L.length-1,this.open)}},{key:"textblockFromContext",value:function(){var h=this.options.context;if(h)for(var w=h.depth;w>=0;w--){var L=h.node(w).contentMatchAt(h.indexAfter(w)).defaultType;if(L&&L.isTextblock&&L.defaultAttrs)return L}for(var P in this.parser.schema.nodes){var H=this.parser.schema.nodes[P];if(H.isTextblock&&H.defaultAttrs)return H}}}]),N}();function dr(N){for(var E=N.firstChild,h=null;E;E=E.nextSibling){var w=E.nodeType==1?E.nodeName.toLowerCase():null;w&&On.hasOwnProperty(w)&&h?(h.appendChild(E),E=h):w=="li"?h=E:w&&(h=null)}}function dn(N,E){return(N.matches||N.msMatchesSelector||N.webkitMatchesSelector||N.mozMatchesSelector).call(N,E)}function Xr(N){var E={};for(var h in N)E[h]=N[h];return E}function Zr(N,E){var h=E.schema.nodes,w=function(){var $=h[P];if(!$.allowsMarkType(N))return 0;var ee=[],ie=function be(ge){ee.push(ge);for(var Se=0;Se<ge.edgeCount;Se++){var Ve=ge.edge(Se),ut=Ve.type,Mt=Ve.next;if(ut==E||ee.indexOf(Mt)<0&&be(Mt))return!0}};if(ie($.contentMatch))return{v:!0}},L;for(var P in h)if(L=w(),L!==0&&L)return L.v}var Nn=function(){function N(E,h){q(this,N),this.nodes=E,this.marks=h}return V(N,[{key:"serializeFragment",value:function(h){var w=this,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},P=arguments.length>2?arguments[2]:void 0;P||(P=Y(L).createDocumentFragment());var H=P,$=[];return h.forEach(function(ee){if($.length||ee.marks.length){for(var ie=0,be=0;ie<$.length&&be<ee.marks.length;){var ge=ee.marks[be];if(!w.marks[ge.type.name]){be++;continue}if(!ge.eq($[ie][0])||ge.type.spec.spanning===!1)break;ie++,be++}for(;ie<$.length;)H=$.pop()[1];for(;be<ee.marks.length;){var Se=ee.marks[be++],Ve=w.serializeMark(Se,ee.isInline,L);Ve&&($.push([Se,H]),H.appendChild(Ve.dom),H=Ve.contentDOM||Ve.dom)}}H.appendChild(w.serializeNodeInner(ee,L))}),P}},{key:"serializeNodeInner",value:function(h,w){var L=Ct(Y(w),this.nodes[h.type.name](h),null,h.attrs),P=L.dom,H=L.contentDOM;if(H){if(h.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(h.content,w,H)}return P}},{key:"serializeNode",value:function(h){for(var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},L=this.serializeNodeInner(h,w),P=h.marks.length-1;P>=0;P--){var H=this.serializeMark(h.marks[P],h.isInline,w);H&&((H.contentDOM||H.dom).appendChild(L),L=H.dom)}return L}},{key:"serializeMark",value:function(h,w){var L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},P=this.marks[h.type.name];return P&&Ct(Y(L),P(h,w),null,h.attrs)}}],[{key:"renderSpec",value:function(h,w){var L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,P=arguments.length>3?arguments[3]:void 0;return Ct(h,w,L,P)}},{key:"fromSchema",value:function(h){return h.cached.domSerializer||(h.cached.domSerializer=new N(this.nodesFromSchema(h),this.marksFromSchema(h)))}},{key:"nodesFromSchema",value:function(h){var w=Ee(h.nodes);return w.text||(w.text=function(L){return L.text}),w}},{key:"marksFromSchema",value:function(h){return Ee(h.marks)}}]),N}();function Ee(N){var E={};for(var h in N){var w=N[h].spec.toDOM;w&&(E[h]=w)}return E}function Y(N){return N.document||window.document}var we=new WeakMap;function Ae(N){var E=we.get(N);return E===void 0&&we.set(N,E=et(N)),E}function et(N){var E=null;function h(w){if(w&&I(w)=="object")if(Array.isArray(w))if(typeof w[0]=="string")E||(E=[]),E.push(w);else for(var L=0;L<w.length;L++)h(w[L]);else for(var P in w)h(w[P])}return h(N),E}function Ct(N,E,h,w){if(typeof E=="string")return{dom:N.createTextNode(E)};if(E.nodeType!=null)return{dom:E};if(E.dom&&E.dom.nodeType!=null)return E;var L=E[0],P;if(typeof L!="string")throw new RangeError("Invalid array passed to renderSpec");if(w&&(P=Ae(w))&&P.indexOf(E)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");var H=L.indexOf(" ");H>0&&(h=L.slice(0,H),L=L.slice(H+1));var $,ee=h?N.createElementNS(h,L):N.createElement(L),ie=E[1],be=1;if(ie&&I(ie)=="object"&&ie.nodeType==null&&!Array.isArray(ie)){be=2;for(var ge in ie)if(ie[ge]!=null){var Se=ge.indexOf(" ");Se>0?ee.setAttributeNS(ge.slice(0,Se),ge.slice(Se+1),ie[ge]):ge=="style"&&ee.style?ee.style.cssText=ie[ge]:ee.setAttribute(ge,ie[ge])}}for(var Ve=be;Ve<E.length;Ve++){var ut=E[Ve];if(ut===0){if(Ve<E.length-1||Ve>be)throw new RangeError("Content hole must be the only child of its parent node");return{dom:ee,contentDOM:ee}}else{var Mt=Ct(N,ut,h,w),Rr=Mt.dom,hn=Mt.contentDOM;if(ee.appendChild(Rr),hn){if($)throw new RangeError("Multiple content holes");$=hn}}}return{dom:ee,contentDOM:$}}return Ar.ContentMatch=He,Ar.DOMParser=_r,Ar.DOMSerializer=Nn,Ar.Fragment=ve,Ar.Mark=Oe,Ar.MarkType=pr,Ar.Node=ue,Ar.NodeRange=Q,Ar.NodeType=Xt,Ar.ReplaceError=st,Ar.ResolvedPos=rr,Ar.Schema=Or,Ar.Slice=Ye,Ar}var pe=il(),Ja={},bn={};const Oh=65535,Nh=Math.pow(2,16);function FJ(r,e){return r+e*Nh}function op(r){return r&Oh}function HJ(r){return(r-(r&Oh))/Nh}const Rh=1,Ih=2,Ds=4,Ph=8;class Hs{constructor(e,t,n){this.pos=e,this.delInfo=t,this.recover=n}get deleted(){return(this.delInfo&Ph)>0}get deletedBefore(){return(this.delInfo&(Rh|Ds))>0}get deletedAfter(){return(this.delInfo&(Ih|Ds))>0}get deletedAcross(){return(this.delInfo&Ds)>0}}class Lr{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&Lr.empty)return Lr.empty}recover(e){let t=0,n=op(e);if(!this.inverted)for(let a=0;a<n;a++)t+=this.ranges[a*3+2]-this.ranges[a*3+1];return this.ranges[n*3]+t+HJ(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,n){let a=0,i=this.inverted?2:1,o=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let d=this.ranges[l]-(this.inverted?a:0);if(d>e)break;let g=this.ranges[l+i],C=this.ranges[l+o],T=d+g;if(e<=T){let S=g?e==d?-1:e==T?1:t:t,M=d+a+(S<0?0:C);if(n)return M;let O=e==(t<0?d:T)?null:FJ(l/3,e-d),I=e==d?Ih:e==T?Rh:Ds;return(t<0?e!=d:e!=T)&&(I|=Ph),new Hs(M,I,O)}a+=C-g}return n?e+a:new Hs(e+a,0,null)}touches(e,t){let n=0,a=op(t),i=this.inverted?2:1,o=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let d=this.ranges[l]-(this.inverted?n:0);if(d>e)break;let g=this.ranges[l+i],C=d+g;if(e<=C&&l==a*3)return!0;n+=this.ranges[l+o]-g}return!1}forEach(e){let t=this.inverted?2:1,n=this.inverted?1:2;for(let a=0,i=0;a<this.ranges.length;a+=3){let o=this.ranges[a],l=o-(this.inverted?i:0),d=o+(this.inverted?0:i),g=this.ranges[a+t],C=this.ranges[a+n];e(l,l+g,d,d+C),i+=C-g}}invert(){return new Lr(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Lr.empty:new Lr(e<0?[0,-e,0]:[0,0,e])}}Lr.empty=new Lr([]);class qi{constructor(e,t,n=0,a=e?e.length:0){this.mirror=t,this.from=n,this.to=a,this._maps=e||[],this.ownData=!(e||t)}get maps(){return this._maps}slice(e=0,t=this.maps.length){return new qi(this._maps,this.mirror,e,t)}appendMap(e,t){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),t!=null&&this.setMirror(this._maps.length-1,t)}appendMapping(e){for(let t=0,n=this._maps.length;t<e._maps.length;t++){let a=e.getMirror(t);this.appendMap(e._maps[t],a!=null&&a<t?n+a:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,n=this._maps.length+e._maps.length;t>=0;t--){let a=e.getMirror(t);this.appendMap(e._maps[t].invert(),a!=null&&a>t?n-a-1:void 0)}}invert(){let e=new qi;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let n=this.from;n<this.to;n++)e=this._maps[n].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,n){let a=0;for(let i=this.from;i<this.to;i++){let o=this._maps[i],l=o.mapResult(e,t);if(l.recover!=null){let d=this.getMirror(i);if(d!=null&&d>i&&d<this.to){i=d,e=this._maps[d].recover(l.recover);continue}}a|=l.delInfo,e=l.pos}return n?e:new Hs(e,a,null)}}const Gu=Object.create(null);class Cr{getMap(){return Lr.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=Gu[t.stepType];if(!n)throw new RangeError(`No step type ${t.stepType} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in Gu)throw new RangeError("Duplicate use of step JSON ID "+e);return Gu[e]=t,t.prototype.jsonID=e,t}}class Wt{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new Wt(e,null)}static fail(e){return new Wt(null,e)}static fromReplace(e,t,n,a){try{return Wt.ok(e.replace(t,n,a))}catch(i){if(i instanceof pe.ReplaceError)return Wt.fail(i.message);throw i}}}function Jc(r,e,t){let n=[];for(let a=0;a<r.childCount;a++){let i=r.child(a);i.content.size&&(i=i.copy(Jc(i.content,e,i))),i.isInline&&(i=e(i,t,a)),n.push(i)}return pe.Fragment.fromArray(n)}class la extends Cr{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=e.resolve(this.from),a=n.node(n.sharedDepth(this.to)),i=new pe.Slice(Jc(t.content,(o,l)=>!o.isAtom||!l.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),a),t.openStart,t.openEnd);return Wt.fromReplace(e,this.from,this.to,i)}invert(){return new Cn(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new la(t.pos,n.pos,this.mark)}merge(e){return e instanceof la&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new la(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new la(t.from,t.to,e.markFromJSON(t.mark))}}Cr.jsonID("addMark",la);class Cn extends Cr{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=new pe.Slice(Jc(t.content,a=>a.mark(this.mark.removeFromSet(a.marks)),e),t.openStart,t.openEnd);return Wt.fromReplace(e,this.from,this.to,n)}invert(){return new la(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new Cn(t.pos,n.pos,this.mark)}merge(e){return e instanceof Cn&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Cn(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Cn(t.from,t.to,e.markFromJSON(t.mark))}}Cr.jsonID("removeMark",Cn);class ua extends Cr{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Wt.fail("No node at mark step's position");let n=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return Wt.fromReplace(e,this.pos,this.pos+1,new pe.Slice(pe.Fragment.from(n),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let n=this.mark.addToSet(t.marks);if(n.length==t.marks.length){for(let a=0;a<t.marks.length;a++)if(!t.marks[a].isInSet(n))return new ua(this.pos,t.marks[a]);return new ua(this.pos,this.mark)}}return new Oa(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new ua(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new ua(t.pos,e.markFromJSON(t.mark))}}Cr.jsonID("addNodeMark",ua);class Oa extends Cr{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Wt.fail("No node at mark step's position");let n=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return Wt.fromReplace(e,this.pos,this.pos+1,new pe.Slice(pe.Fragment.from(n),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new ua(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Oa(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Oa(t.pos,e.markFromJSON(t.mark))}}Cr.jsonID("removeNodeMark",Oa);class Er extends Cr{constructor(e,t,n,a=!1){super(),this.from=e,this.to=t,this.slice=n,this.structure=a}apply(e){return this.structure&&kc(e,this.from,this.to)?Wt.fail("Structure replace would overwrite content"):Wt.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Lr([this.from,this.to-this.from,this.slice.size])}invert(e){return new Er(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deletedAcross&&n.deletedAcross?null:new Er(t.pos,Math.max(t.pos,n.pos),this.slice,this.structure)}merge(e){if(!(e instanceof Er)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?pe.Slice.empty:new pe.Slice(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Er(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?pe.Slice.empty:new pe.Slice(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Er(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Er(t.from,t.to,pe.Slice.fromJSON(e,t.slice),!!t.structure)}}Cr.jsonID("replace",Er);class ur extends Cr{constructor(e,t,n,a,i,o,l=!1){super(),this.from=e,this.to=t,this.gapFrom=n,this.gapTo=a,this.slice=i,this.insert=o,this.structure=l}apply(e){if(this.structure&&(kc(e,this.from,this.gapFrom)||kc(e,this.gapTo,this.to)))return Wt.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return Wt.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,t.content);return n?Wt.fromReplace(e,this.from,this.to,n):Wt.fail("Content does not fit in gap")}getMap(){return new Lr([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new ur(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1),a=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),i=this.to==this.gapTo?n.pos:e.map(this.gapTo,1);return t.deletedAcross&&n.deletedAcross||a<t.pos||i>n.pos?null:new ur(t.pos,n.pos,a,i,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new ur(t.from,t.to,t.gapFrom,t.gapTo,pe.Slice.fromJSON(e,t.slice),t.insert,!!t.structure)}}Cr.jsonID("replaceAround",ur);function kc(r,e,t){let n=r.resolve(e),a=t-e,i=n.depth;for(;a>0&&i>0&&n.indexAfter(i)==n.node(i).childCount;)i--,a--;if(a>0){let o=n.node(i).maybeChild(n.indexAfter(i));for(;a>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,a--}}return!1}function _J(r,e,t,n){let a=[],i=[],o,l;r.doc.nodesBetween(e,t,(d,g,C)=>{if(!d.isInline)return;let T=d.marks;if(!n.isInSet(T)&&C.type.allowsMarkType(n.type)){let S=Math.max(g,e),M=Math.min(g+d.nodeSize,t),O=n.addToSet(T);for(let I=0;I<T.length;I++)T[I].isInSet(O)||(o&&o.to==S&&o.mark.eq(T[I])?o.to=M:a.push(o=new Cn(S,M,T[I])));l&&l.to==S?l.to=M:i.push(l=new la(S,M,n))}}),a.forEach(d=>r.step(d)),i.forEach(d=>r.step(d))}function zJ(r,e,t,n){let a=[],i=0;r.doc.nodesBetween(e,t,(o,l)=>{if(!o.isInline)return;i++;let d=null;if(n instanceof pe.MarkType){let g=o.marks,C;for(;C=n.isInSet(g);)(d||(d=[])).push(C),g=C.removeFromSet(g)}else n?n.isInSet(o.marks)&&(d=[n]):d=o.marks;if(d&&d.length){let g=Math.min(l+o.nodeSize,t);for(let C=0;C<d.length;C++){let T=d[C],S;for(let M=0;M<a.length;M++){let O=a[M];O.step==i-1&&T.eq(a[M].style)&&(S=O)}S?(S.to=g,S.step=i):a.push({style:T,from:Math.max(l,e),to:g,step:i})}}}),a.forEach(o=>r.step(new Cn(o.from,o.to,o.style)))}function Qc(r,e,t,n=t.contentMatch,a=!0){let i=r.doc.nodeAt(e),o=[],l=e+1;for(let d=0;d<i.childCount;d++){let g=i.child(d),C=l+g.nodeSize,T=n.matchType(g.type);if(!T)o.push(new Er(l,C,pe.Slice.empty));else{n=T;for(let S=0;S<g.marks.length;S++)t.allowsMarkType(g.marks[S].type)||r.step(new Cn(l,C,g.marks[S]));if(a&&g.isText&&t.whitespace!="pre"){let S,M=/\r?\n|\r/g,O;for(;S=M.exec(g.text);)O||(O=new pe.Slice(pe.Fragment.from(t.schema.text(" ",t.allowedMarks(g.marks))),0,0)),o.push(new Er(l+S.index,l+S.index+S[0].length,O))}}l=C}if(!n.validEnd){let d=n.fillBefore(pe.Fragment.empty,!0);r.replace(l,l,new pe.Slice(d,0,0))}for(let d=o.length-1;d>=0;d--)r.step(o[d])}function $J(r,e,t){return(e==0||r.canReplace(e,r.childCount))&&(t==r.childCount||r.canReplace(0,t))}function So(r){let t=r.parent.content.cutByIndex(r.startIndex,r.endIndex);for(let n=r.depth,a=0,i=0;;--n){let o=r.$from.node(n),l=r.$from.index(n)+a,d=r.$to.indexAfter(n)-i;if(n<r.depth&&o.canReplace(l,d,t))return n;if(n==0||o.type.spec.isolating||!$J(o,l,d))break;l&&(a=1),d<o.childCount&&(i=1)}return null}function VJ(r,e,t){let{$from:n,$to:a,depth:i}=e,o=n.before(i+1),l=a.after(i+1),d=o,g=l,C=pe.Fragment.empty,T=0;for(let O=i,I=!1;O>t;O--)I||n.index(O)>0?(I=!0,C=pe.Fragment.from(n.node(O).copy(C)),T++):d--;let S=pe.Fragment.empty,M=0;for(let O=i,I=!1;O>t;O--)I||a.after(O+1)<a.end(O)?(I=!0,S=pe.Fragment.from(a.node(O).copy(S)),M++):g++;r.step(new ur(d,g,o,l,new pe.Slice(C.append(S),T,M),C.size-T,!0))}function Bh(r,e,t=null,n=r){let a=UJ(r,e),i=a&&jJ(n,e);return i?a.map(sp).concat({type:e,attrs:t}).concat(i.map(sp)):null}function sp(r){return{type:r,attrs:null}}function UJ(r,e){let{parent:t,startIndex:n,endIndex:a}=r,i=t.contentMatchAt(n).findWrapping(e);if(!i)return null;let o=i.length?i[0]:e;return t.canReplaceWith(n,a,o)?i:null}function jJ(r,e){let{parent:t,startIndex:n,endIndex:a}=r,i=t.child(n),o=e.contentMatch.findWrapping(i.type);if(!o)return null;let d=(o.length?o[o.length-1]:e).contentMatch;for(let g=n;d&&g<a;g++)d=d.matchType(t.child(g).type);return!d||!d.validEnd?null:o}function WJ(r,e,t){let n=pe.Fragment.empty;for(let o=t.length-1;o>=0;o--){if(n.size){let l=t[o].type.contentMatch.matchFragment(n);if(!l||!l.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}n=pe.Fragment.from(t[o].type.create(t[o].attrs,n))}let a=e.start,i=e.end;r.step(new ur(a,i,a,i,new pe.Slice(n,0,0),t.length,!0))}function GJ(r,e,t,n,a){if(!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let i=r.steps.length;r.doc.nodesBetween(e,t,(o,l)=>{let d=typeof a=="function"?a(o):a;if(o.isTextblock&&!o.hasMarkup(n,d)&&KJ(r.doc,r.mapping.slice(i).map(l),n)){let g=null;if(n.schema.linebreakReplacement){let M=n.whitespace=="pre",O=!!n.contentMatch.matchType(n.schema.linebreakReplacement);M&&!O?g=!1:!M&&O&&(g=!0)}g===!1&&Fh(r,o,l,i),Qc(r,r.mapping.slice(i).map(l,1),n,void 0,g===null);let C=r.mapping.slice(i),T=C.map(l,1),S=C.map(l+o.nodeSize,1);return r.step(new ur(T,S,T+1,S-1,new pe.Slice(pe.Fragment.from(n.create(d,null,o.marks)),0,0),1,!0)),g===!0&&qh(r,o,l,i),!1}})}function qh(r,e,t,n){e.forEach((a,i)=>{if(a.isText){let o,l=/\r?\n|\r/g;for(;o=l.exec(a.text);){let d=r.mapping.slice(n).map(t+1+i+o.index);r.replaceWith(d,d+1,e.type.schema.linebreakReplacement.create())}}})}function Fh(r,e,t,n){e.forEach((a,i)=>{if(a.type==a.type.schema.linebreakReplacement){let o=r.mapping.slice(n).map(t+1+i);r.replaceWith(o,o+1,e.type.schema.text(`
`))}})}function KJ(r,e,t){let n=r.resolve(e),a=n.index();return n.parent.canReplaceWith(a,a+1,t)}function JJ(r,e,t,n,a){let i=r.doc.nodeAt(e);if(!i)throw new RangeError("No node at given position");t||(t=i.type);let o=t.create(n,null,a||i.marks);if(i.isLeaf)return r.replaceWith(e,e+i.nodeSize,o);if(!t.validContent(i.content))throw new RangeError("Invalid content for node type "+t.name);r.step(new ur(e,e+i.nodeSize,e+1,e+i.nodeSize-1,new pe.Slice(pe.Fragment.from(o),0,0),1,!0))}function ti(r,e,t=1,n){let a=r.resolve(e),i=a.depth-t,o=n&&n[n.length-1]||a.parent;if(i<0||a.parent.type.spec.isolating||!a.parent.canReplace(a.index(),a.parent.childCount)||!o.type.validContent(a.parent.content.cutByIndex(a.index(),a.parent.childCount)))return!1;for(let g=a.depth-1,C=t-2;g>i;g--,C--){let T=a.node(g),S=a.index(g);if(T.type.spec.isolating)return!1;let M=T.content.cutByIndex(S,T.childCount),O=n&&n[C+1];O&&(M=M.replaceChild(0,O.type.create(O.attrs)));let I=n&&n[C]||T;if(!T.canReplace(S+1,T.childCount)||!I.type.validContent(M))return!1}let l=a.indexAfter(i),d=n&&n[0];return a.node(i).canReplaceWith(l,l,d?d.type:a.node(i+1).type)}function QJ(r,e,t=1,n){let a=r.doc.resolve(e),i=pe.Fragment.empty,o=pe.Fragment.empty;for(let l=a.depth,d=a.depth-t,g=t-1;l>d;l--,g--){i=pe.Fragment.from(a.node(l).copy(i));let C=n&&n[g];o=pe.Fragment.from(C?C.type.create(C.attrs,o):a.node(l).copy(o))}r.step(new Er(e,e,new pe.Slice(i.append(o),t,t),!0))}function Xc(r,e){let t=r.resolve(e),n=t.index();return Hh(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(n,n+1)}function XJ(r,e){e.content.size||r.type.compatibleContent(e.type);let t=r.contentMatchAt(r.childCount),{linebreakReplacement:n}=r.type.schema;for(let a=0;a<e.childCount;a++){let i=e.child(a),o=i.type==n?r.type.schema.nodes.text:i.type;if(t=t.matchType(o),!t||!r.type.allowsMarks(i.marks))return!1}return t.validEnd}function Hh(r,e){return!!(r&&e&&!r.isLeaf&&XJ(r,e))}function ZJ(r,e,t=-1){let n=r.resolve(e);for(let a=n.depth;;a--){let i,o,l=n.index(a);if(a==n.depth?(i=n.nodeBefore,o=n.nodeAfter):t>0?(i=n.node(a+1),l++,o=n.node(a).maybeChild(l)):(i=n.node(a).maybeChild(l-1),o=n.node(a+1)),i&&!i.isTextblock&&Hh(i,o)&&n.node(a).canReplace(l,l+1))return e;if(a==0)break;e=t<0?n.before(a):n.after(a)}}function YJ(r,e,t){let n=null,{linebreakReplacement:a}=r.doc.type.schema,i=r.doc.resolve(e-t),o=i.node().type;if(a&&o.inlineContent){let C=o.whitespace=="pre",T=!!o.contentMatch.matchType(a);C&&!T?n=!1:!C&&T&&(n=!0)}let l=r.steps.length;if(n===!1){let C=r.doc.resolve(e+t);Fh(r,C.node(),C.before(),l)}o.inlineContent&&Qc(r,e+t-1,o,i.node().contentMatchAt(i.index()),n==null);let d=r.mapping.slice(l),g=d.map(e-t);if(r.step(new Er(g,d.map(e+t,-1),pe.Slice.empty,!0)),n===!0){let C=r.doc.resolve(g);qh(r,C.node(),C.before(),r.steps.length)}return r}function _h(r,e,t){let n=r.resolve(e);if(n.parent.canReplaceWith(n.index(),n.index(),t))return e;if(n.parentOffset==0)for(let a=n.depth-1;a>=0;a--){let i=n.index(a);if(n.node(a).canReplaceWith(i,i,t))return n.before(a+1);if(i>0)return null}if(n.parentOffset==n.parent.content.size)for(let a=n.depth-1;a>=0;a--){let i=n.indexAfter(a);if(n.node(a).canReplaceWith(i,i,t))return n.after(a+1);if(i<n.node(a).childCount)return null}return null}function e7(r,e,t){let n=r.resolve(e);if(!t.content.size)return e;let a=t.content;for(let i=0;i<t.openStart;i++)a=a.firstChild.content;for(let i=1;i<=(t.openStart==0&&t.size?2:1);i++)for(let o=n.depth;o>=0;o--){let l=o==n.depth?0:n.pos<=(n.start(o+1)+n.end(o+1))/2?-1:1,d=n.index(o)+(l>0?1:0),g=n.node(o),C=!1;if(i==1)C=g.canReplace(d,d,a);else{let T=g.contentMatchAt(d).findWrapping(a.firstChild.type);C=T&&g.canReplaceWith(d,d,T[0])}if(C)return l==0?n.pos:l<0?n.before(o+1):n.after(o+1)}return null}function ol(r,e,t=e,n=pe.Slice.empty){if(e==t&&!n.size)return null;let a=r.resolve(e),i=r.resolve(t);return zh(a,i,n)?new Er(e,t,n):new t7(a,i,n).fit()}function zh(r,e,t){return!t.openStart&&!t.openEnd&&r.start()==e.start()&&r.parent.canReplace(r.index(),e.index(),t.content)}class t7{constructor(e,t,n){this.$from=e,this.$to=t,this.unplaced=n,this.frontier=[],this.placed=pe.Fragment.empty;for(let a=0;a<=e.depth;a++){let i=e.node(a);this.frontier.push({type:i.type,match:i.contentMatchAt(e.indexAfter(a))})}for(let a=e.depth;a>0;a--)this.placed=pe.Fragment.from(e.node(a).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let g=this.findFittable();g?this.placeNodes(g):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,n=this.$from,a=this.close(e<0?this.$to:n.doc.resolve(e));if(!a)return null;let i=this.placed,o=n.depth,l=a.depth;for(;o&&l&&i.childCount==1;)i=i.firstChild.content,o--,l--;let d=new pe.Slice(i,o,l);return e>-1?new ur(n.pos,e,this.$to.pos,this.$to.end(),d,t):d.size||n.pos!=this.$to.pos?new Er(n.pos,a.pos,d):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,n=0,a=this.unplaced.openEnd;n<e;n++){let i=t.firstChild;if(t.childCount>1&&(a=0),i.type.spec.isolating&&a<=n){e=n;break}t=i.content}for(let t=1;t<=2;t++)for(let n=t==1?e:this.unplaced.openStart;n>=0;n--){let a,i=null;n?(i=Ku(this.unplaced.content,n-1).firstChild,a=i.content):a=this.unplaced.content;let o=a.firstChild;for(let l=this.depth;l>=0;l--){let{type:d,match:g}=this.frontier[l],C,T=null;if(t==1&&(o?g.matchType(o.type)||(T=g.fillBefore(pe.Fragment.from(o),!1)):i&&d.compatibleContent(i.type)))return{sliceDepth:n,frontierDepth:l,parent:i,inject:T};if(t==2&&o&&(C=g.findWrapping(o.type)))return{sliceDepth:n,frontierDepth:l,parent:i,wrap:C};if(i&&g.matchType(i.type))break}}}openMore(){let{content:e,openStart:t,openEnd:n}=this.unplaced,a=Ku(e,t);return!a.childCount||a.firstChild.isLeaf?!1:(this.unplaced=new pe.Slice(e,t+1,Math.max(n,a.size+t>=e.size-n?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:n}=this.unplaced,a=Ku(e,t);if(a.childCount<=1&&t>0){let i=e.size-t<=t+a.size;this.unplaced=new pe.Slice(mo(e,t-1,1),t-1,i?t-1:n)}else this.unplaced=new pe.Slice(mo(e,t,1),t,n)}placeNodes({sliceDepth:e,frontierDepth:t,parent:n,inject:a,wrap:i}){for(;this.depth>t;)this.closeFrontierNode();if(i)for(let I=0;I<i.length;I++)this.openFrontierNode(i[I]);let o=this.unplaced,l=n?n.content:o.content,d=o.openStart-e,g=0,C=[],{match:T,type:S}=this.frontier[t];if(a){for(let I=0;I<a.childCount;I++)C.push(a.child(I));T=T.matchFragment(a)}let M=l.size+e-(o.content.size-o.openEnd);for(;g<l.childCount;){let I=l.child(g),q=T.matchType(I.type);if(!q)break;g++,(g>1||d==0||I.content.size)&&(T=q,C.push($h(I.mark(S.allowedMarks(I.marks)),g==1?d:0,g==l.childCount?M:-1)))}let O=g==l.childCount;O||(M=-1),this.placed=go(this.placed,t,pe.Fragment.from(C)),this.frontier[t].match=T,O&&M<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let I=0,q=l;I<M;I++){let z=q.lastChild;this.frontier.push({type:z.type,match:z.contentMatchAt(z.childCount)}),q=z.content}this.unplaced=O?e==0?pe.Slice.empty:new pe.Slice(mo(o.content,e-1,1),e-1,M<0?o.openEnd:e-1):new pe.Slice(mo(o.content,e,g),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!Ju(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:n}=this.$to,a=this.$to.after(n);for(;n>1&&a==this.$to.end(--n);)++a;return a}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:n,type:a}=this.frontier[t],i=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),o=Ju(e,t,a,n,i);if(o){for(let l=t-1;l>=0;l--){let{match:d,type:g}=this.frontier[l],C=Ju(e,l,g,d,!0);if(!C||C.childCount)continue e}return{depth:t,fit:o,move:i?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=go(this.placed,t.depth,t.fit)),e=t.move;for(let n=t.depth+1;n<=e.depth;n++){let a=e.node(n),i=a.type.contentMatch.fillBefore(a.content,!0,e.index(n));this.openFrontierNode(a.type,a.attrs,i)}return e}openFrontierNode(e,t=null,n){let a=this.frontier[this.depth];a.match=a.match.matchType(e),this.placed=go(this.placed,this.depth,pe.Fragment.from(e.create(t,n))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(pe.Fragment.empty,!0);t.childCount&&(this.placed=go(this.placed,this.frontier.length,t))}}function mo(r,e,t){return e==0?r.cutByIndex(t,r.childCount):r.replaceChild(0,r.firstChild.copy(mo(r.firstChild.content,e-1,t)))}function go(r,e,t){return e==0?r.append(t):r.replaceChild(r.childCount-1,r.lastChild.copy(go(r.lastChild.content,e-1,t)))}function Ku(r,e){for(let t=0;t<e;t++)r=r.firstChild.content;return r}function $h(r,e,t){if(e<=0)return r;let n=r.content;return e>1&&(n=n.replaceChild(0,$h(n.firstChild,e-1,n.childCount==1?t-1:0))),e>0&&(n=r.type.contentMatch.fillBefore(n).append(n),t<=0&&(n=n.append(r.type.contentMatch.matchFragment(n).fillBefore(pe.Fragment.empty,!0)))),r.copy(n)}function Ju(r,e,t,n,a){let i=r.node(e),o=a?r.indexAfter(e):r.index(e);if(o==i.childCount&&!t.compatibleContent(i.type))return null;let l=n.fillBefore(i.content,!0,o);return l&&!r7(t,i.content,o)?l:null}function r7(r,e,t){for(let n=t;n<e.childCount;n++)if(!r.allowsMarks(e.child(n).marks))return!0;return!1}function n7(r){return r.spec.defining||r.spec.definingForContent}function a7(r,e,t,n){if(!n.size)return r.deleteRange(e,t);let a=r.doc.resolve(e),i=r.doc.resolve(t);if(zh(a,i,n))return r.step(new Er(e,t,n));let o=Uh(a,i);o[o.length-1]==0&&o.pop();let l=-(a.depth+1);o.unshift(l);for(let S=a.depth,M=a.pos-1;S>0;S--,M--){let O=a.node(S).type.spec;if(O.defining||O.definingAsContext||O.isolating)break;o.indexOf(S)>-1?l=S:a.before(S)==M&&o.splice(1,0,-S)}let d=o.indexOf(l),g=[],C=n.openStart;for(let S=n.content,M=0;;M++){let O=S.firstChild;if(g.push(O),M==n.openStart)break;S=O.content}for(let S=C-1;S>=0;S--){let M=g[S],O=n7(M.type);if(O&&!M.sameMarkup(a.node(Math.abs(l)-1)))C=S;else if(O||!M.type.isTextblock)break}for(let S=n.openStart;S>=0;S--){let M=(S+C+1)%(n.openStart+1),O=g[M];if(O)for(let I=0;I<o.length;I++){let q=o[(I+d)%o.length],z=!0;q<0&&(z=!1,q=-q);let V=a.node(q-1),G=a.index(q-1);if(V.canReplaceWith(G,G,O.type,O.marks))return r.replace(a.before(q),z?i.after(q):t,new pe.Slice(Vh(n.content,0,n.openStart,M),M,n.openEnd))}}let T=r.steps.length;for(let S=o.length-1;S>=0&&(r.replace(e,t,n),!(r.steps.length>T));S--){let M=o[S];M<0||(e=a.before(M),t=i.after(M))}}function Vh(r,e,t,n,a){if(e<t){let i=r.firstChild;r=r.replaceChild(0,i.copy(Vh(i.content,e+1,t,n,i)))}if(e>n){let i=a.contentMatchAt(0),o=i.fillBefore(r).append(r);r=o.append(i.matchFragment(o).fillBefore(pe.Fragment.empty,!0))}return r}function i7(r,e,t,n){if(!n.isInline&&e==t&&r.doc.resolve(e).parent.content.size){let a=_h(r.doc,e,n.type);a!=null&&(e=t=a)}r.replaceRange(e,t,new pe.Slice(pe.Fragment.from(n),0,0))}function o7(r,e,t){let n=r.doc.resolve(e),a=r.doc.resolve(t),i=Uh(n,a);for(let o=0;o<i.length;o++){let l=i[o],d=o==i.length-1;if(d&&l==0||n.node(l).type.contentMatch.validEnd)return r.delete(n.start(l),a.end(l));if(l>0&&(d||n.node(l-1).canReplace(n.index(l-1),a.indexAfter(l-1))))return r.delete(n.before(l),a.after(l))}for(let o=1;o<=n.depth&&o<=a.depth;o++)if(e-n.start(o)==n.depth-o&&t>n.end(o)&&a.end(o)-t!=a.depth-o&&n.start(o-1)==a.start(o-1)&&n.node(o-1).canReplace(n.index(o-1),a.index(o-1)))return r.delete(n.before(o),t);r.delete(e,t)}function Uh(r,e){let t=[],n=Math.min(r.depth,e.depth);for(let a=n;a>=0;a--){let i=r.start(a);if(i<r.pos-(r.depth-a)||e.end(a)>e.pos+(e.depth-a)||r.node(a).type.spec.isolating||e.node(a).type.spec.isolating)break;(i==e.start(a)||a==r.depth&&a==e.depth&&r.parent.inlineContent&&e.parent.inlineContent&&a&&e.start(a-1)==i-1)&&t.push(a)}return t}class ri extends Cr{constructor(e,t,n){super(),this.pos=e,this.attr=t,this.value=n}apply(e){let t=e.nodeAt(this.pos);if(!t)return Wt.fail("No node at attribute step's position");let n=Object.create(null);for(let i in t.attrs)n[i]=t.attrs[i];n[this.attr]=this.value;let a=t.type.create(n,null,t.marks);return Wt.fromReplace(e,this.pos,this.pos+1,new pe.Slice(pe.Fragment.from(a),0,t.isLeaf?0:1))}getMap(){return Lr.empty}invert(e){return new ri(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new ri(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new ri(t.pos,t.attr,t.value)}}Cr.jsonID("attr",ri);class Fi extends Cr{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let a in e.attrs)t[a]=e.attrs[a];t[this.attr]=this.value;let n=e.type.create(t,e.content,e.marks);return Wt.ok(n)}getMap(){return Lr.empty}invert(e){return new Fi(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Fi(t.attr,t.value)}}Cr.jsonID("docAttr",Fi);let ai=class extends Error{};ai=function r(e){let t=Error.call(this,e);return t.__proto__=r.prototype,t};ai.prototype=Object.create(Error.prototype);ai.prototype.constructor=ai;ai.prototype.name="TransformError";class s7{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new qi}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new ai(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,n=pe.Slice.empty){let a=ol(this.doc,e,t,n);return a&&this.step(a),this}replaceWith(e,t,n){return this.replace(e,t,new pe.Slice(pe.Fragment.from(n),0,0))}delete(e,t){return this.replace(e,t,pe.Slice.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,n){return a7(this,e,t,n),this}replaceRangeWith(e,t,n){return i7(this,e,t,n),this}deleteRange(e,t){return o7(this,e,t),this}lift(e,t){return VJ(this,e,t),this}join(e,t=1){return YJ(this,e,t),this}wrap(e,t){return WJ(this,e,t),this}setBlockType(e,t=e,n,a=null){return GJ(this,e,t,n,a),this}setNodeMarkup(e,t,n=null,a){return JJ(this,e,t,n,a),this}setNodeAttribute(e,t,n){return this.step(new ri(e,t,n)),this}setDocAttribute(e,t){return this.step(new Fi(e,t)),this}addNodeMark(e,t){return this.step(new ua(e,t)),this}removeNodeMark(e,t){let n=this.doc.nodeAt(e);if(!n)throw new RangeError("No node at position "+e);if(t instanceof pe.Mark)t.isInSet(n.marks)&&this.step(new Oa(e,t));else{let a=n.marks,i,o=[];for(;i=t.isInSet(a);)o.push(new Oa(e,i)),a=i.removeFromSet(a);for(let l=o.length-1;l>=0;l--)this.step(o[l])}return this}split(e,t=1,n){return QJ(this,e,t,n),this}addMark(e,t,n){return _J(this,e,t,n),this}removeMark(e,t,n){return zJ(this,e,t,n),this}clearIncompatible(e,t,n){return Qc(this,e,t,n),this}}const l7=Object.freeze(Object.defineProperty({__proto__:null,AddMarkStep:la,AddNodeMarkStep:ua,AttrStep:ri,DocAttrStep:Fi,MapResult:Hs,Mapping:qi,RemoveMarkStep:Cn,RemoveNodeMarkStep:Oa,ReplaceAroundStep:ur,ReplaceStep:Er,Step:Cr,StepMap:Lr,StepResult:Wt,Transform:s7,get TransformError(){return ai},canJoin:Xc,canSplit:ti,dropPoint:e7,findWrapping:Bh,insertPoint:_h,joinPoint:ZJ,liftTarget:So,replaceStep:ol},Symbol.toStringTag,{value:"Module"})),Zc=IJ(l7);var lp;function Mo(){if(lp)return bn;lp=1;function r(){return typeof Reflect<"u"&&Reflect.get?r=Reflect.get.bind():r=function(ae,K,Q){var U=e(ae,K);if(U){var ue=Object.getOwnPropertyDescriptor(U,K);return ue.get?ue.get.call(arguments.length<3?ae:Q):ue.value}},r.apply(this,arguments)}function e(le,ae){for(;!Object.prototype.hasOwnProperty.call(le,ae)&&(le=d(le),le!==null););return le}function t(le,ae){if(typeof ae!="function"&&ae!==null)throw new TypeError("Super expression must either be null or a function");le.prototype=Object.create(ae&&ae.prototype,{constructor:{value:le,writable:!0,configurable:!0}}),Object.defineProperty(le,"prototype",{writable:!1}),ae&&n(le,ae)}function n(le,ae){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Q,U){return Q.__proto__=U,Q},n(le,ae)}function a(le){var ae=l();return function(){var Q=d(le),U;if(ae){var ue=d(this).constructor;U=Reflect.construct(Q,arguments,ue)}else U=Q.apply(this,arguments);return i(this,U)}}function i(le,ae){if(ae&&(g(ae)==="object"||typeof ae=="function"))return ae;if(ae!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return o(le)}function o(le){if(le===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return le}function l(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function d(le){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(K){return K.__proto__||Object.getPrototypeOf(K)},d(le)}function g(le){"@babel/helpers - typeof";return g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ae){return typeof ae}:function(ae){return ae&&typeof Symbol=="function"&&ae.constructor===Symbol&&ae!==Symbol.prototype?"symbol":typeof ae},g(le)}function C(le,ae){if(!(le instanceof ae))throw new TypeError("Cannot call a class as a function")}function T(le,ae){for(var K=0;K<ae.length;K++){var Q=ae[K];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(le,M(Q.key),Q)}}function S(le,ae,K){return ae&&T(le.prototype,ae),K&&T(le,K),Object.defineProperty(le,"prototype",{writable:!1}),le}function M(le){var ae=O(le,"string");return g(ae)==="symbol"?ae:String(ae)}function O(le,ae){if(g(le)!=="object"||le===null)return le;var K=le[Symbol.toPrimitive];if(K!==void 0){var Q=K.call(le,ae);if(g(Q)!=="object")return Q;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(le)}var I=il(),q=Zc,z=Object.create(null),V=function(){function le(ae,K,Q){C(this,le),this.$anchor=ae,this.$head=K,this.ranges=Q||[new G(ae.min(K),ae.max(K))]}return S(le,[{key:"anchor",get:function(){return this.$anchor.pos}},{key:"head",get:function(){return this.$head.pos}},{key:"from",get:function(){return this.$from.pos}},{key:"to",get:function(){return this.$to.pos}},{key:"$from",get:function(){return this.ranges[0].$from}},{key:"$to",get:function(){return this.ranges[0].$to}},{key:"empty",get:function(){for(var K=this.ranges,Q=0;Q<K.length;Q++)if(K[Q].$from.pos!=K[Q].$to.pos)return!1;return!0}},{key:"content",value:function(){return this.$from.doc.slice(this.from,this.to,!0)}},{key:"replace",value:function(K){for(var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:I.Slice.empty,U=Q.content.lastChild,ue=null,de=0;de<Q.openEnd;de++)ue=U,U=U.lastChild;for(var Ne=K.steps.length,He=this.ranges,lt=0;lt<He.length;lt++){var Je=He[lt],xt=Je.$from,mt=Je.$to,Pt=K.mapping.slice(Ne);K.replaceRange(Pt.map(xt.pos),Pt.map(mt.pos),lt?I.Slice.empty:Q),lt==0&&st(K,Ne,(U?U.isInline:ue&&ue.isTextblock)?-1:1)}}},{key:"replaceWith",value:function(K,Q){for(var U=K.steps.length,ue=this.ranges,de=0;de<ue.length;de++){var Ne=ue[de],He=Ne.$from,lt=Ne.$to,Je=K.mapping.slice(U),xt=Je.map(He.pos),mt=Je.map(lt.pos);de?K.deleteRange(xt,mt):(K.replaceRangeWith(xt,mt,Q),st(K,U,Q.isInline?-1:1))}}},{key:"getBookmark",value:function(){return X.between(this.$anchor,this.$head).getBookmark()}}],[{key:"findFrom",value:function(K,Q){var U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,ue=K.parent.inlineContent?new X(K):Oe(K.node(0),K.parent,K.pos,K.index(),Q,U);if(ue)return ue;for(var de=K.depth-1;de>=0;de--){var Ne=Q<0?Oe(K.node(0),K.node(de),K.before(de+1),K.index(de),Q,U):Oe(K.node(0),K.node(de),K.after(de+1),K.index(de)+1,Q,U);if(Ne)return Ne}return null}},{key:"near",value:function(K){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return this.findFrom(K,Q)||this.findFrom(K,-Q)||new Me(K.node(0))}},{key:"atStart",value:function(K){return Oe(K,K,0,0,1)||new Me(K)}},{key:"atEnd",value:function(K){return Oe(K,K,K.content.size,K.childCount,-1)||new Me(K)}},{key:"fromJSON",value:function(K,Q){if(!Q||!Q.type)throw new RangeError("Invalid input for Selection.fromJSON");var U=z[Q.type];if(!U)throw new RangeError("No selection type ".concat(Q.type," defined"));return U.fromJSON(K,Q)}},{key:"jsonID",value:function(K,Q){if(K in z)throw new RangeError("Duplicate use of selection JSON ID "+K);return z[K]=Q,Q.prototype.jsonID=K,Q}}]),le}();V.prototype.visible=!0;var G=S(function le(ae,K){C(this,le),this.$from=ae,this.$to=K}),Z=!1;function ne(le){!Z&&!le.parent.inlineContent&&(Z=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+le.parent.type.name+")"))}var X=function(le){t(K,le);var ae=a(K);function K(Q){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Q;return C(this,K),ne(Q),ne(U),ae.call(this,Q,U)}return S(K,[{key:"$cursor",get:function(){return this.$anchor.pos==this.$head.pos?this.$head:null}},{key:"map",value:function(U,ue){var de=U.resolve(ue.map(this.head));if(!de.parent.inlineContent)return V.near(de);var Ne=U.resolve(ue.map(this.anchor));return new K(Ne.parent.inlineContent?Ne:de,de)}},{key:"replace",value:function(U){var ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:I.Slice.empty;if(r(d(K.prototype),"replace",this).call(this,U,ue),ue==I.Slice.empty){var de=this.$from.marksAcross(this.$to);de&&U.ensureMarks(de)}}},{key:"eq",value:function(U){return U instanceof K&&U.anchor==this.anchor&&U.head==this.head}},{key:"getBookmark",value:function(){return new oe(this.anchor,this.head)}},{key:"toJSON",value:function(){return{type:"text",anchor:this.anchor,head:this.head}}}],[{key:"fromJSON",value:function(U,ue){if(typeof ue.anchor!="number"||typeof ue.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new K(U.resolve(ue.anchor),U.resolve(ue.head))}},{key:"create",value:function(U,ue){var de=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ue,Ne=U.resolve(ue);return new this(Ne,de==ue?Ne:U.resolve(de))}},{key:"between",value:function(U,ue,de){var Ne=U.pos-ue.pos;if((!de||Ne)&&(de=Ne>=0?1:-1),!ue.parent.inlineContent){var He=V.findFrom(ue,de,!0)||V.findFrom(ue,-de,!0);if(He)ue=He.$head;else return V.near(ue,de)}return U.parent.inlineContent||(Ne==0?U=ue:(U=(V.findFrom(U,-de,!0)||V.findFrom(U,de,!0)).$anchor,U.pos<ue.pos!=Ne<0&&(U=ue))),new K(U,ue)}}]),K}(V);V.jsonID("text",X);var oe=function(){function le(ae,K){C(this,le),this.anchor=ae,this.head=K}return S(le,[{key:"map",value:function(K){return new le(K.map(this.anchor),K.map(this.head))}},{key:"resolve",value:function(K){return X.between(K.resolve(this.anchor),K.resolve(this.head))}}]),le}(),ve=function(le){t(K,le);var ae=a(K);function K(Q){var U;C(this,K);var ue=Q.nodeAfter,de=Q.node(0).resolve(Q.pos+ue.nodeSize);return U=ae.call(this,Q,de),U.node=ue,U}return S(K,[{key:"map",value:function(U,ue){var de=ue.mapResult(this.anchor),Ne=de.deleted,He=de.pos,lt=U.resolve(He);return Ne?V.near(lt):new K(lt)}},{key:"content",value:function(){return new I.Slice(I.Fragment.from(this.node),0,0)}},{key:"eq",value:function(U){return U instanceof K&&U.anchor==this.anchor}},{key:"toJSON",value:function(){return{type:"node",anchor:this.anchor}}},{key:"getBookmark",value:function(){return new ye(this.anchor)}}],[{key:"fromJSON",value:function(U,ue){if(typeof ue.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new K(U.resolve(ue.anchor))}},{key:"create",value:function(U,ue){return new K(U.resolve(ue))}},{key:"isSelectable",value:function(U){return!U.isText&&U.type.spec.selectable!==!1}}]),K}(V);ve.prototype.visible=!1,V.jsonID("node",ve);var ye=function(){function le(ae){C(this,le),this.anchor=ae}return S(le,[{key:"map",value:function(K){var Q=K.mapResult(this.anchor),U=Q.deleted,ue=Q.pos;return U?new oe(ue,ue):new le(ue)}},{key:"resolve",value:function(K){var Q=K.resolve(this.anchor),U=Q.nodeAfter;return U&&ve.isSelectable(U)?new ve(Q):V.near(Q)}}]),le}(),Me=function(le){t(K,le);var ae=a(K);function K(Q){return C(this,K),ae.call(this,Q.resolve(0),Q.resolve(Q.content.size))}return S(K,[{key:"replace",value:function(U){var ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:I.Slice.empty;if(ue==I.Slice.empty){U.delete(0,U.doc.content.size);var de=V.atStart(U.doc);de.eq(U.selection)||U.setSelection(de)}else r(d(K.prototype),"replace",this).call(this,U,ue)}},{key:"toJSON",value:function(){return{type:"all"}}},{key:"map",value:function(U){return new K(U)}},{key:"eq",value:function(U){return U instanceof K}},{key:"getBookmark",value:function(){return Ke}}],[{key:"fromJSON",value:function(U){return new K(U)}}]),K}(V);V.jsonID("all",Me);var Ke={map:function(){return this},resolve:function(ae){return new Me(ae)}};function Oe(le,ae,K,Q,U){var ue=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1;if(ae.inlineContent)return X.create(le,K);for(var de=Q-(U>0?0:1);U>0?de<ae.childCount:de>=0;de+=U){var Ne=ae.child(de);if(Ne.isAtom){if(!ue&&ve.isSelectable(Ne))return ve.create(le,K-(U<0?Ne.nodeSize:0))}else{var He=Oe(le,Ne,K+U,U<0?Ne.childCount:0,U,ue);if(He)return He}K+=Ne.nodeSize*U}return null}function st(le,ae,K){var Q=le.steps.length-1;if(!(Q<ae)){var U=le.steps[Q];if(U instanceof q.ReplaceStep||U instanceof q.ReplaceAroundStep){var ue=le.mapping.maps[Q],de;ue.forEach(function(Ne,He,lt,Je){de==null&&(de=Je)}),le.setSelection(V.near(le.doc.resolve(de),K))}}}var Ye=1,_t=2,it=4,wt=function(le){t(K,le);var ae=a(K);function K(Q){var U;return C(this,K),U=ae.call(this,Q.doc),U.curSelectionFor=0,U.updated=0,U.meta=Object.create(null),U.time=Date.now(),U.curSelection=Q.selection,U.storedMarks=Q.storedMarks,U}return S(K,[{key:"selection",get:function(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}},{key:"setSelection",value:function(U){if(U.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=U,this.curSelectionFor=this.steps.length,this.updated=(this.updated|Ye)&~_t,this.storedMarks=null,this}},{key:"selectionSet",get:function(){return(this.updated&Ye)>0}},{key:"setStoredMarks",value:function(U){return this.storedMarks=U,this.updated|=_t,this}},{key:"ensureMarks",value:function(U){return I.Mark.sameSet(this.storedMarks||this.selection.$from.marks(),U)||this.setStoredMarks(U),this}},{key:"addStoredMark",value:function(U){return this.ensureMarks(U.addToSet(this.storedMarks||this.selection.$head.marks()))}},{key:"removeStoredMark",value:function(U){return this.ensureMarks(U.removeFromSet(this.storedMarks||this.selection.$head.marks()))}},{key:"storedMarksSet",get:function(){return(this.updated&_t)>0}},{key:"addStep",value:function(U,ue){r(d(K.prototype),"addStep",this).call(this,U,ue),this.updated=this.updated&~_t,this.storedMarks=null}},{key:"setTime",value:function(U){return this.time=U,this}},{key:"replaceSelection",value:function(U){return this.selection.replace(this,U),this}},{key:"replaceSelectionWith",value:function(U){var ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,de=this.selection;return ue&&(U=U.mark(this.storedMarks||(de.empty?de.$from.marks():de.$from.marksAcross(de.$to)||I.Mark.none))),de.replaceWith(this,U),this}},{key:"deleteSelection",value:function(){return this.selection.replace(this),this}},{key:"insertText",value:function(U,ue,de){var Ne=this.doc.type.schema;if(ue==null)return U?this.replaceSelectionWith(Ne.text(U),!0):this.deleteSelection();if(de==null&&(de=ue),!U)return this.deleteRange(ue,de);var He=this.storedMarks;if(!He){var lt=this.doc.resolve(ue);He=de==ue?lt.marks():lt.marksAcross(this.doc.resolve(de))}return this.replaceRangeWith(ue,de,Ne.text(U,He)),!this.selection.empty&&this.selection.to==ue+U.length&&this.setSelection(V.near(this.selection.$to)),this}},{key:"setMeta",value:function(U,ue){return this.meta[typeof U=="string"?U:U.key]=ue,this}},{key:"getMeta",value:function(U){return this.meta[typeof U=="string"?U:U.key]}},{key:"isGeneric",get:function(){for(var U in this.meta)return!1;return!0}},{key:"scrollIntoView",value:function(){return this.updated|=it,this}},{key:"scrolledIntoView",get:function(){return(this.updated&it)>0}}]),K}(q.Transform);function Tt(le,ae){return!ae||!le?le:le.bind(ae)}var Kt=S(function le(ae,K,Q){C(this,le),this.name=ae,this.init=Tt(K.init,Q),this.apply=Tt(K.apply,Q)}),ze=[new Kt("doc",{init:function(ae){return ae.doc||ae.schema.topNodeType.createAndFill()},apply:function(ae){return ae.doc}}),new Kt("selection",{init:function(ae,K){return ae.selection||V.atStart(K.doc)},apply:function(ae){return ae.selection}}),new Kt("storedMarks",{init:function(ae){return ae.storedMarks||null},apply:function(ae,K,Q,U){return U.selection.$cursor?ae.storedMarks:null}}),new Kt("scrollToSelection",{init:function(){return 0},apply:function(ae,K){return ae.scrolledIntoView?K+1:K}})],ot=S(function le(ae,K){var Q=this;C(this,le),this.schema=ae,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=ze.slice(),K&&K.forEach(function(U){if(Q.pluginsByKey[U.key])throw new RangeError("Adding different instances of a keyed plugin ("+U.key+")");Q.plugins.push(U),Q.pluginsByKey[U.key]=U,U.spec.state&&Q.fields.push(new Kt(U.key,U.spec.state,U))})}),rt=function(){function le(ae){C(this,le),this.config=ae}return S(le,[{key:"schema",get:function(){return this.config.schema}},{key:"plugins",get:function(){return this.config.plugins}},{key:"apply",value:function(K){return this.applyTransaction(K).state}},{key:"filterTransaction",value:function(K){for(var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1,U=0;U<this.config.plugins.length;U++)if(U!=Q){var ue=this.config.plugins[U];if(ue.spec.filterTransaction&&!ue.spec.filterTransaction.call(ue,K,this))return!1}return!0}},{key:"applyTransaction",value:function(K){if(!this.filterTransaction(K))return{state:this,transactions:[]};for(var Q=[K],U=this.applyInner(K),ue=null;;){for(var de=!1,Ne=0;Ne<this.config.plugins.length;Ne++){var He=this.config.plugins[Ne];if(He.spec.appendTransaction){var lt=ue?ue[Ne].n:0,Je=ue?ue[Ne].state:this,xt=lt<Q.length&&He.spec.appendTransaction.call(He,lt?Q.slice(lt):Q,Je,U);if(xt&&U.filterTransaction(xt,Ne)){if(xt.setMeta("appendedTransaction",K),!ue){ue=[];for(var mt=0;mt<this.config.plugins.length;mt++)ue.push(mt<Ne?{state:U,n:Q.length}:{state:this,n:0})}Q.push(xt),U=U.applyInner(xt),de=!0}ue&&(ue[Ne]={state:U,n:Q.length})}}if(!de)return{state:U,transactions:Q}}}},{key:"applyInner",value:function(K){if(!K.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");for(var Q=new le(this.config),U=this.config.fields,ue=0;ue<U.length;ue++){var de=U[ue];Q[de.name]=de.apply(K,this[de.name],this,Q)}return Q}},{key:"tr",get:function(){return new wt(this)}},{key:"reconfigure",value:function(K){for(var Q=new ot(this.schema,K.plugins),U=Q.fields,ue=new le(Q),de=0;de<U.length;de++){var Ne=U[de].name;ue[Ne]=this.hasOwnProperty(Ne)?this[Ne]:U[de].init(K,ue)}return ue}},{key:"toJSON",value:function(K){var Q={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(Q.storedMarks=this.storedMarks.map(function(Ne){return Ne.toJSON()})),K&&g(K)=="object")for(var U in K){if(U=="doc"||U=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");var ue=K[U],de=ue.spec.state;de&&de.toJSON&&(Q[U]=de.toJSON.call(ue,this[ue.key]))}return Q}}],[{key:"create",value:function(K){for(var Q=new ot(K.doc?K.doc.type.schema:K.schema,K.plugins),U=new le(Q),ue=0;ue<Q.fields.length;ue++)U[Q.fields[ue].name]=Q.fields[ue].init(K,U);return U}},{key:"fromJSON",value:function(K,Q,U){if(!Q)throw new RangeError("Invalid input for EditorState.fromJSON");if(!K.schema)throw new RangeError("Required config field 'schema' missing");var ue=new ot(K.schema,K.plugins),de=new le(ue);return ue.fields.forEach(function(Ne){if(Ne.name=="doc")de.doc=I.Node.fromJSON(K.schema,Q.doc);else if(Ne.name=="selection")de.selection=V.fromJSON(de.doc,Q.selection);else if(Ne.name=="storedMarks")Q.storedMarks&&(de.storedMarks=Q.storedMarks.map(K.schema.markFromJSON));else{if(U)for(var He in U){var lt=U[He],Je=lt.spec.state;if(lt.key==Ne.name&&Je&&Je.fromJSON&&Object.prototype.hasOwnProperty.call(Q,He)){de[Ne.name]=Je.fromJSON.call(lt,K,Q[He],de);return}}de[Ne.name]=Ne.init(K,de)}}),de}}]),le}();function Et(le,ae,K){for(var Q in le){var U=le[Q];U instanceof Function?U=U.bind(ae):Q=="handleDOMEvents"&&(U=Et(U,ae,{})),K[Q]=U}return K}var kt=function(){function le(ae){C(this,le),this.spec=ae,this.props={},ae.props&&Et(ae.props,this,this.props),this.key=ae.key?ae.key.key:Lt("plugin")}return S(le,[{key:"getState",value:function(K){return K[this.key]}}]),le}(),Jt=Object.create(null);function Lt(le){return le in Jt?le+"$"+ ++Jt[le]:(Jt[le]=0,le+"$")}var rr=function(){function le(){var ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"key";C(this,le),this.key=Lt(ae)}return S(le,[{key:"get",value:function(K){return K.config.pluginsByKey[this.key]}},{key:"getState",value:function(K){return K[this.key]}}]),le}();return bn.AllSelection=Me,bn.EditorState=rt,bn.NodeSelection=ve,bn.Plugin=kt,bn.PluginKey=rr,bn.Selection=V,bn.SelectionRange=G,bn.TextSelection=X,bn.Transaction=wt,bn}var up;function jh(){if(up)return Ja;up=1;function r(s,v){return n(s)||t(s,v)||i(s,v)||e()}function e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t(s,v){var u=s==null?null:typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(u!=null){var p,y,b,x,A=[],R=!0,F=!1;try{if(b=(u=u.call(s)).next,v!==0)for(;!(R=(p=b.call(u)).done)&&(A.push(p.value),A.length!==v);R=!0);}catch(j){F=!0,y=j}finally{try{if(!R&&u.return!=null&&(x=u.return(),Object(x)!==x))return}finally{if(F)throw y}}return A}}function n(s){if(Array.isArray(s))return s}function a(s,v){var u=typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(!u){if(Array.isArray(s)||(u=i(s))||v){u&&(s=u);var p=0,y=function(){};return{s:y,n:function(){return p>=s.length?{done:!0}:{done:!1,value:s[p++]}},e:function(F){throw F},f:y}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var b=!0,x=!1,A;return{s:function(){u=u.call(s)},n:function(){var F=u.next();return b=F.done,F},e:function(F){x=!0,A=F},f:function(){try{!b&&u.return!=null&&u.return()}finally{if(x)throw A}}}}function i(s,v){if(s){if(typeof s=="string")return o(s,v);var u=Object.prototype.toString.call(s).slice(8,-1);if(u==="Object"&&s.constructor&&(u=s.constructor.name),u==="Map"||u==="Set")return Array.from(s);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return o(s,v)}}function o(s,v){(v==null||v>s.length)&&(v=s.length);for(var u=0,p=new Array(v);u<v;u++)p[u]=s[u];return p}function l(){return typeof Reflect<"u"&&Reflect.get?l=Reflect.get.bind():l=function(v,u,p){var y=d(v,u);if(y){var b=Object.getOwnPropertyDescriptor(y,u);return b.get?b.get.call(arguments.length<3?v:p):b.value}},l.apply(this,arguments)}function d(s,v){for(;!Object.prototype.hasOwnProperty.call(s,v)&&(s=I(s),s!==null););return s}function g(s,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(v&&v.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),v&&C(s,v)}function C(s,v){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(p,y){return p.__proto__=y,p},C(s,v)}function T(s){var v=O();return function(){var p=I(s),y;if(v){var b=I(this).constructor;y=Reflect.construct(p,arguments,b)}else y=p.apply(this,arguments);return S(this,y)}}function S(s,v){if(v&&(q(v)==="object"||typeof v=="function"))return v;if(v!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return M(s)}function M(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function O(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function I(s){return I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(u){return u.__proto__||Object.getPrototypeOf(u)},I(s)}function q(s){"@babel/helpers - typeof";return q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},q(s)}function z(s,v){if(!(s instanceof v))throw new TypeError("Cannot call a class as a function")}function V(s,v){for(var u=0;u<v.length;u++){var p=v[u];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(s,Z(p.key),p)}}function G(s,v,u){return v&&V(s.prototype,v),u&&V(s,u),Object.defineProperty(s,"prototype",{writable:!1}),s}function Z(s){var v=ne(s,"string");return q(v)==="symbol"?v:String(v)}function ne(s,v){if(q(s)!=="object"||s===null)return s;var u=s[Symbol.toPrimitive];if(u!==void 0){var p=u.call(s,v);if(q(p)!=="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(s)}var X=Mo(),oe=il(),ve=Zc,ye=function(v){for(var u=0;;u++)if(v=v.previousSibling,!v)return u},Me=function(v){var u=v.assignedSlot||v.parentNode;return u&&u.nodeType==11?u.host:u},Ke=null,Oe=function(v,u,p){var y=Ke||(Ke=document.createRange());return y.setEnd(v,p??v.nodeValue.length),y.setStart(v,u||0),y},st=function(){Ke=null},Ye=function(v,u,p,y){return p&&(it(v,u,p,y,-1)||it(v,u,p,y,1))},_t=/^(img|br|input|textarea|hr)$/i;function it(s,v,u,p,y){for(var b;;){if(s==u&&v==p)return!0;if(v==(y<0?0:wt(s))){var x=s.parentNode;if(!x||x.nodeType!=1||ot(s)||_t.test(s.nodeName)||s.contentEditable=="false")return!1;v=ye(s)+(y<0?0:1),s=x}else if(s.nodeType==1){var A=s.childNodes[v+(y<0?-1:0)];if(A.nodeType==1&&A.contentEditable=="false")if(!((b=A.pmViewDesc)===null||b===void 0)&&b.ignoreForSelection)v+=y;else return!1;else s=A,v=y<0?wt(s):0}else return!1}}function wt(s){return s.nodeType==3?s.nodeValue.length:s.childNodes.length}function Tt(s,v){for(;;){if(s.nodeType==3&&v)return s;if(s.nodeType==1&&v>0){if(s.contentEditable=="false")return null;s=s.childNodes[v-1],v=wt(s)}else if(s.parentNode&&!ot(s))v=ye(s),s=s.parentNode;else return null}}function Kt(s,v){for(;;){if(s.nodeType==3&&v<s.nodeValue.length)return s;if(s.nodeType==1&&v<s.childNodes.length){if(s.contentEditable=="false")return null;s=s.childNodes[v],v=0}else if(s.parentNode&&!ot(s))v=ye(s)+1,s=s.parentNode;else return null}}function ze(s,v,u){for(var p=v==0,y=v==wt(s);p||y;){if(s==u)return!0;var b=ye(s);if(s=s.parentNode,!s)return!1;p=p&&b==0,y=y&&b==wt(s)}}function ot(s){for(var v,u=s;u&&!(v=u.pmViewDesc);u=u.parentNode);return v&&v.node&&v.node.isBlock&&(v.dom==s||v.contentDOM==s)}var rt=function(v){return v.focusNode&&Ye(v.focusNode,v.focusOffset,v.anchorNode,v.anchorOffset)};function Et(s,v){var u=document.createEvent("Event");return u.initEvent("keydown",!0,!0),u.keyCode=s,u.key=u.code=v,u}function kt(s){for(var v=s.activeElement;v&&v.shadowRoot;)v=v.shadowRoot.activeElement;return v}function Jt(s,v,u){if(s.caretPositionFromPoint)try{var p=s.caretPositionFromPoint(v,u);if(p)return{node:p.offsetNode,offset:Math.min(wt(p.offsetNode),p.offset)}}catch{}if(s.caretRangeFromPoint){var y=s.caretRangeFromPoint(v,u);if(y)return{node:y.startContainer,offset:Math.min(wt(y.startContainer),y.startOffset)}}}var Lt=typeof navigator<"u"?navigator:null,rr=typeof document<"u"?document:null,le=Lt&&Lt.userAgent||"",ae=/Edge\/(\d+)/.exec(le),K=/MSIE \d/.exec(le),Q=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(le),U=!!(K||Q||ae),ue=K?document.documentMode:Q?+Q[1]:ae?+ae[1]:0,de=!U&&/gecko\/(\d+)/i.test(le);de&&+(/Firefox\/(\d+)/.exec(le)||[0,0])[1];var Ne=!U&&/Chrome\/(\d+)/.exec(le),He=!!Ne,lt=Ne?+Ne[1]:0,Je=!U&&!!Lt&&/Apple Computer/.test(Lt.vendor),xt=Je&&(/Mobile\/\w+/.test(le)||!!Lt&&Lt.maxTouchPoints>2),mt=xt||(Lt?/Mac/.test(Lt.platform):!1),Pt=Lt?/Win/.test(Lt.platform):!1,gt=/Android \d/.test(le),nr=!!rr&&"webkitFontSmoothing"in rr.documentElement.style,An=nr?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function fn(s){var v=s.defaultView&&s.defaultView.visualViewport;return v?{left:0,right:v.width,top:0,bottom:v.height}:{left:0,right:s.documentElement.clientWidth,top:0,bottom:s.documentElement.clientHeight}}function Qt(s,v){return typeof s=="number"?s:s[v]}function De(s){var v=s.getBoundingClientRect(),u=v.width/s.offsetWidth||1,p=v.height/s.offsetHeight||1;return{left:v.left,right:v.left+s.clientWidth*u,top:v.top,bottom:v.top+s.clientHeight*p}}function Re(s,v,u){for(var p=s.someProp("scrollThreshold")||0,y=s.someProp("scrollMargin")||5,b=s.dom.ownerDocument,x=u||s.dom;x;){if(x.nodeType!=1){x=Me(x);continue}var A=x,R=A==b.body,F=R?fn(b):De(A),j=0,re=0;if(v.top<F.top+Qt(p,"top")?re=-(F.top-v.top+Qt(y,"top")):v.bottom>F.bottom-Qt(p,"bottom")&&(re=v.bottom-v.top>F.bottom-F.top?v.top+Qt(y,"top")-F.top:v.bottom-F.bottom+Qt(y,"bottom")),v.left<F.left+Qt(p,"left")?j=-(F.left-v.left+Qt(y,"left")):v.right>F.right-Qt(p,"right")&&(j=v.right-F.right+Qt(y,"right")),j||re)if(R)b.defaultView.scrollBy(j,re);else{var J=A.scrollLeft,se=A.scrollTop;re&&(A.scrollTop+=re),j&&(A.scrollLeft+=j);var me=A.scrollLeft-J,Te=A.scrollTop-se;v={left:v.left-me,top:v.top-Te,right:v.right-me,bottom:v.bottom-Te}}var Be=R?"fixed":getComputedStyle(x).position;if(/^(fixed|sticky)$/.test(Be))break;x=Be=="absolute"?x.offsetParent:Me(x)}}function Ge(s){for(var v=s.dom.getBoundingClientRect(),u=Math.max(0,v.top),p,y,b=(v.left+v.right)/2,x=u+1;x<Math.min(innerHeight,v.bottom);x+=5){var A=s.root.elementFromPoint(b,x);if(!(!A||A==s.dom||!s.dom.contains(A))){var R=A.getBoundingClientRect();if(R.top>=u-20){p=A,y=R.top;break}}}return{refDOM:p,refTop:y,stack:Qe(s.dom)}}function Qe(s){for(var v=[],u=s.ownerDocument,p=s;p&&(v.push({dom:p,top:p.scrollTop,left:p.scrollLeft}),s!=u);p=Me(p));return v}function pt(s){var v=s.refDOM,u=s.refTop,p=s.stack,y=v?v.getBoundingClientRect().top:0;vr(p,y==0?0:y-u)}function vr(s,v){for(var u=0;u<s.length;u++){var p=s[u],y=p.dom,b=p.top,x=p.left;y.scrollTop!=b+v&&(y.scrollTop=b+v),y.scrollLeft!=x&&(y.scrollLeft=x)}}var Bt=null;function Xt(s){if(s.setActive)return s.setActive();if(Bt)return s.focus(Bt);var v=Qe(s);s.focus(Bt==null?{get preventScroll(){return Bt={preventScroll:!0},!0}}:void 0),Bt||(Bt=!1,vr(v,0))}function Qr(s,v){for(var u,p=2e8,y,b=0,x=v.top,A=v.top,R,F,j=s.firstChild,re=0;j;j=j.nextSibling,re++){var J=void 0;if(j.nodeType==1)J=j.getClientRects();else if(j.nodeType==3)J=Oe(j).getClientRects();else continue;for(var se=0;se<J.length;se++){var me=J[se];if(me.top<=x&&me.bottom>=A){x=Math.max(me.bottom,x),A=Math.min(me.top,A);var Te=me.left>v.left?me.left-v.left:me.right<v.left?v.left-me.right:0;if(Te<p){u=j,p=Te,y=Te&&u.nodeType==3?{left:me.right<v.left?me.right:me.left,top:v.top}:v,j.nodeType==1&&Te&&(b=re+(v.left>=(me.left+me.right)/2?1:0));continue}}else me.top>v.top&&!R&&me.left<=v.left&&me.right>=v.left&&(R=j,F={left:Math.max(me.left,Math.min(me.right,v.left)),top:me.top});!u&&(v.left>=me.right&&v.top>=me.top||v.left>=me.left&&v.top>=me.bottom)&&(b=re+1)}}return!u&&R&&(u=R,y=F,p=0),u&&u.nodeType==3?Ln(u,y):!u||p&&u.nodeType==1?{node:s,offset:b}:Qr(u,y)}function Ln(s,v){for(var u=s.nodeValue.length,p=document.createRange(),y,b=0;b<u;b++){p.setEnd(s,b+1),p.setStart(s,b);var x=ar(p,1);if(x.top!=x.bottom&&pr(v,x)){y={node:s,offset:b+(v.left>=(x.left+x.right)/2?1:0)};break}}return p.detach(),y||{node:s,offset:0}}function pr(s,v){return s.left>=v.left-1&&s.left<=v.right+1&&s.top>=v.top-1&&s.top<=v.bottom+1}function Or(s,v){var u=s.parentNode;return u&&/^li$/i.test(u.nodeName)&&v.left<s.getBoundingClientRect().left?u:s}function Dn(s,v,u){var p=Qr(v,u),y=p.node,b=p.offset,x=-1;if(y.nodeType==1&&!y.firstChild){var A=y.getBoundingClientRect();x=A.left!=A.right&&u.left>(A.left+A.right)/2?1:-1}return s.docView.posFromDOM(y,b,x)}function vn(s,v,u,p){for(var y=-1,b=v,x=!1;b!=s.dom;){var A=s.docView.nearestDesc(b,!0),R=void 0;if(!A)return null;if(A.dom.nodeType==1&&(A.node.isBlock&&A.parent||!A.contentDOM)&&((R=A.dom.getBoundingClientRect()).width||R.height)&&(A.node.isBlock&&A.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(A.dom.nodeName)&&(!x&&R.left>p.left||R.top>p.top?y=A.posBefore:(!x&&R.right<p.left||R.bottom<p.top)&&(y=A.posAfter),x=!0),!A.contentDOM&&y<0&&!A.node.isText)){var F=A.node.isBlock?p.top<(R.top+R.bottom)/2:p.left<(R.left+R.right)/2;return F?A.posBefore:A.posAfter}b=A.dom.parentNode}return y>-1?y:s.docView.posFromDOM(v,u,-1)}function pn(s,v,u){var p=s.childNodes.length;if(p&&u.top<u.bottom)for(var y=Math.max(0,Math.min(p-1,Math.floor(p*(v.top-u.top)/(u.bottom-u.top))-2)),b=y;;){var x=s.childNodes[b];if(x.nodeType==1)for(var A=x.getClientRects(),R=0;R<A.length;R++){var F=A[R];if(pr(v,F))return pn(x,v,F)}if((b=(b+1)%p)==y)break}return s}function _r(s,v){var u=s.dom.ownerDocument,p,y=0,b=Jt(u,v.left,v.top);b&&(p=b.node,y=b.offset);var x=(s.root.elementFromPoint?s.root:u).elementFromPoint(v.left,v.top),A;if(!x||!s.dom.contains(x.nodeType!=1?x.parentNode:x)){var R=s.dom.getBoundingClientRect();if(!pr(v,R)||(x=pn(s.dom,v,R),!x))return null}if(Je)for(var F=x;p&&F;F=Me(F))F.draggable&&(p=void 0);if(x=Or(x,v),p){if(de&&p.nodeType==1&&(y=Math.min(y,p.childNodes.length),y<p.childNodes.length)){var j=p.childNodes[y],re;j.nodeName=="IMG"&&(re=j.getBoundingClientRect()).right<=v.left&&re.bottom>v.top&&y++}var J;nr&&y&&p.nodeType==1&&(J=p.childNodes[y-1]).nodeType==1&&J.contentEditable=="false"&&J.getBoundingClientRect().top>=v.top&&y--,p==s.dom&&y==p.childNodes.length-1&&p.lastChild.nodeType==1&&v.top>p.lastChild.getBoundingClientRect().bottom?A=s.state.doc.content.size:(y==0||p.nodeType!=1||p.childNodes[y-1].nodeName!="BR")&&(A=vn(s,p,y,v))}A==null&&(A=Dn(s,x,v));var se=s.docView.nearestDesc(x,!0);return{pos:A,inside:se?se.posAtStart-se.border:-1}}function Nr(s){return s.top<s.bottom||s.left<s.right}function ar(s,v){var u=s.getClientRects();if(u.length){var p=u[v<0?0:u.length-1];if(Nr(p))return p}return Array.prototype.find.call(u,Nr)||s.getBoundingClientRect()}var On=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function St(s,v,u){var p=s.docView.domFromPos(v,u<0?-1:1),y=p.node,b=p.offset,x=p.atom,A=nr||de;if(y.nodeType==3)if(A&&(On.test(y.nodeValue)||(u<0?!b:b==y.nodeValue.length))){var R=ar(Oe(y,b,b),u);if(de&&b&&/\s/.test(y.nodeValue[b-1])&&b<y.nodeValue.length){var F=ar(Oe(y,b-1,b-1),-1);if(F.top==R.top){var j=ar(Oe(y,b,b+1),-1);if(j.top!=R.top)return ir(j,j.left<F.left)}}return R}else{var re=b,J=b,se=u<0?1:-1;return u<0&&!b?(J++,se=-1):u>=0&&b==y.nodeValue.length?(re--,se=1):u<0?re--:J++,ir(ar(Oe(y,re,J),se),se<0)}var me=s.state.doc.resolve(v-(x||0));if(!me.parent.inlineContent){if(x==null&&b&&(u<0||b==wt(y))){var Te=y.childNodes[b-1];if(Te.nodeType==1)return Dt(Te.getBoundingClientRect(),!1)}if(x==null&&b<wt(y)){var Be=y.childNodes[b];if(Be.nodeType==1)return Dt(Be.getBoundingClientRect(),!0)}return Dt(y.getBoundingClientRect(),u>=0)}if(x==null&&b&&(u<0||b==wt(y))){var ke=y.childNodes[b-1],at=ke.nodeType==3?Oe(ke,wt(ke)-(A?0:1)):ke.nodeType==1&&(ke.nodeName!="BR"||!ke.nextSibling)?ke:null;if(at)return ir(ar(at,1),!1)}if(x==null&&b<wt(y)){for(var tt=y.childNodes[b];tt.pmViewDesc&&tt.pmViewDesc.ignoreForCoords;)tt=tt.nextSibling;var je=tt?tt.nodeType==3?Oe(tt,0,A?0:1):tt.nodeType==1?tt:null:null;if(je)return ir(ar(je,-1),!0)}return ir(ar(y.nodeType==3?Oe(y):y,-u),u>=0)}function ir(s,v){if(s.width==0)return s;var u=v?s.left:s.right;return{top:s.top,bottom:s.bottom,left:u,right:u}}function Dt(s,v){if(s.height==0)return s;var u=v?s.top:s.bottom;return{top:u,bottom:u,left:s.left,right:s.right}}function zr(s,v,u){var p=s.state,y=s.root.activeElement;p!=v&&s.updateState(v),y!=s.dom&&s.focus();try{return u()}finally{p!=v&&s.updateState(p),y!=s.dom&&y&&y.focus()}}function Mr(s,v,u){var p=v.selection,y=u=="up"?p.$from:p.$to;return zr(s,v,function(){for(var b=s.docView.domFromPos(y.pos,u=="up"?-1:1),x=b.node;;){var A=s.docView.nearestDesc(x,!0);if(!A)break;if(A.node.isBlock){x=A.contentDOM||A.dom;break}x=A.dom.parentNode}for(var R=St(s,y.pos,1),F=x.firstChild;F;F=F.nextSibling){var j=void 0;if(F.nodeType==1)j=F.getClientRects();else if(F.nodeType==3)j=Oe(F,0,F.nodeValue.length).getClientRects();else continue;for(var re=0;re<j.length;re++){var J=j[re];if(J.bottom>J.top+1&&(u=="up"?R.top-J.top>(J.bottom-R.top)*2:J.bottom-R.bottom>(R.bottom-J.top)*2))return!1}}return!0})}var Tr=/[\u0590-\u08ac]/;function dr(s,v,u){var p=v.selection.$head;if(!p.parent.isTextblock)return!1;var y=p.parentOffset,b=!y,x=y==p.parent.content.size,A=s.domSelection();return A?!Tr.test(p.parent.textContent)||!A.modify?u=="left"||u=="backward"?b:x:zr(s,v,function(){var R=s.domSelectionRange(),F=R.focusNode,j=R.focusOffset,re=R.anchorNode,J=R.anchorOffset,se=A.caretBidiLevel;A.modify("move",u,"character");var me=p.depth?s.docView.domAfterPos(p.before()):s.dom,Te=s.domSelectionRange(),Be=Te.focusNode,ke=Te.focusOffset,at=Be&&!me.contains(Be.nodeType==1?Be:Be.parentNode)||F==Be&&j==ke;try{A.collapse(re,J),F&&(F!=re||j!=J)&&A.extend&&A.extend(F,j)}catch{}return se!=null&&(A.caretBidiLevel=se),at}):p.pos==p.start()||p.pos==p.end()}var dn=null,Xr=null,Zr=!1;function Nn(s,v,u){return dn==v&&Xr==u?Zr:(dn=v,Xr=u,Zr=u=="up"||u=="down"?Mr(s,v,u):dr(s,v,u))}var Ee=0,Y=1,we=2,Ae=3,et=function(){function s(v,u,p,y){z(this,s),this.parent=v,this.children=u,this.dom=p,this.contentDOM=y,this.dirty=Ee,p.pmViewDesc=this}return G(s,[{key:"matchesWidget",value:function(u){return!1}},{key:"matchesMark",value:function(u){return!1}},{key:"matchesNode",value:function(u,p,y){return!1}},{key:"matchesHack",value:function(u){return!1}},{key:"parseRule",value:function(){return null}},{key:"stopEvent",value:function(u){return!1}},{key:"size",get:function(){for(var u=0,p=0;p<this.children.length;p++)u+=this.children[p].size;return u}},{key:"border",get:function(){return 0}},{key:"destroy",value:function(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(var u=0;u<this.children.length;u++)this.children[u].destroy()}},{key:"posBeforeChild",value:function(u){for(var p=0,y=this.posAtStart;;p++){var b=this.children[p];if(b==u)return y;y+=b.size}}},{key:"posBefore",get:function(){return this.parent.posBeforeChild(this)}},{key:"posAtStart",get:function(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}},{key:"posAfter",get:function(){return this.posBefore+this.size}},{key:"posAtEnd",get:function(){return this.posAtStart+this.size-2*this.border}},{key:"localPosFromDOM",value:function(u,p,y){if(this.contentDOM&&this.contentDOM.contains(u.nodeType==1?u:u.parentNode))if(y<0){var b,x;if(u==this.contentDOM)b=u.childNodes[p-1];else{for(;u.parentNode!=this.contentDOM;)u=u.parentNode;b=u.previousSibling}for(;b&&!((x=b.pmViewDesc)&&x.parent==this);)b=b.previousSibling;return b?this.posBeforeChild(x)+x.size:this.posAtStart}else{var A,R;if(u==this.contentDOM)A=u.childNodes[p];else{for(;u.parentNode!=this.contentDOM;)u=u.parentNode;A=u.nextSibling}for(;A&&!((R=A.pmViewDesc)&&R.parent==this);)A=A.nextSibling;return A?this.posBeforeChild(R):this.posAtEnd}var F;if(u==this.dom&&this.contentDOM)F=p>ye(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))F=u.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(p==0)for(var j=u;;j=j.parentNode){if(j==this.dom){F=!1;break}if(j.previousSibling)break}if(F==null&&p==u.childNodes.length)for(var re=u;;re=re.parentNode){if(re==this.dom){F=!0;break}if(re.nextSibling)break}}return F??y>0?this.posAtEnd:this.posAtStart}},{key:"nearestDesc",value:function(u){for(var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,y=!0,b=u;b;b=b.parentNode){var x=this.getDesc(b),A=void 0;if(x&&(!p||x.node))if(y&&(A=x.nodeDOM)&&!(A.nodeType==1?A.contains(u.nodeType==1?u:u.parentNode):A==u))y=!1;else return x}}},{key:"getDesc",value:function(u){for(var p=u.pmViewDesc,y=p;y;y=y.parent)if(y==this)return p}},{key:"posFromDOM",value:function(u,p,y){for(var b=u;b;b=b.parentNode){var x=this.getDesc(b);if(x)return x.localPosFromDOM(u,p,y)}return-1}},{key:"descAt",value:function(u){for(var p=0,y=0;p<this.children.length;p++){var b=this.children[p],x=y+b.size;if(y==u&&x!=y){for(;!b.border&&b.children.length;)for(var A=0;A<b.children.length;A++){var R=b.children[A];if(R.size){b=R;break}}return b}if(u<x)return b.descAt(u-y-b.border);y=x}}},{key:"domFromPos",value:function(u,p){if(!this.contentDOM)return{node:this.dom,offset:0,atom:u+1};for(var y=0,b=0,x=0;y<this.children.length;y++){var A=this.children[y],R=x+A.size;if(R>u||A instanceof P){b=u-x;break}x=R}if(b)return this.children[y].domFromPos(b-this.children[y].border,p);for(var F;y&&!(F=this.children[y-1]).size&&F instanceof Ct&&F.side>=0;y--);if(p<=0){for(var j,re=!0;j=y?this.children[y-1]:null,!(!j||j.dom.parentNode==this.contentDOM);y--,re=!1);return j&&p&&re&&!j.border&&!j.domAtom?j.domFromPos(j.size,p):{node:this.contentDOM,offset:j?ye(j.dom)+1:0}}else{for(var J,se=!0;J=y<this.children.length?this.children[y]:null,!(!J||J.dom.parentNode==this.contentDOM);y++,se=!1);return J&&se&&!J.border&&!J.domAtom?J.domFromPos(0,p):{node:this.contentDOM,offset:J?ye(J.dom):this.contentDOM.childNodes.length}}}},{key:"parseRange",value:function(u,p){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(this.children.length==0)return{node:this.contentDOM,from:u,to:p,fromOffset:0,toOffset:this.contentDOM.childNodes.length};for(var b=-1,x=-1,A=y,R=0;;R++){var F=this.children[R],j=A+F.size;if(b==-1&&u<=j){var re=A+F.border;if(u>=re&&p<=j-F.border&&F.node&&F.contentDOM&&this.contentDOM.contains(F.contentDOM))return F.parseRange(u,p,re);u=A;for(var J=R;J>0;J--){var se=this.children[J-1];if(se.size&&se.dom.parentNode==this.contentDOM&&!se.emptyChildAt(1)){b=ye(se.dom)+1;break}u-=se.size}b==-1&&(b=0)}if(b>-1&&(j>p||R==this.children.length-1)){p=j;for(var me=R+1;me<this.children.length;me++){var Te=this.children[me];if(Te.size&&Te.dom.parentNode==this.contentDOM&&!Te.emptyChildAt(-1)){x=ye(Te.dom);break}p+=Te.size}x==-1&&(x=this.contentDOM.childNodes.length);break}A=j}return{node:this.contentDOM,from:u,to:p,fromOffset:b,toOffset:x}}},{key:"emptyChildAt",value:function(u){if(this.border||!this.contentDOM||!this.children.length)return!1;var p=this.children[u<0?0:this.children.length-1];return p.size==0||p.emptyChildAt(u)}},{key:"domAfterPos",value:function(u){var p=this.domFromPos(u,0),y=p.node,b=p.offset;if(y.nodeType!=1||b==y.childNodes.length)throw new RangeError("No node after pos "+u);return y.childNodes[b]}},{key:"setSelection",value:function(u,p,y){for(var b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,x=Math.min(u,p),A=Math.max(u,p),R=0,F=0;R<this.children.length;R++){var j=this.children[R],re=F+j.size;if(x>F&&A<re)return j.setSelection(u-F-j.border,p-F-j.border,y,b);F=re}var J=this.domFromPos(u,u?-1:1),se=p==u?J:this.domFromPos(p,p?-1:1),me=y.root.getSelection(),Te=y.domSelectionRange(),Be=!1;if((de||Je)&&u==p){var ke=J,at=ke.node,tt=ke.offset;if(at.nodeType==3){if(Be=!!(tt&&at.nodeValue[tt-1]==`
`),Be&&tt==at.nodeValue.length)for(var je=at,Xe;je;je=je.parentNode){if(Xe=je.nextSibling){Xe.nodeName=="BR"&&(J=se={node:Xe.parentNode,offset:ye(Xe)+1});break}var yt=je.pmViewDesc;if(yt&&yt.node&&yt.node.isBlock)break}}else{var dt=at.childNodes[tt-1];Be=dt&&(dt.nodeName=="BR"||dt.contentEditable=="false")}}if(de&&Te.focusNode&&Te.focusNode!=se.node&&Te.focusNode.nodeType==1){var Ot=Te.focusNode.childNodes[Te.focusOffset];Ot&&Ot.contentEditable=="false"&&(b=!0)}if(!(!(b||Be&&Je)&&Ye(J.node,J.offset,Te.anchorNode,Te.anchorOffset)&&Ye(se.node,se.offset,Te.focusNode,Te.focusOffset))){var Ft=!1;if((me.extend||u==p)&&!(Be&&de)){me.collapse(J.node,J.offset);try{u!=p&&me.extend(se.node,se.offset),Ft=!0}catch{}}if(!Ft){if(u>p){var Ht=J;J=se,se=Ht}var on=document.createRange();on.setEnd(se.node,se.offset),on.setStart(J.node,J.offset),me.removeAllRanges(),me.addRange(on)}}}},{key:"ignoreMutation",value:function(u){return!this.contentDOM&&u.type!="selection"}},{key:"contentLost",get:function(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}},{key:"markDirty",value:function(u,p){for(var y=0,b=0;b<this.children.length;b++){var x=this.children[b],A=y+x.size;if(y==A?u<=A&&p>=y:u<A&&p>y){var R=y+x.border,F=A-x.border;if(u>=R&&p<=F){this.dirty=u==y||p==A?we:Y,u==R&&p==F&&(x.contentLost||x.dom.parentNode!=this.contentDOM)?x.dirty=Ae:x.markDirty(u-R,p-R);return}else x.dirty=x.dom==x.contentDOM&&x.dom.parentNode==this.contentDOM&&!x.children.length?we:Ae}y=A}this.dirty=we}},{key:"markParentsDirty",value:function(){for(var u=1,p=this.parent;p;p=p.parent,u++){var y=u==1?we:Y;p.dirty<y&&(p.dirty=y)}}},{key:"domAtom",get:function(){return!1}},{key:"ignoreForCoords",get:function(){return!1}},{key:"ignoreForSelection",get:function(){return!1}},{key:"isText",value:function(u){return!1}}]),s}(),Ct=function(s){g(u,s);var v=T(u);function u(p,y,b,x){var A;z(this,u);var R,F=y.type.toDOM;if(typeof F=="function"&&(F=F(b,function(){if(!R)return x;if(R.parent)return R.parent.posBeforeChild(R)})),!y.type.spec.raw){if(F.nodeType!=1){var j=document.createElement("span");j.appendChild(F),F=j}F.contentEditable="false",F.classList.add("ProseMirror-widget")}return A=v.call(this,p,[],F,null),A.widget=y,A.widget=y,R=M(A),A}return G(u,[{key:"matchesWidget",value:function(y){return this.dirty==Ee&&y.type.eq(this.widget.type)}},{key:"parseRule",value:function(){return{ignore:!0}}},{key:"stopEvent",value:function(y){var b=this.widget.spec.stopEvent;return b?b(y):!1}},{key:"ignoreMutation",value:function(y){return y.type!="selection"||this.widget.spec.ignoreSelection}},{key:"destroy",value:function(){this.widget.type.destroy(this.dom),l(I(u.prototype),"destroy",this).call(this)}},{key:"domAtom",get:function(){return!0}},{key:"ignoreForSelection",get:function(){return!!this.widget.type.spec.relaxedSide}},{key:"side",get:function(){return this.widget.type.side}}]),u}(et),N=function(s){g(u,s);var v=T(u);function u(p,y,b,x){var A;return z(this,u),A=v.call(this,p,[],y,null),A.textDOM=b,A.text=x,A}return G(u,[{key:"size",get:function(){return this.text.length}},{key:"localPosFromDOM",value:function(y,b){return y!=this.textDOM?this.posAtStart+(b?this.size:0):this.posAtStart+b}},{key:"domFromPos",value:function(y){return{node:this.textDOM,offset:y}}},{key:"ignoreMutation",value:function(y){return y.type==="characterData"&&y.target.nodeValue==y.oldValue}}]),u}(et),E=function(s){g(u,s);var v=T(u);function u(p,y,b,x,A){var R;return z(this,u),R=v.call(this,p,[],b,x),R.mark=y,R.spec=A,R}return G(u,[{key:"parseRule",value:function(){return this.dirty&Ae||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}},{key:"matchesMark",value:function(y){return this.dirty!=Ae&&this.mark.eq(y)}},{key:"markDirty",value:function(y,b){if(l(I(u.prototype),"markDirty",this).call(this,y,b),this.dirty!=Ee){for(var x=this.parent;!x.node;)x=x.parent;x.dirty<this.dirty&&(x.dirty=this.dirty),this.dirty=Ee}}},{key:"slice",value:function(y,b,x){var A=u.create(this.parent,this.mark,!0,x),R=this.children,F=this.size;b<F&&(R=Yr(R,b,F,x)),y>0&&(R=Yr(R,0,y,x));for(var j=0;j<R.length;j++)R[j].parent=A;return A.children=R,A}},{key:"ignoreMutation",value:function(y){return this.spec.ignoreMutation?this.spec.ignoreMutation(y):l(I(u.prototype),"ignoreMutation",this).call(this,y)}},{key:"destroy",value:function(){this.spec.destroy&&this.spec.destroy(),l(I(u.prototype),"destroy",this).call(this)}}],[{key:"create",value:function(y,b,x,A){var R=A.nodeViews[b.type.name],F=R&&R(b,A,x);return(!F||!F.dom)&&(F=oe.DOMSerializer.renderSpec(document,b.type.spec.toDOM(b,x),null,b.attrs)),new u(y,b,F.dom,F.contentDOM||F.dom,F)}}]),u}(et),h=function(s){g(u,s);var v=T(u);function u(p,y,b,x,A,R,F,j,re){var J;return z(this,u),J=v.call(this,p,[],A,R),J.node=y,J.outerDeco=b,J.innerDeco=x,J.nodeDOM=F,J}return G(u,[{key:"parseRule",value:function(){var y=this;if(this.node.type.spec.reparseInView)return null;var b={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(b.preserveWhitespace="full"),!this.contentDOM)b.getContent=function(){return y.node.content};else if(!this.contentLost)b.contentElement=this.contentDOM;else{for(var x=this.children.length-1;x>=0;x--){var A=this.children[x];if(this.dom.contains(A.dom.parentNode)){b.contentElement=A.dom.parentNode;break}}b.contentElement||(b.getContent=function(){return oe.Fragment.empty})}return b}},{key:"matchesNode",value:function(y,b,x){return this.dirty==Ee&&y.eq(this.node)&&ut(b,this.outerDeco)&&x.eq(this.innerDeco)}},{key:"size",get:function(){return this.node.nodeSize}},{key:"border",get:function(){return this.node.isLeaf?0:1}},{key:"updateChildren",value:function(y,b){var x=this,A=this.node.inlineContent,R=b,F=y.composing?this.localCompositionInfo(y,b):null,j=F&&F.pos>-1?F:null,re=F&&F.pos<0,J=new Rr(this,j&&j.node,y);fi(this.node,this.innerDeco,function(se,me,Te){se.spec.marks?J.syncToMarks(se.spec.marks,A,y):se.type.side>=0&&!Te&&J.syncToMarks(me==x.node.childCount?oe.Mark.none:x.node.child(me).marks,A,y),J.placeWidget(se,y,R)},function(se,me,Te,Be){J.syncToMarks(se.marks,A,y);var ke;J.findNodeMatch(se,me,Te,Be)||re&&y.state.selection.from>R&&y.state.selection.to<R+se.nodeSize&&(ke=J.findIndexWithChild(F.node))>-1&&J.updateNodeAt(se,me,Te,ke,y)||J.updateNextNode(se,me,Te,y,Be,R)||J.addNode(se,me,Te,y,R),R+=se.nodeSize}),J.syncToMarks([],A,y),this.node.isTextblock&&J.addTextblockHacks(),J.destroyRest(),(J.changed||this.dirty==we)&&(j&&this.protectLocalComposition(y,j),$(this.contentDOM,this.children,y),xt&&Ra(this.dom))}},{key:"localCompositionInfo",value:function(y,b){var x=y.state.selection,A=x.from,R=x.to;if(!(y.state.selection instanceof X.TextSelection)||A<b||R>b+this.node.content.size)return null;var F=y.input.compositionNode;if(!F||!this.dom.contains(F.parentNode))return null;if(this.node.inlineContent){var j=F.nodeValue,re=Wn(this.node.content,j,A-b,R-b);return re<0?null:{node:F,pos:re,text:j}}else return{node:F,pos:-1,text:""}}},{key:"protectLocalComposition",value:function(y,b){var x=b.node,A=b.pos,R=b.text;if(!this.getDesc(x)){for(var F=x;F.parentNode!=this.contentDOM;F=F.parentNode){for(;F.previousSibling;)F.parentNode.removeChild(F.previousSibling);for(;F.nextSibling;)F.parentNode.removeChild(F.nextSibling);F.pmViewDesc&&(F.pmViewDesc=void 0)}var j=new N(this,F,x,R);y.input.compositionNodes.push(j),this.children=Yr(this.children,A,A+R.length,y,j)}}},{key:"update",value:function(y,b,x,A){return this.dirty==Ae||!y.sameMarkup(this.node)?!1:(this.updateInner(y,b,x,A),!0)}},{key:"updateInner",value:function(y,b,x,A){this.updateOuterDeco(b),this.node=y,this.innerDeco=x,this.contentDOM&&this.updateChildren(A,this.posAtStart),this.dirty=Ee}},{key:"updateOuterDeco",value:function(y){if(!ut(y,this.outerDeco)){var b=this.nodeDOM.nodeType!=1,x=this.dom;this.dom=ge(this.dom,this.nodeDOM,be(this.outerDeco,this.node,b),be(y,this.node,b)),this.dom!=x&&(x.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=y}}},{key:"selectNode",value:function(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}},{key:"deselectNode",value:function(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}},{key:"domAtom",get:function(){return this.node.isAtom}}],[{key:"create",value:function(y,b,x,A,R,F){var j=R.nodeViews[b.type.name],re,J=j&&j(b,R,function(){if(!re)return F;if(re.parent)return re.parent.posBeforeChild(re)},x,A),se=J&&J.dom,me=J&&J.contentDOM;if(b.isText){if(!se)se=document.createTextNode(b.text);else if(se.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else if(!se){var Te=oe.DOMSerializer.renderSpec(document,b.type.spec.toDOM(b),null,b.attrs);se=Te.dom,me=Te.contentDOM}!me&&!b.isText&&se.nodeName!="BR"&&(se.hasAttribute("contenteditable")||(se.contentEditable="false"),b.type.spec.draggable&&(se.draggable=!0));var Be=se;return se=Ve(se,x,b),J?re=new H(y,b,x,A,se,me||null,Be,J,R,F+1):b.isText?new L(y,b,x,A,se,Be,R):new u(y,b,x,A,se,me||null,Be)}}]),u}(et);function w(s,v,u,p,y){Ve(p,v,s);var b=new h(void 0,s,v,u,p,p,p,y,0);return b.contentDOM&&b.updateChildren(y,0),b}var L=function(s){g(u,s);var v=T(u);function u(p,y,b,x,A,R,F){return z(this,u),v.call(this,p,y,b,x,A,null,R,F,0)}return G(u,[{key:"parseRule",value:function(){for(var y=this.nodeDOM.parentNode;y&&y!=this.dom&&!y.pmIsDeco;)y=y.parentNode;return{skip:y||!0}}},{key:"update",value:function(y,b,x,A){return this.dirty==Ae||this.dirty!=Ee&&!this.inParent()||!y.sameMarkup(this.node)?!1:(this.updateOuterDeco(b),(this.dirty!=Ee||y.text!=this.node.text)&&y.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=y.text,A.trackWrites==this.nodeDOM&&(A.trackWrites=null)),this.node=y,this.dirty=Ee,!0)}},{key:"inParent",value:function(){for(var y=this.parent.contentDOM,b=this.nodeDOM;b;b=b.parentNode)if(b==y)return!0;return!1}},{key:"domFromPos",value:function(y){return{node:this.nodeDOM,offset:y}}},{key:"localPosFromDOM",value:function(y,b,x){return y==this.nodeDOM?this.posAtStart+Math.min(b,this.node.text.length):l(I(u.prototype),"localPosFromDOM",this).call(this,y,b,x)}},{key:"ignoreMutation",value:function(y){return y.type!="characterData"&&y.type!="selection"}},{key:"slice",value:function(y,b,x){var A=this.node.cut(y,b),R=document.createTextNode(A.text);return new u(this.parent,A,this.outerDeco,this.innerDeco,R,R,x)}},{key:"markDirty",value:function(y,b){l(I(u.prototype),"markDirty",this).call(this,y,b),this.dom!=this.nodeDOM&&(y==0||b==this.nodeDOM.nodeValue.length)&&(this.dirty=Ae)}},{key:"domAtom",get:function(){return!1}},{key:"isText",value:function(y){return this.node.text==y}}]),u}(h),P=function(s){g(u,s);var v=T(u);function u(){return z(this,u),v.apply(this,arguments)}return G(u,[{key:"parseRule",value:function(){return{ignore:!0}}},{key:"matchesHack",value:function(y){return this.dirty==Ee&&this.dom.nodeName==y}},{key:"domAtom",get:function(){return!0}},{key:"ignoreForCoords",get:function(){return this.dom.nodeName=="IMG"}}]),u}(et),H=function(s){g(u,s);var v=T(u);function u(p,y,b,x,A,R,F,j,re,J){var se;return z(this,u),se=v.call(this,p,y,b,x,A,R,F,re,J),se.spec=j,se}return G(u,[{key:"update",value:function(y,b,x,A){if(this.dirty==Ae)return!1;if(this.spec.update&&(this.node.type==y.type||this.spec.multiType)){var R=this.spec.update(y,b,x);return R&&this.updateInner(y,b,x,A),R}else return!this.contentDOM&&!y.isLeaf?!1:l(I(u.prototype),"update",this).call(this,y,b,x,A)}},{key:"selectNode",value:function(){this.spec.selectNode?this.spec.selectNode():l(I(u.prototype),"selectNode",this).call(this)}},{key:"deselectNode",value:function(){this.spec.deselectNode?this.spec.deselectNode():l(I(u.prototype),"deselectNode",this).call(this)}},{key:"setSelection",value:function(y,b,x,A){this.spec.setSelection?this.spec.setSelection(y,b,x.root):l(I(u.prototype),"setSelection",this).call(this,y,b,x,A)}},{key:"destroy",value:function(){this.spec.destroy&&this.spec.destroy(),l(I(u.prototype),"destroy",this).call(this)}},{key:"stopEvent",value:function(y){return this.spec.stopEvent?this.spec.stopEvent(y):!1}},{key:"ignoreMutation",value:function(y){return this.spec.ignoreMutation?this.spec.ignoreMutation(y):l(I(u.prototype),"ignoreMutation",this).call(this,y)}}]),u}(h);function $(s,v,u){for(var p=s.firstChild,y=!1,b=0;b<v.length;b++){var x=v[b],A=x.dom;if(A.parentNode==s){for(;A!=p;)p=Mt(p),y=!0;p=p.nextSibling}else y=!0,s.insertBefore(A,p);if(x instanceof E){var R=p?p.previousSibling:s.lastChild;$(x.contentDOM,x.children,u),p=R?R.nextSibling:s.firstChild}}for(;p;)p=Mt(p),y=!0;y&&u.trackWrites==s&&(u.trackWrites=null)}var ee=function(v){v&&(this.nodeName=v)};ee.prototype=Object.create(null);var ie=[new ee];function be(s,v,u){if(s.length==0)return ie;for(var p=u?ie[0]:new ee,y=[p],b=0;b<s.length;b++){var x=s[b].type.attrs;if(x){x.nodeName&&y.push(p=new ee(x.nodeName));for(var A in x){var R=x[A];R!=null&&(u&&y.length==1&&y.push(p=new ee(v.isInline?"span":"div")),A=="class"?p.class=(p.class?p.class+" ":"")+R:A=="style"?p.style=(p.style?p.style+";":"")+R:A!="nodeName"&&(p[A]=R))}}}return y}function ge(s,v,u,p){if(u==ie&&p==ie)return v;for(var y=v,b=0;b<p.length;b++){var x=p[b],A=u[b];if(b){var R=void 0;A&&A.nodeName==x.nodeName&&y!=s&&(R=y.parentNode)&&R.nodeName.toLowerCase()==x.nodeName||(R=document.createElement(x.nodeName),R.pmIsDeco=!0,R.appendChild(y),A=ie[0]),y=R}Se(y,A||ie[0],x)}return y}function Se(s,v,u){for(var p in v)p!="class"&&p!="style"&&p!="nodeName"&&!(p in u)&&s.removeAttribute(p);for(var y in u)y!="class"&&y!="style"&&y!="nodeName"&&u[y]!=v[y]&&s.setAttribute(y,u[y]);if(v.class!=u.class){for(var b=v.class?v.class.split(" ").filter(Boolean):[],x=u.class?u.class.split(" ").filter(Boolean):[],A=0;A<b.length;A++)x.indexOf(b[A])==-1&&s.classList.remove(b[A]);for(var R=0;R<x.length;R++)b.indexOf(x[R])==-1&&s.classList.add(x[R]);s.classList.length==0&&s.removeAttribute("class")}if(v.style!=u.style){if(v.style)for(var F=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,j;j=F.exec(v.style);)s.style.removeProperty(j[1]);u.style&&(s.style.cssText+=u.style)}}function Ve(s,v,u){return ge(s,s,ie,be(v,u,s.nodeType!=1))}function ut(s,v){if(s.length!=v.length)return!1;for(var u=0;u<s.length;u++)if(!s[u].type.eq(v[u].type))return!1;return!0}function Mt(s){var v=s.nextSibling;return s.parentNode.removeChild(s),v}var Rr=function(){function s(v,u,p){z(this,s),this.lock=u,this.view=p,this.index=0,this.stack=[],this.changed=!1,this.top=v,this.preMatch=hn(v.node.content,v)}return G(s,[{key:"destroyBetween",value:function(u,p){if(u!=p){for(var y=u;y<p;y++)this.top.children[y].destroy();this.top.children.splice(u,p-u),this.changed=!0}}},{key:"destroyRest",value:function(){this.destroyBetween(this.index,this.top.children.length)}},{key:"syncToMarks",value:function(u,p,y){for(var b=0,x=this.stack.length>>1,A=Math.min(x,u.length);b<A&&(b==x-1?this.top:this.stack[b+1<<1]).matchesMark(u[b])&&u[b].type.spec.spanning!==!1;)b++;for(;b<x;)this.destroyRest(),this.top.dirty=Ee,this.index=this.stack.pop(),this.top=this.stack.pop(),x--;for(;x<u.length;){this.stack.push(this.top,this.index+1);for(var R=-1,F=this.index;F<Math.min(this.index+3,this.top.children.length);F++){var j=this.top.children[F];if(j.matchesMark(u[x])&&!this.isLocked(j.dom)){R=F;break}}if(R>-1)R>this.index&&(this.changed=!0,this.destroyBetween(this.index,R)),this.top=this.top.children[this.index];else{var re=E.create(this.top,u[x],p,y);this.top.children.splice(this.index,0,re),this.top=re,this.changed=!0}this.index=0,x++}}},{key:"findNodeMatch",value:function(u,p,y,b){var x=-1,A;if(b>=this.preMatch.index&&(A=this.preMatch.matches[b-this.preMatch.index]).parent==this.top&&A.matchesNode(u,p,y))x=this.top.children.indexOf(A,this.index);else for(var R=this.index,F=Math.min(this.top.children.length,R+5);R<F;R++){var j=this.top.children[R];if(j.matchesNode(u,p,y)&&!this.preMatch.matched.has(j)){x=R;break}}return x<0?!1:(this.destroyBetween(this.index,x),this.index++,!0)}},{key:"updateNodeAt",value:function(u,p,y,b,x){var A=this.top.children[b];return A.dirty==Ae&&A.dom==A.contentDOM&&(A.dirty=we),A.update(u,p,y,x)?(this.destroyBetween(this.index,b),this.index++,!0):!1}},{key:"findIndexWithChild",value:function(u){for(;;){var p=u.parentNode;if(!p)return-1;if(p==this.top.contentDOM){var y=u.pmViewDesc;if(y){for(var b=this.index;b<this.top.children.length;b++)if(this.top.children[b]==y)return b}return-1}u=p}}},{key:"updateNextNode",value:function(u,p,y,b,x,A){for(var R=this.index;R<this.top.children.length;R++){var F=this.top.children[R];if(F instanceof h){var j=this.preMatch.matched.get(F);if(j!=null&&j!=x)return!1;var re=F.dom,J=void 0,se=this.isLocked(re)&&!(u.isText&&F.node&&F.node.isText&&F.nodeDOM.nodeValue==u.text&&F.dirty!=Ae&&ut(p,F.outerDeco));if(!se&&F.update(u,p,y,b))return this.destroyBetween(this.index,R),F.dom!=re&&(this.changed=!0),this.index++,!0;if(!se&&(J=this.recreateWrapper(F,u,p,y,b,A)))return this.destroyBetween(this.index,R),this.top.children[this.index]=J,J.contentDOM&&(J.dirty=we,J.updateChildren(b,A+1),J.dirty=Ee),this.changed=!0,this.index++,!0;break}}return!1}},{key:"recreateWrapper",value:function(u,p,y,b,x,A){if(u.dirty||p.isAtom||!u.children.length||!u.node.content.eq(p.content)||!ut(y,u.outerDeco)||!b.eq(u.innerDeco))return null;var R=h.create(this.top,p,y,b,x,A);if(R.contentDOM){R.children=u.children,u.children=[];var F=a(R.children),j;try{for(F.s();!(j=F.n()).done;){var re=j.value;re.parent=R}}catch(J){F.e(J)}finally{F.f()}}return u.destroy(),R}},{key:"addNode",value:function(u,p,y,b,x){var A=h.create(this.top,u,p,y,b,x);A.contentDOM&&A.updateChildren(b,x+1),this.top.children.splice(this.index++,0,A),this.changed=!0}},{key:"placeWidget",value:function(u,p,y){var b=this.index<this.top.children.length?this.top.children[this.index]:null;if(b&&b.matchesWidget(u)&&(u==b.widget||!b.widget.type.toDOM.parentNode))this.index++;else{var x=new Ct(this.top,u,p,y);this.top.children.splice(this.index++,0,x),this.changed=!0}}},{key:"addTextblockHacks",value:function(){for(var u=this.top.children[this.index-1],p=this.top;u instanceof E;)p=u,u=p.children[p.children.length-1];(!u||!(u instanceof L)||/\n$/.test(u.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(u.node.text))&&((Je||He)&&u&&u.dom.contentEditable=="false"&&this.addHackNode("IMG",p),this.addHackNode("BR",this.top))}},{key:"addHackNode",value:function(u,p){if(p==this.top&&this.index<p.children.length&&p.children[this.index].matchesHack(u))this.index++;else{var y=document.createElement(u);u=="IMG"&&(y.className="ProseMirror-separator",y.alt=""),u=="BR"&&(y.className="ProseMirror-trailingBreak");var b=new P(this.top,[],y,null);p!=this.top?p.children.push(b):p.children.splice(this.index++,0,b),this.changed=!0}}},{key:"isLocked",value:function(u){return this.lock&&(u==this.lock||u.nodeType==1&&u.contains(this.lock.parentNode))}}]),s}();function hn(s,v){var u=v,p=u.children.length,y=s.childCount,b=new Map,x=[];e:for(;y>0;){for(var A=void 0;;)if(p){var R=u.children[p-1];if(R instanceof E)u=R,p=R.children.length;else{A=R,p--;break}}else{if(u==v)break e;p=u.parent.children.indexOf(u),u=u.parent}var F=A.node;if(F){if(F!=s.child(y-1))break;--y,b.set(A,y),x.push(A)}}return{index:y,matched:b,matches:x.reverse()}}function Rn(s,v){return s.type.side-v.type.side}function fi(s,v,u,p){var y=v.locals(s),b=0;if(y.length==0){for(var x=0;x<s.childCount;x++){var A=s.child(x);p(A,y,v.forChild(b,A),x),b+=A.nodeSize}return}for(var R=0,F=[],j=null,re=0;;){for(var J=void 0,se=void 0;R<y.length&&y[R].to==b;){var me=y[R++];me.widget&&(J?(se||(se=[J])).push(me):J=me)}if(J)if(se){se.sort(Rn);for(var Te=0;Te<se.length;Te++)u(se[Te],re,!!j)}else u(J,re,!!j);var Be=void 0,ke=void 0;if(j)ke=-1,Be=j,j=null;else if(re<s.childCount)ke=re,Be=s.child(re++);else break;for(var at=0;at<F.length;at++)F[at].to<=b&&F.splice(at--,1);for(;R<y.length&&y[R].from<=b&&y[R].to>b;)F.push(y[R++]);var tt=b+Be.nodeSize;if(Be.isText){var je=tt;R<y.length&&y[R].from<je&&(je=y[R].from);for(var Xe=0;Xe<F.length;Xe++)F[Xe].to<je&&(je=F[Xe].to);je<tt&&(j=Be.cut(je-b),Be=Be.cut(0,je-b),tt=je,ke=-1)}else for(;R<y.length&&y[R].to<tt;)R++;var yt=Be.isInline&&!Be.isLeaf?F.filter(function(dt){return!dt.inline}):F.slice();p(Be,yt,v.forChild(b,Be),ke),b=tt}}function Ra(s){if(s.nodeName=="UL"||s.nodeName=="OL"){var v=s.style.cssText;s.style.cssText=v+"; list-style: square !important",window.getComputedStyle(s).listStyle,s.style.cssText=v}}function Wn(s,v,u,p){for(var y=0,b=0;y<s.childCount&&b<=p;){var x=s.child(y++),A=b;if(b+=x.nodeSize,!!x.isText){for(var R=x.text;y<s.childCount;){var F=s.child(y++);if(b+=F.nodeSize,!F.isText)break;R+=F.text}if(b>=u){if(b>=p&&R.slice(p-v.length-A,p-A)==v)return p-v.length;var j=A<p?R.lastIndexOf(v,p-A-1):-1;if(j>=0&&j+v.length+A>=u)return A+j;if(u==p&&R.length>=p+v.length-A&&R.slice(p-A,p-A+v.length)==v)return p}}}return-1}function Yr(s,v,u,p,y){for(var b=[],x=0,A=0;x<s.length;x++){var R=s[x],F=A,j=A+=R.size;F>=u||j<=v?b.push(R):(F<v&&b.push(R.slice(0,v-F,p)),y&&(b.push(y),y=void 0),j>u&&b.push(R.slice(u-F,R.size,p)))}return b}function en(s){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,u=s.domSelectionRange(),p=s.state.doc;if(!u.focusNode)return null;var y=s.docView.nearestDesc(u.focusNode),b=y&&y.size==0,x=s.docView.posFromDOM(u.focusNode,u.focusOffset,1);if(x<0)return null;var A=p.resolve(x),R,F;if(rt(u)){for(R=x;y&&!y.node;)y=y.parent;var j=y.node;if(y&&j.isAtom&&X.NodeSelection.isSelectable(j)&&y.parent&&!(j.isInline&&ze(u.focusNode,u.focusOffset,y.dom))){var re=y.posBefore;F=new X.NodeSelection(x==re?A:p.resolve(re))}}else{if(u instanceof s.dom.ownerDocument.defaultView.Selection&&u.rangeCount>1){for(var J=x,se=x,me=0;me<u.rangeCount;me++){var Te=u.getRangeAt(me);J=Math.min(J,s.docView.posFromDOM(Te.startContainer,Te.startOffset,1)),se=Math.max(se,s.docView.posFromDOM(Te.endContainer,Te.endOffset,-1))}if(J<0)return null;var Be=se==s.state.selection.anchor?[se,J]:[J,se],ke=r(Be,2);R=ke[0],x=ke[1],A=p.resolve(x)}else R=s.docView.posFromDOM(u.anchorNode,u.anchorOffset,1);if(R<0)return null}var at=p.resolve(R);if(!F){var tt=v=="pointer"||s.state.selection.head<A.pos&&!b?1:-1;F=rn(s,at,A,tt)}return F}function Ia(s){return s.editable?s.hasFocus():pi(s)&&document.activeElement&&document.activeElement.contains(s.dom)}function Ir(s){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,u=s.state.selection;if(Gn(s,u),!!Ia(s)){if(!v&&s.input.mouseDown&&s.input.mouseDown.allowDefault&&He){var p=s.domSelectionRange(),y=s.domObserver.currentSelection;if(p.anchorNode&&y.anchorNode&&Ye(p.anchorNode,p.anchorOffset,y.anchorNode,y.anchorOffset)){s.input.mouseDown.delayedSelectionSync=!0,s.domObserver.setCurSelection();return}}if(s.domObserver.disconnectSelection(),s.cursorWrapper)tn(s);else{var b=u.anchor,x=u.head,A,R;Pa&&!(u instanceof X.TextSelection)&&(u.$from.parent.inlineContent||(A=ga(s,u.from)),!u.empty&&!u.$from.parent.inlineContent&&(R=ga(s,u.to))),s.docView.setSelection(b,x,s,v),Pa&&(A&&ba(A),R&&ba(R)),u.visible?s.dom.classList.remove("ProseMirror-hideselection"):(s.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&Ba(s))}s.domObserver.setCurSelection(),s.domObserver.connectSelection()}}var Pa=Je||He&&lt<63;function ga(s,v){var u=s.docView.domFromPos(v,0),p=u.node,y=u.offset,b=y<p.childNodes.length?p.childNodes[y]:null,x=y?p.childNodes[y-1]:null;if(Je&&b&&b.contentEditable=="false")return ya(b);if((!b||b.contentEditable=="false")&&(!x||x.contentEditable=="false")){if(b)return ya(b);if(x)return ya(x)}}function ya(s){return s.contentEditable="true",Je&&s.draggable&&(s.draggable=!1,s.wasDraggable=!0),s}function ba(s){s.contentEditable="false",s.wasDraggable&&(s.draggable=!0,s.wasDraggable=null)}function Ba(s){var v=s.dom.ownerDocument;v.removeEventListener("selectionchange",s.input.hideSelectionGuard);var u=s.domSelectionRange(),p=u.anchorNode,y=u.anchorOffset;v.addEventListener("selectionchange",s.input.hideSelectionGuard=function(){(u.anchorNode!=p||u.anchorOffset!=y)&&(v.removeEventListener("selectionchange",s.input.hideSelectionGuard),setTimeout(function(){(!Ia(s)||s.state.selection.visible)&&s.dom.classList.remove("ProseMirror-hideselection")},20))})}function tn(s){var v=s.domSelection();if(v){var u=s.cursorWrapper.dom,p=u.nodeName=="IMG";p?v.collapse(u.parentNode,ye(u)+1):v.collapse(u,0),!p&&!s.state.selection.visible&&U&&ue<=11&&(u.disabled=!0,u.disabled=!1)}}function Gn(s,v){if(v instanceof X.NodeSelection){var u=s.docView.descAt(v.from);u!=s.lastSelectedViewDesc&&(wa(s),u&&u.selectNode(),s.lastSelectedViewDesc=u)}else wa(s)}function wa(s){s.lastSelectedViewDesc&&(s.lastSelectedViewDesc.parent&&s.lastSelectedViewDesc.deselectNode(),s.lastSelectedViewDesc=void 0)}function rn(s,v,u,p){return s.someProp("createSelectionBetween",function(y){return y(s,v,u)})||X.TextSelection.between(v,u,p)}function vi(s){return s.editable&&!s.hasFocus()?!1:pi(s)}function pi(s){var v=s.domSelectionRange();if(!v.anchorNode)return!1;try{return s.dom.contains(v.anchorNode.nodeType==3?v.anchorNode.parentNode:v.anchorNode)&&(s.editable||s.dom.contains(v.focusNode.nodeType==3?v.focusNode.parentNode:v.focusNode))}catch{return!1}}function In(s){var v=s.docView.domFromPos(s.state.selection.anchor,0),u=s.domSelectionRange();return Ye(v.node,v.offset,u.anchorNode,u.anchorOffset)}function nn(s,v){var u=s.selection,p=u.$anchor,y=u.$head,b=v>0?p.max(y):p.min(y),x=b.parent.inlineContent?b.depth?s.doc.resolve(v>0?b.after():b.before()):null:b;return x&&X.Selection.findFrom(x,v)}function an(s,v){return s.dispatch(s.state.tr.setSelection(v).scrollIntoView()),!0}function ka(s,v,u){var p=s.state.selection;if(p instanceof X.TextSelection)if(u.indexOf("s")>-1){var y=p.$head,b=y.textOffset?null:v<0?y.nodeBefore:y.nodeAfter;if(!b||b.isText||!b.isLeaf)return!1;var x=s.state.doc.resolve(y.pos+b.nodeSize*(v<0?-1:1));return an(s,new X.TextSelection(p.$anchor,x))}else if(p.empty){if(s.endOfTextblock(v>0?"forward":"backward")){var A=nn(s.state,v);return A&&A instanceof X.NodeSelection?an(s,A):!1}else if(!(mt&&u.indexOf("m")>-1)){var R=p.$head,F=R.textOffset?null:v<0?R.nodeBefore:R.nodeAfter,j;if(!F||F.isText)return!1;var re=v<0?R.pos-F.nodeSize:R.pos;return F.isAtom||(j=s.docView.descAt(re))&&!j.contentDOM?X.NodeSelection.isSelectable(F)?an(s,new X.NodeSelection(v<0?s.state.doc.resolve(R.pos-F.nodeSize):R)):nr?an(s,new X.TextSelection(s.state.doc.resolve(v<0?re:re+F.nodeSize))):!1:!1}}else return!1;else{if(p instanceof X.NodeSelection&&p.node.isInline)return an(s,new X.TextSelection(v>0?p.$to:p.$from));var J=nn(s.state,v);return J?an(s,J):!1}}function Kn(s){return s.nodeType==3?s.nodeValue.length:s.childNodes.length}function Pn(s,v){var u=s.pmViewDesc;return u&&u.size==0&&(v<0||s.nextSibling||s.nodeName!="BR")}function $r(s,v){return v<0?qa(s):Zi(s)}function qa(s){var v=s.domSelectionRange(),u=v.focusNode,p=v.focusOffset;if(u){var y,b,x=!1;for(de&&u.nodeType==1&&p<Kn(u)&&Pn(u.childNodes[p],-1)&&(x=!0);;)if(p>0){if(u.nodeType!=1)break;var A=u.childNodes[p-1];if(Pn(A,-1))y=u,b=--p;else if(A.nodeType==3)u=A,p=u.nodeValue.length;else break}else{if(Pr(u))break;for(var R=u.previousSibling;R&&Pn(R,-1);)y=u.parentNode,b=ye(R),R=R.previousSibling;if(R)u=R,p=Kn(u);else{if(u=u.parentNode,u==s.dom)break;p=0}}x?Ca(s,u,p):y&&Ca(s,y,b)}}function Zi(s){var v=s.domSelectionRange(),u=v.focusNode,p=v.focusOffset;if(u){for(var y=Kn(u),b,x;;)if(p<y){if(u.nodeType!=1)break;var A=u.childNodes[p];if(Pn(A,1))b=u,x=++p;else break}else{if(Pr(u))break;for(var R=u.nextSibling;R&&Pn(R,1);)b=R.parentNode,x=ye(R)+1,R=R.nextSibling;if(R)u=R,p=0,y=Kn(u);else{if(u=u.parentNode,u==s.dom)break;p=y=0}}b&&Ca(s,b,x)}}function Pr(s){var v=s.pmViewDesc;return v&&v.node&&v.node.isBlock}function di(s,v){for(;s&&v==s.childNodes.length&&!ot(s);)v=ye(s)+1,s=s.parentNode;for(;s&&v<s.childNodes.length;){var u=s.childNodes[v];if(u.nodeType==3)return u;if(u.nodeType==1&&u.contentEditable=="false")break;s=u,v=0}}function hi(s,v){for(;s&&!v&&!ot(s);)v=ye(s),s=s.parentNode;for(;s&&v;){var u=s.childNodes[v-1];if(u.nodeType==3)return u;if(u.nodeType==1&&u.contentEditable=="false")break;s=u,v=s.childNodes.length}}function Ca(s,v,u){if(v.nodeType!=3){var p,y;(y=di(v,u))?(v=y,u=0):(p=hi(v,u))&&(v=p,u=p.nodeValue.length)}var b=s.domSelection();if(b){if(rt(b)){var x=document.createRange();x.setEnd(v,u),x.setStart(v,u),b.removeAllRanges(),b.addRange(x)}else b.extend&&b.extend(v,u);s.domObserver.setCurSelection();var A=s.state;setTimeout(function(){s.state==A&&Ir(s)},50)}}function mi(s,v){var u=s.state.doc.resolve(v);if(!(He||Pt)&&u.parent.inlineContent){var p=s.coordsAtPos(v);if(v>u.start()){var y=s.coordsAtPos(v-1),b=(y.top+y.bottom)/2;if(b>p.top&&b<p.bottom&&Math.abs(y.left-p.left)>1)return y.left<p.left?"ltr":"rtl"}if(v<u.end()){var x=s.coordsAtPos(v+1),A=(x.top+x.bottom)/2;if(A>p.top&&A<p.bottom&&Math.abs(x.left-p.left)>1)return x.left>p.left?"ltr":"rtl"}}var R=getComputedStyle(s.dom).direction;return R=="rtl"?"rtl":"ltr"}function Bn(s,v,u){var p=s.state.selection;if(p instanceof X.TextSelection&&!p.empty||u.indexOf("s")>-1||mt&&u.indexOf("m")>-1)return!1;var y=p.$from,b=p.$to;if(!y.parent.inlineContent||s.endOfTextblock(v<0?"up":"down")){var x=nn(s.state,v);if(x&&x instanceof X.NodeSelection)return an(s,x)}if(!y.parent.inlineContent){var A=v<0?y:b,R=p instanceof X.AllSelection?X.Selection.near(A,v):X.Selection.findFrom(A,v);return R?an(s,R):!1}return!1}function Br(s,v){if(!(s.state.selection instanceof X.TextSelection))return!0;var u=s.state.selection,p=u.$head,y=u.$anchor,b=u.empty;if(!p.sameParent(y))return!0;if(!b)return!1;if(s.endOfTextblock(v>0?"forward":"backward"))return!0;var x=!p.textOffset&&(v<0?p.nodeBefore:p.nodeAfter);if(x&&!x.isText){var A=s.state.tr;return v<0?A.delete(p.pos-x.nodeSize,p.pos):A.delete(p.pos,p.pos+x.nodeSize),s.dispatch(A),!0}return!1}function Fa(s,v,u){s.domObserver.stop(),v.contentEditable=u,s.domObserver.start()}function gi(s){if(!Je||s.state.selection.$head.parentOffset>0)return!1;var v=s.domSelectionRange(),u=v.focusNode,p=v.focusOffset;if(u&&u.nodeType==1&&p==0&&u.firstChild&&u.firstChild.contentEditable=="false"){var y=u.firstChild;Fa(s,y,"true"),setTimeout(function(){return Fa(s,y,"false")},20)}return!1}function yi(s){var v="";return s.ctrlKey&&(v+="c"),s.metaKey&&(v+="m"),s.altKey&&(v+="a"),s.shiftKey&&(v+="s"),v}function Yi(s,v){var u=v.keyCode,p=yi(v);if(u==8||mt&&u==72&&p=="c")return Br(s,-1)||$r(s,-1);if(u==46&&!v.shiftKey||mt&&u==68&&p=="c")return Br(s,1)||$r(s,1);if(u==13||u==27)return!0;if(u==37||mt&&u==66&&p=="c"){var y=u==37?mi(s,s.state.selection.from)=="ltr"?-1:1:-1;return ka(s,y,p)||$r(s,y)}else if(u==39||mt&&u==70&&p=="c"){var b=u==39?mi(s,s.state.selection.from)=="ltr"?1:-1:1;return ka(s,b,p)||$r(s,b)}else{if(u==38||mt&&u==80&&p=="c")return Bn(s,-1,p)||$r(s,-1);if(u==40||mt&&u==78&&p=="c")return gi(s)||Bn(s,1,p)||$r(s,1);if(p==(mt?"m":"c")&&(u==66||u==73||u==89||u==90))return!0}return!1}function _e(s,v){s.someProp("transformCopied",function(ke){v=ke(v,s)});for(var u=[],p=v,y=p.content,b=p.openStart,x=p.openEnd;b>1&&x>1&&y.childCount==1&&y.firstChild.childCount==1;){b--,x--;var A=y.firstChild;u.push(A.type.name,A.attrs!=A.type.defaultAttrs?A.attrs:null),y=A.content}var R=s.someProp("clipboardSerializer")||oe.DOMSerializer.fromSchema(s.state.schema),F=bi(),j=F.createElement("div");j.appendChild(R.serializeFragment(y,{document:F}));for(var re=j.firstChild,J,se=0;re&&re.nodeType==1&&(J=qn[re.nodeName.toLowerCase()]);){for(var me=J.length-1;me>=0;me--){for(var Te=F.createElement(J[me]);j.firstChild;)Te.appendChild(j.firstChild);j.appendChild(Te),se++}re=j.firstChild}re&&re.nodeType==1&&re.setAttribute("data-pm-slice","".concat(b," ").concat(x).concat(se?" -".concat(se):""," ").concat(JSON.stringify(u)));var Be=s.someProp("clipboardTextSerializer",function(ke){return ke(v,s)})||v.content.textBetween(0,v.content.size,`

`);return{dom:j,text:Be,slice:v}}function te(s,v,u,p,y){var b=y.parent.type.spec.code,x,A;if(!u&&!v)return null;var R=!!v&&(p||b||!u);if(R){if(s.someProp("transformPastedText",function(yt){v=yt(v,b||p,s)}),b)return A=new oe.Slice(oe.Fragment.from(s.state.schema.text(v.replace(/\r\n?/g,`
`))),0,0),s.someProp("transformPasted",function(yt){A=yt(A,s,!0)}),A;var F=s.someProp("clipboardTextParser",function(yt){return yt(v,y,p,s)});if(F)A=F;else{var j=y.marks(),re=s.state.schema,J=oe.DOMSerializer.fromSchema(re);x=document.createElement("div"),v.split(/(?:\r\n?|\n)+/).forEach(function(yt){var dt=x.appendChild(document.createElement("p"));yt&&dt.appendChild(J.serializeNode(re.text(yt,j)))})}}else s.someProp("transformPastedHTML",function(yt){u=yt(u,s)}),x=Cl(u),nr&&Tl(x);var se=x&&x.querySelector("[data-pm-slice]"),me=se&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(se.getAttribute("data-pm-slice")||"");if(me&&me[3])for(var Te=+me[3];Te>0;Te--){for(var Be=x.firstChild;Be&&Be.nodeType!=1;)Be=Be.nextSibling;if(!Be)break;x=Be}if(!A){var ke=s.someProp("clipboardParser")||s.someProp("domParser")||oe.DOMParser.fromSchema(s.state.schema);A=ke.parseSlice(x,{preserveWhitespace:!!(R||me),context:y,ruleFromNode:function(dt){return dt.nodeName=="BR"&&!dt.nextSibling&&dt.parentNode&&!Ce.test(dt.parentNode.nodeName)?{ignore:!0}:null}})}if(me)A=El(qr(A,+me[1],+me[2]),me[4]);else if(A=oe.Slice.maxOpen(qe(A.content,y),!0),A.openStart||A.openEnd){for(var at=0,tt=0,je=A.content.firstChild;at<A.openStart&&!je.type.spec.isolating;at++,je=je.firstChild);for(var Xe=A.content.lastChild;tt<A.openEnd&&!Xe.type.spec.isolating;tt++,Xe=Xe.lastChild);A=qr(A,at,tt)}return s.someProp("transformPasted",function(yt){A=yt(A,s,R)}),A}var Ce=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function qe(s,v){if(s.childCount<2)return s;for(var u=function(){var x=v.node(y),A=x.contentMatchAt(v.index(y)),R,F=[];if(s.forEach(function(j){if(F){var re=A.findWrapping(j.type),J;if(!re)return F=null;if(J=F.length&&R.length&&zt(re,R,j,F[F.length-1],0))F[F.length-1]=J;else{F.length&&(F[F.length-1]=$t(F[F.length-1],R.length));var se=ct(j,re);F.push(se),A=A.matchType(se.type),R=re}}}),F)return{v:oe.Fragment.from(F)}},p,y=v.depth;y>=0;y--)if(p=u(),p)return p.v;return s}function ct(s,v){for(var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,p=v.length-1;p>=u;p--)s=v[p].create(null,oe.Fragment.from(s));return s}function zt(s,v,u,p,y){if(y<s.length&&y<v.length&&s[y]==v[y]){var b=zt(s,v,u,p.lastChild,y+1);if(b)return p.copy(p.content.replaceChild(p.childCount-1,b));var x=p.contentMatchAt(p.childCount);if(x.matchType(y==s.length-1?u.type:s[y+1]))return p.copy(p.content.append(oe.Fragment.from(ct(u,s,y+1))))}}function $t(s,v){if(v==0)return s;var u=s.content.replaceChild(s.childCount-1,$t(s.lastChild,v-1)),p=s.contentMatchAt(s.childCount).fillBefore(oe.Fragment.empty,!0);return s.copy(u.append(p))}function qt(s,v,u,p,y,b){var x=v<0?s.firstChild:s.lastChild,A=x.content;return s.childCount>1&&(b=0),y<p-1&&(A=qt(A,v,u,p,y+1,b)),y>=u&&(A=v<0?x.contentMatchAt(0).fillBefore(A,b<=y).append(A):A.append(x.contentMatchAt(x.childCount).fillBefore(oe.Fragment.empty,!0))),s.replaceChild(v<0?0:s.childCount-1,x.copy(A))}function qr(s,v,u){return v<s.openStart&&(s=new oe.Slice(qt(s.content,-1,v,s.openStart,0,s.openEnd),v,s.openEnd)),u<s.openEnd&&(s=new oe.Slice(qt(s.content,1,u,s.openEnd,0,0),s.openStart,u)),s}var qn={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},Ha=null;function bi(){return Ha||(Ha=document.implementation.createHTMLDocument("title"))}var wi=null;function kl(s){var v=window.trustedTypes;return v?(wi||(wi=v.defaultPolicy||v.createPolicy("ProseMirrorClipboard",{createHTML:function(p){return p}})),wi.createHTML(s)):s}function Cl(s){var v=/^(\s*<meta [^>]*>)*/.exec(s);v&&(s=s.slice(v[0].length));var u=bi().createElement("div"),p=/<([a-z][^>\s]+)/i.exec(s),y;if((y=p&&qn[p[1].toLowerCase()])&&(s=y.map(function(x){return"<"+x+">"}).join("")+s+y.map(function(x){return"</"+x+">"}).reverse().join("")),u.innerHTML=kl(s),y)for(var b=0;b<y.length;b++)u=u.querySelector(y[b])||u;return u}function Tl(s){for(var v=s.querySelectorAll(He?"span:not([class]):not([style])":"span.Apple-converted-space"),u=0;u<v.length;u++){var p=v[u];p.childNodes.length==1&&p.textContent==""&&p.parentNode&&p.parentNode.replaceChild(s.ownerDocument.createTextNode(" "),p)}}function El(s,v){if(!s.size)return s;var u=s.content.firstChild.type.schema,p;try{p=JSON.parse(v)}catch{return s}for(var y=s.content,b=s.openStart,x=s.openEnd,A=p.length-2;A>=0;A-=2){var R=u.nodes[p[A]];if(!R||R.hasRequiredAttrs())break;y=oe.Fragment.from(R.create(p[A+1],y)),b++,x++}return new oe.Slice(y,b,x)}var hr={},mr={},xl={touchstart:!0,touchmove:!0},Sl=G(function s(){z(this,s),this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null});function Ml(s){var v=function(){var y=hr[u];s.dom.addEventListener(u,s.input.eventHandlers[u]=function(b){Ll(s,b)&&!to(s,b)&&(s.editable||!(b.type in mr))&&y(s,b)},xl[u]?{passive:!0}:void 0)};for(var u in hr)v();Je&&s.dom.addEventListener("input",function(){return null}),eo(s)}function Fn(s,v){s.input.lastSelectionOrigin=v,s.input.lastSelectionTime=Date.now()}function Al(s){s.domObserver.stop();for(var v in s.input.eventHandlers)s.dom.removeEventListener(v,s.input.eventHandlers[v]);clearTimeout(s.input.composingTimeout),clearTimeout(s.input.lastIOSEnterFallbackTimeout)}function eo(s){s.someProp("handleDOMEvents",function(v){for(var u in v)s.input.eventHandlers[u]||s.dom.addEventListener(u,s.input.eventHandlers[u]=function(p){return to(s,p)})})}function to(s,v){return s.someProp("handleDOMEvents",function(u){var p=u[v.type];return p?p(s,v)||v.defaultPrevented:!1})}function Ll(s,v){if(!v.bubbles)return!0;if(v.defaultPrevented)return!1;for(var u=v.target;u!=s.dom;u=u.parentNode)if(!u||u.nodeType==11||u.pmViewDesc&&u.pmViewDesc.stopEvent(v))return!1;return!0}function Dl(s,v){!to(s,v)&&hr[v.type]&&(s.editable||!(v.type in mr))&&hr[v.type](s,v)}mr.keydown=function(s,v){var u=v;if(s.input.shiftKey=u.keyCode==16||u.shiftKey,!No(s,u)&&(s.input.lastKeyCode=u.keyCode,s.input.lastKeyCodeTime=Date.now(),!(gt&&He&&u.keyCode==13)))if(u.keyCode!=229&&s.domObserver.forceFlush(),xt&&u.keyCode==13&&!u.ctrlKey&&!u.altKey&&!u.metaKey){var p=Date.now();s.input.lastIOSEnter=p,s.input.lastIOSEnterFallbackTimeout=setTimeout(function(){s.input.lastIOSEnter==p&&(s.someProp("handleKeyDown",function(y){return y(s,Et(13,"Enter"))}),s.input.lastIOSEnter=0)},200)}else s.someProp("handleKeyDown",function(y){return y(s,u)})||Yi(s,u)?u.preventDefault():Fn(s,"key")},mr.keyup=function(s,v){v.keyCode==16&&(s.input.shiftKey=!1)},mr.keypress=function(s,v){var u=v;if(!(No(s,u)||!u.charCode||u.ctrlKey&&!u.altKey||mt&&u.metaKey)){if(s.someProp("handleKeyPress",function(x){return x(s,u)})){u.preventDefault();return}var p=s.state.selection;if(!(p instanceof X.TextSelection)||!p.$from.sameParent(p.$to)){var y=String.fromCharCode(u.charCode),b=function(){return s.state.tr.insertText(y).scrollIntoView()};!/[\r\n]/.test(y)&&!s.someProp("handleTextInput",function(x){return x(s,p.$from.pos,p.$to.pos,y,b)})&&s.dispatch(b()),u.preventDefault()}}};function ki(s){return{left:s.clientX,top:s.clientY}}function Ol(s,v){var u=v.x-s.clientX,p=v.y-s.clientY;return u*u+p*p<100}function ro(s,v,u,p,y){if(p==-1)return!1;for(var b=s.state.doc.resolve(p),x=function(j){if(s.someProp(v,function(re){return j>b.depth?re(s,u,b.nodeAfter,b.before(j),y,!0):re(s,u,b.node(j),b.before(j),y,!1)}))return{v:!0}},A,R=b.depth+1;R>0;R--)if(A=x(R),A)return A.v;return!1}function Ta(s,v,u){if(s.focused||s.focus(),!s.state.selection.eq(v)){var p=s.state.tr.setSelection(v);p.setMeta("pointer",!0),s.dispatch(p)}}function Nl(s,v){if(v==-1)return!1;var u=s.state.doc.resolve(v),p=u.nodeAfter;return p&&p.isAtom&&X.NodeSelection.isSelectable(p)?(Ta(s,new X.NodeSelection(u)),!0):!1}function Rl(s,v){if(v==-1)return!1;var u=s.state.selection,p,y;u instanceof X.NodeSelection&&(p=u.node);for(var b=s.state.doc.resolve(v),x=b.depth+1;x>0;x--){var A=x>b.depth?b.nodeAfter:b.node(x);if(X.NodeSelection.isSelectable(A)){p&&u.$from.depth>0&&x>=u.$from.depth&&b.before(u.$from.depth+1)==u.$from.pos?y=b.before(u.$from.depth):y=b.before(x);break}}return y!=null?(Ta(s,X.NodeSelection.create(s.state.doc,y)),!0):!1}function Il(s,v,u,p,y){return ro(s,"handleClickOn",v,u,p)||s.someProp("handleClick",function(b){return b(s,v,p)})||(y?Rl(s,u):Nl(s,u))}function Pl(s,v,u,p){return ro(s,"handleDoubleClickOn",v,u,p)||s.someProp("handleDoubleClick",function(y){return y(s,v,p)})}function Bl(s,v,u,p){return ro(s,"handleTripleClickOn",v,u,p)||s.someProp("handleTripleClick",function(y){return y(s,v,p)})||ql(s,u,p)}function ql(s,v,u){if(u.button!=0)return!1;var p=s.state.doc;if(v==-1)return p.inlineContent?(Ta(s,X.TextSelection.create(p,0,p.content.size)),!0):!1;for(var y=p.resolve(v),b=y.depth+1;b>0;b--){var x=b>y.depth?y.nodeAfter:y.node(b),A=y.before(b);if(x.inlineContent)Ta(s,X.TextSelection.create(p,A+1,A+1+x.content.size));else if(X.NodeSelection.isSelectable(x))Ta(s,X.NodeSelection.create(p,A));else continue;return!0}}function no(s){return _a(s)}var Oo=mt?"metaKey":"ctrlKey";hr.mousedown=function(s,v){var u=v;s.input.shiftKey=u.shiftKey;var p=no(s),y=Date.now(),b="singleClick";y-s.input.lastClick.time<500&&Ol(u,s.input.lastClick)&&!u[Oo]&&s.input.lastClick.button==u.button&&(s.input.lastClick.type=="singleClick"?b="doubleClick":s.input.lastClick.type=="doubleClick"&&(b="tripleClick")),s.input.lastClick={time:y,x:u.clientX,y:u.clientY,type:b,button:u.button};var x=s.posAtCoords(ki(u));x&&(b=="singleClick"?(s.input.mouseDown&&s.input.mouseDown.done(),s.input.mouseDown=new Fl(s,x,u,!!p)):(b=="doubleClick"?Pl:Bl)(s,x.pos,x.inside,u)?u.preventDefault():Fn(s,"pointer"))};var Fl=function(){function s(v,u,p,y){var b=this;z(this,s),this.view=v,this.pos=u,this.event=p,this.flushed=y,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=v.state.doc,this.selectNode=!!p[Oo],this.allowDefault=p.shiftKey;var x,A;if(u.inside>-1)x=v.state.doc.nodeAt(u.inside),A=u.inside;else{var R=v.state.doc.resolve(u.pos);x=R.parent,A=R.depth?R.before():0}var F=y?null:p.target,j=F?v.docView.nearestDesc(F,!0):null;this.target=j&&j.nodeDOM.nodeType==1?j.nodeDOM:null;var re=v.state.selection;(p.button==0&&x.type.spec.draggable&&x.type.spec.selectable!==!1||re instanceof X.NodeSelection&&re.from<=A&&re.to>A)&&(this.mightDrag={node:x,pos:A,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&de&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(function(){b.view.input.mouseDown==b&&b.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),v.root.addEventListener("mouseup",this.up=this.up.bind(this)),v.root.addEventListener("mousemove",this.move=this.move.bind(this)),Fn(v,"pointer")}return G(s,[{key:"done",value:function(){var u=this;this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(function(){return Ir(u.view)}),this.view.input.mouseDown=null}},{key:"up",value:function(u){if(this.done(),!!this.view.dom.contains(u.target)){var p=this.pos;this.view.state.doc!=this.startDoc&&(p=this.view.posAtCoords(ki(u))),this.updateAllowDefault(u),this.allowDefault||!p?Fn(this.view,"pointer"):Il(this.view,p.pos,p.inside,u,this.selectNode)?u.preventDefault():u.button==0&&(this.flushed||Je&&this.mightDrag&&!this.mightDrag.node.isAtom||He&&!this.view.state.selection.visible&&Math.min(Math.abs(p.pos-this.view.state.selection.from),Math.abs(p.pos-this.view.state.selection.to))<=2)?(Ta(this.view,X.Selection.near(this.view.state.doc.resolve(p.pos))),u.preventDefault()):Fn(this.view,"pointer")}}},{key:"move",value:function(u){this.updateAllowDefault(u),Fn(this.view,"pointer"),u.buttons==0&&this.done()}},{key:"updateAllowDefault",value:function(u){!this.allowDefault&&(Math.abs(this.event.x-u.clientX)>4||Math.abs(this.event.y-u.clientY)>4)&&(this.allowDefault=!0)}}]),s}();hr.touchstart=function(s){s.input.lastTouch=Date.now(),no(s),Fn(s,"pointer")},hr.touchmove=function(s){s.input.lastTouch=Date.now(),Fn(s,"pointer")},hr.contextmenu=function(s){return no(s)};function No(s,v){return s.composing?!0:Je&&Math.abs(v.timeStamp-s.input.compositionEndedAt)<500?(s.input.compositionEndedAt=-2e8,!0):!1}var Hl=gt?5e3:-1;mr.compositionstart=mr.compositionupdate=function(s){if(!s.composing){s.domObserver.flush();var v=s.state,u=v.selection.$to;if(v.selection instanceof X.TextSelection&&(v.storedMarks||!u.textOffset&&u.parentOffset&&u.nodeBefore.marks.some(function(R){return R.type.spec.inclusive===!1})||He&&Pt&&_l(s)))s.markCursor=s.state.storedMarks||u.marks(),_a(s,!0),s.markCursor=null;else if(_a(s,!v.selection.empty),de&&v.selection.empty&&u.parentOffset&&!u.textOffset&&u.nodeBefore.marks.length)for(var p=s.domSelectionRange(),y=p.focusNode,b=p.focusOffset;y&&y.nodeType==1&&b!=0;){var x=b<0?y.lastChild:y.childNodes[b-1];if(!x)break;if(x.nodeType==3){var A=s.domSelection();A&&A.collapse(x,x.nodeValue.length);break}else y=x,b=-1}s.input.composing=!0}Ro(s,Hl)};function _l(s){var v=s.domSelectionRange(),u=v.focusNode,p=v.focusOffset;if(!u||u.nodeType!=1||p>=u.childNodes.length)return!1;var y=u.childNodes[p];return y.nodeType==1&&y.contentEditable=="false"}mr.compositionend=function(s,v){s.composing&&(s.input.composing=!1,s.input.compositionEndedAt=v.timeStamp,s.input.compositionPendingChanges=s.domObserver.pendingRecords().length?s.input.compositionID:0,s.input.compositionNode=null,s.input.compositionPendingChanges&&Promise.resolve().then(function(){return s.domObserver.flush()}),s.input.compositionID++,Ro(s,20))};function Ro(s,v){clearTimeout(s.input.composingTimeout),v>-1&&(s.input.composingTimeout=setTimeout(function(){return _a(s)},v))}function Io(s){for(s.composing&&(s.input.composing=!1,s.input.compositionEndedAt=$l());s.input.compositionNodes.length>0;)s.input.compositionNodes.pop().markParentsDirty()}function zl(s){var v=s.domSelectionRange();if(!v.focusNode)return null;var u=Tt(v.focusNode,v.focusOffset),p=Kt(v.focusNode,v.focusOffset);if(u&&p&&u!=p){var y=p.pmViewDesc,b=s.domObserver.lastChangedTextNode;if(u==b||p==b)return b;if(!y||!y.isText(p.nodeValue))return p;if(s.input.compositionNode==p){var x=u.pmViewDesc;if(!(!x||!x.isText(u.nodeValue)))return p}}return u||p}function $l(){var s=document.createEvent("Event");return s.initEvent("event",!0,!0),s.timeStamp}function _a(s){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!(gt&&s.domObserver.flushingSoon>=0)){if(s.domObserver.forceFlush(),Io(s),v||s.docView&&s.docView.dirty){var u=en(s),p=s.state.selection;return u&&!u.eq(p)?s.dispatch(s.state.tr.setSelection(u)):(s.markCursor||v)&&!p.$from.node(p.$from.sharedDepth(p.to)).inlineContent?s.dispatch(s.state.tr.deleteSelection()):s.updateState(s.state),!0}return!1}}function Vl(s,v){if(s.dom.parentNode){var u=s.dom.parentNode.appendChild(document.createElement("div"));u.appendChild(v),u.style.cssText="position: fixed; left: -10000px; top: 10px";var p=getSelection(),y=document.createRange();y.selectNodeContents(v),s.dom.blur(),p.removeAllRanges(),p.addRange(y),setTimeout(function(){u.parentNode&&u.parentNode.removeChild(u),s.focus()},50)}}var za=U&&ue<15||xt&&An<604;hr.copy=mr.cut=function(s,v){var u=v,p=s.state.selection,y=u.type=="cut";if(!p.empty){var b=za?null:u.clipboardData,x=p.content(),A=_e(s,x),R=A.dom,F=A.text;b?(u.preventDefault(),b.clearData(),b.setData("text/html",R.innerHTML),b.setData("text/plain",F)):Vl(s,R),y&&s.dispatch(s.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))}};function Ul(s){return s.openStart==0&&s.openEnd==0&&s.content.childCount==1?s.content.firstChild:null}function jl(s,v){if(s.dom.parentNode){var u=s.input.shiftKey||s.state.selection.$from.parent.type.spec.code,p=s.dom.parentNode.appendChild(document.createElement(u?"textarea":"div"));u||(p.contentEditable="true"),p.style.cssText="position: fixed; left: -10000px; top: 10px",p.focus();var y=s.input.shiftKey&&s.input.lastKeyCode!=45;setTimeout(function(){s.focus(),p.parentNode&&p.parentNode.removeChild(p),u?$a(s,p.value,null,y,v):$a(s,p.textContent,p.innerHTML,y,v)},50)}}function $a(s,v,u,p,y){var b=te(s,v,u,p,s.state.selection.$from);if(s.someProp("handlePaste",function(R){return R(s,y,b||oe.Slice.empty)}))return!0;if(!b)return!1;var x=Ul(b),A=x?s.state.tr.replaceSelectionWith(x,p):s.state.tr.replaceSelection(b);return s.dispatch(A.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function Po(s){var v=s.getData("text/plain")||s.getData("Text");if(v)return v;var u=s.getData("text/uri-list");return u?u.replace(/\r?\n/g," "):""}mr.paste=function(s,v){var u=v;if(!(s.composing&&!gt)){var p=za?null:u.clipboardData,y=s.input.shiftKey&&s.input.lastKeyCode!=45;p&&$a(s,Po(p),p.getData("text/html"),y,u)?u.preventDefault():jl(s,u)}};var Bo=G(function s(v,u,p){z(this,s),this.slice=v,this.move=u,this.node=p}),Wl=mt?"altKey":"ctrlKey";function qo(s,v){var u=s.someProp("dragCopies",function(p){return!p(v)});return u??!v[Wl]}hr.dragstart=function(s,v){var u=v,p=s.input.mouseDown;if(p&&p.done(),!!u.dataTransfer){var y=s.state.selection,b=y.empty?null:s.posAtCoords(ki(u)),x;if(!(b&&b.pos>=y.from&&b.pos<=(y instanceof X.NodeSelection?y.to-1:y.to))){if(p&&p.mightDrag)x=X.NodeSelection.create(s.state.doc,p.mightDrag.pos);else if(u.target&&u.target.nodeType==1){var A=s.docView.nearestDesc(u.target,!0);A&&A.node.type.spec.draggable&&A!=s.docView&&(x=X.NodeSelection.create(s.state.doc,A.posBefore))}}var R=(x||s.state.selection).content(),F=_e(s,R),j=F.dom,re=F.text,J=F.slice;(!u.dataTransfer.files.length||!He||lt>120)&&u.dataTransfer.clearData(),u.dataTransfer.setData(za?"Text":"text/html",j.innerHTML),u.dataTransfer.effectAllowed="copyMove",za||u.dataTransfer.setData("text/plain",re),s.dragging=new Bo(J,qo(s,u),x)}},hr.dragend=function(s){var v=s.dragging;window.setTimeout(function(){s.dragging==v&&(s.dragging=null)},50)},mr.dragover=mr.dragenter=function(s,v){return v.preventDefault()},mr.drop=function(s,v){try{Gl(s,v,s.dragging)}finally{s.dragging=null}};function Gl(s,v,u){if(v.dataTransfer){var p=s.posAtCoords(ki(v));if(p){var y=s.state.doc.resolve(p.pos),b=u&&u.slice;b?s.someProp("transformPasted",function(Te){b=Te(b,s,!1)}):b=te(s,Po(v.dataTransfer),za?null:v.dataTransfer.getData("text/html"),!1,y);var x=!!(u&&qo(s,v));if(s.someProp("handleDrop",function(Te){return Te(s,v,b||oe.Slice.empty,x)})){v.preventDefault();return}if(b){v.preventDefault();var A=b?ve.dropPoint(s.state.doc,y.pos,b):y.pos;A==null&&(A=y.pos);var R=s.state.tr;if(x){var F=u.node;F?F.replace(R):R.deleteSelection()}var j=R.mapping.map(A),re=b.openStart==0&&b.openEnd==0&&b.content.childCount==1,J=R.doc;if(re?R.replaceRangeWith(j,j,b.content.firstChild):R.replaceRange(j,j,b),!R.doc.eq(J)){var se=R.doc.resolve(j);if(re&&X.NodeSelection.isSelectable(b.content.firstChild)&&se.nodeAfter&&se.nodeAfter.sameMarkup(b.content.firstChild))R.setSelection(new X.NodeSelection(se));else{var me=R.mapping.map(A);R.mapping.maps[R.mapping.maps.length-1].forEach(function(Te,Be,ke,at){return me=at}),R.setSelection(rn(s,se,R.doc.resolve(me)))}s.focus(),s.dispatch(R.setMeta("uiEvent","drop"))}}}}}hr.focus=function(s){s.input.lastFocus=Date.now(),s.focused||(s.domObserver.stop(),s.dom.classList.add("ProseMirror-focused"),s.domObserver.start(),s.focused=!0,setTimeout(function(){s.docView&&s.hasFocus()&&!s.domObserver.currentSelection.eq(s.domSelectionRange())&&Ir(s)},20))},hr.blur=function(s,v){var u=v;s.focused&&(s.domObserver.stop(),s.dom.classList.remove("ProseMirror-focused"),s.domObserver.start(),u.relatedTarget&&s.dom.contains(u.relatedTarget)&&s.domObserver.currentSelection.clear(),s.focused=!1)},hr.beforeinput=function(s,v){var u=v;if(He&&gt&&u.inputType=="deleteContentBackward"){s.domObserver.flushSoon();var p=s.input.domChangeCount;setTimeout(function(){if(s.input.domChangeCount==p&&(s.dom.blur(),s.focus(),!s.someProp("handleKeyDown",function(b){return b(s,Et(8,"Backspace"))}))){var y=s.state.selection.$cursor;y&&y.pos>0&&s.dispatch(s.state.tr.delete(y.pos-1,y.pos).scrollIntoView())}},50)}};for(var Fo in mr)hr[Fo]=mr[Fo];function Va(s,v){if(s==v)return!0;for(var u in s)if(s[u]!==v[u])return!1;for(var p in v)if(!(p in s))return!1;return!0}var Ho=function(){function s(v,u){z(this,s),this.toDOM=v,this.spec=u||Qn,this.side=this.spec.side||0}return G(s,[{key:"map",value:function(u,p,y,b){var x=u.mapResult(p.from+b,this.side<0?-1:1),A=x.pos,R=x.deleted;return R?null:new Jn(A-y,A-y,this)}},{key:"valid",value:function(){return!0}},{key:"eq",value:function(u){return this==u||u instanceof s&&(this.spec.key&&this.spec.key==u.spec.key||this.toDOM==u.toDOM&&Va(this.spec,u.spec))}},{key:"destroy",value:function(u){this.spec.destroy&&this.spec.destroy(u)}}]),s}(),Ua=function(){function s(v,u){z(this,s),this.attrs=v,this.spec=u||Qn}return G(s,[{key:"map",value:function(u,p,y,b){var x=u.map(p.from+b,this.spec.inclusiveStart?-1:1)-y,A=u.map(p.to+b,this.spec.inclusiveEnd?1:-1)-y;return x>=A?null:new Jn(x,A,this)}},{key:"valid",value:function(u,p){return p.from<p.to}},{key:"eq",value:function(u){return this==u||u instanceof s&&Va(this.attrs,u.attrs)&&Va(this.spec,u.spec)}},{key:"destroy",value:function(){}}],[{key:"is",value:function(u){return u.type instanceof s}}]),s}(),Kl=function(){function s(v,u){z(this,s),this.attrs=v,this.spec=u||Qn}return G(s,[{key:"map",value:function(u,p,y,b){var x=u.mapResult(p.from+b,1);if(x.deleted)return null;var A=u.mapResult(p.to+b,-1);return A.deleted||A.pos<=x.pos?null:new Jn(x.pos-y,A.pos-y,this)}},{key:"valid",value:function(u,p){var y=u.content.findIndex(p.from),b=y.index,x=y.offset,A;return x==p.from&&!(A=u.child(b)).isText&&x+A.nodeSize==p.to}},{key:"eq",value:function(u){return this==u||u instanceof s&&Va(this.attrs,u.attrs)&&Va(this.spec,u.spec)}},{key:"destroy",value:function(){}}]),s}(),Jn=function(){function s(v,u,p){z(this,s),this.from=v,this.to=u,this.type=p}return G(s,[{key:"copy",value:function(u,p){return new s(u,p,this.type)}},{key:"eq",value:function(u){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this.type.eq(u.type)&&this.from+p==u.from&&this.to+p==u.to}},{key:"map",value:function(u,p,y){return this.type.map(u,this,p,y)}},{key:"spec",get:function(){return this.type.spec}},{key:"inline",get:function(){return this.type instanceof Ua}},{key:"widget",get:function(){return this.type instanceof Ho}}],[{key:"widget",value:function(u,p,y){return new s(u,u,new Ho(p,y))}},{key:"inline",value:function(u,p,y,b){return new s(u,p,new Ua(y,b))}},{key:"node",value:function(u,p,y,b){return new s(u,p,new Kl(y,b))}}]),s}(),Ea=[],Qn={},Vr=function(){function s(v,u){z(this,s),this.local=v.length?v:Ea,this.children=u.length?u:Ea}return G(s,[{key:"find",value:function(u,p,y){var b=[];return this.findInner(u??0,p??1e9,b,0,y),b}},{key:"findInner",value:function(u,p,y,b,x){for(var A=0;A<this.local.length;A++){var R=this.local[A];R.from<=p&&R.to>=u&&(!x||x(R.spec))&&y.push(R.copy(R.from+b,R.to+b))}for(var F=0;F<this.children.length;F+=3)if(this.children[F]<p&&this.children[F+1]>u){var j=this.children[F]+1;this.children[F+2].findInner(u-j,p-j,y,b+j,x)}}},{key:"map",value:function(u,p,y){return this==or||u.maps.length==0?this:this.mapInner(u,p,0,0,y||Qn)}},{key:"mapInner",value:function(u,p,y,b,x){for(var A,R=0;R<this.local.length;R++){var F=this.local[R].map(u,y,b);F&&F.type.valid(p,F)?(A||(A=[])).push(F):x.onRemove&&x.onRemove(this.local[R].spec)}return this.children.length?Jl(this.children,A||[],u,p,y,b,x):A?new s(A.sort(Xn),Ea):or}},{key:"add",value:function(u,p){return p.length?this==or?s.create(u,p):this.addInner(u,p,0):this}},{key:"addInner",value:function(u,p,y){var b=this,x,A=0;u.forEach(function(j,re){var J=re+y,se;if(se=$o(p,j,J)){for(x||(x=b.children.slice());A<x.length&&x[A]<re;)A+=3;x[A]==re?x[A+2]=x[A+2].addInner(j,se,J+1):x.splice(A,0,re,re+j.nodeSize,Ci(se,j,J+1,Qn)),A+=3}});for(var R=zo(A?Vo(p):p,-y),F=0;F<R.length;F++)R[F].type.valid(u,R[F])||R.splice(F--,1);return new s(R.length?this.local.concat(R).sort(Xn):this.local,x||this.children)}},{key:"remove",value:function(u){return u.length==0||this==or?this:this.removeInner(u,0)}},{key:"removeInner",value:function(u,p){for(var y=this.children,b=this.local,x=0;x<y.length;x+=3){for(var A=void 0,R=y[x]+p,F=y[x+1]+p,j=0,re;j<u.length;j++)(re=u[j])&&re.from>R&&re.to<F&&(u[j]=null,(A||(A=[])).push(re));if(A){y==this.children&&(y=this.children.slice());var J=y[x+2].removeInner(A,R+1);J!=or?y[x+2]=J:(y.splice(x,3),x-=3)}}if(b.length){for(var se=0,me;se<u.length;se++)if(me=u[se])for(var Te=0;Te<b.length;Te++)b[Te].eq(me,p)&&(b==this.local&&(b=this.local.slice()),b.splice(Te--,1))}return y==this.children&&b==this.local?this:b.length||y.length?new s(b,y):or}},{key:"forChild",value:function(u,p){if(this==or)return this;if(p.isLeaf)return s.empty;for(var y,b,x=0;x<this.children.length;x+=3)if(this.children[x]>=u){this.children[x]==u&&(y=this.children[x+2]);break}for(var A=u+1,R=A+p.content.size,F=0;F<this.local.length;F++){var j=this.local[F];if(j.from<R&&j.to>A&&j.type instanceof Ua){var re=Math.max(A,j.from)-A,J=Math.min(R,j.to)-A;re<J&&(b||(b=[])).push(j.copy(re,J))}}if(b){var se=new s(b.sort(Xn),Ea);return y?new _o([se,y]):se}return y||or}},{key:"eq",value:function(u){if(this==u)return!0;if(!(u instanceof s)||this.local.length!=u.local.length||this.children.length!=u.children.length)return!1;for(var p=0;p<this.local.length;p++)if(!this.local[p].eq(u.local[p]))return!1;for(var y=0;y<this.children.length;y+=3)if(this.children[y]!=u.children[y]||this.children[y+1]!=u.children[y+1]||!this.children[y+2].eq(u.children[y+2]))return!1;return!0}},{key:"locals",value:function(u){return ao(this.localsInner(u))}},{key:"localsInner",value:function(u){if(this==or)return Ea;if(u.inlineContent||!this.local.some(Ua.is))return this.local;for(var p=[],y=0;y<this.local.length;y++)this.local[y].type instanceof Ua||p.push(this.local[y]);return p}},{key:"forEachSet",value:function(u){u(this)}}],[{key:"create",value:function(u,p){return p.length?Ci(p,u,0,Qn):or}}]),s}();Vr.empty=new Vr([],[]),Vr.removeOverlap=ao;var or=Vr.empty,_o=function(){function s(v){z(this,s),this.members=v}return G(s,[{key:"map",value:function(u,p){var y=this.members.map(function(b){return b.map(u,p,Qn)});return s.from(y)}},{key:"forChild",value:function(u,p){if(p.isLeaf)return Vr.empty;for(var y=[],b=0;b<this.members.length;b++){var x=this.members[b].forChild(u,p);x!=or&&(x instanceof s?y=y.concat(x.members):y.push(x))}return s.from(y)}},{key:"eq",value:function(u){if(!(u instanceof s)||u.members.length!=this.members.length)return!1;for(var p=0;p<this.members.length;p++)if(!this.members[p].eq(u.members[p]))return!1;return!0}},{key:"locals",value:function(u){for(var p,y=!0,b=0;b<this.members.length;b++){var x=this.members[b].localsInner(u);if(x.length)if(!p)p=x;else{y&&(p=p.slice(),y=!1);for(var A=0;A<x.length;A++)p.push(x[A])}}return p?ao(y?p:p.sort(Xn)):Ea}},{key:"forEachSet",value:function(u){for(var p=0;p<this.members.length;p++)this.members[p].forEachSet(u)}}],[{key:"from",value:function(u){switch(u.length){case 0:return or;case 1:return u[0];default:return new s(u.every(function(p){return p instanceof Vr})?u:u.reduce(function(p,y){return p.concat(y instanceof Vr?y:y.members)},[]))}}}]),s}();function Jl(s,v,u,p,y,b,x){for(var A=s.slice(),R=function(mn){var Zn=0;u.maps[F].forEach(function(Yn,ja,Nt,so){for(var sn=so-Nt-(ja-Yn),gr=0;gr<A.length;gr+=3){var rs=A[gr+1];if(!(rs<0||Yn>rs+mn-Zn)){var ns=A[gr]+mn-Zn;ja>=ns?A[gr+1]=Yn<=ns?-2:-1:Yn>=mn&&sn&&(A[gr]+=sn,A[gr+1]+=sn)}}Zn+=sn}),mn=u.maps[F].map(mn,-1),j=mn},F=0,j=b;F<u.maps.length;F++)R(j);for(var re=!1,J=0;J<A.length;J+=3)if(A[J+1]<0){if(A[J+1]==-2){re=!0,A[J+1]=-1;continue}var se=u.map(s[J]+b),me=se-y;if(me<0||me>=p.content.size){re=!0;continue}var Te=u.map(s[J+1]+b,-1),Be=Te-y,ke=p.content.findIndex(me),at=ke.index,tt=ke.offset,je=p.maybeChild(at);if(je&&tt==me&&tt+je.nodeSize==Be){var Xe=A[J+2].mapInner(u,je,se+1,s[J]+b+1,x);Xe!=or?(A[J]=me,A[J+1]=Be,A[J+2]=Xe):(A[J+1]=-2,re=!0)}else re=!0}if(re){var yt=Ql(A,s,v,u,y,b,x),dt=Ci(yt,p,0,x);v=dt.local;for(var Ot=0;Ot<A.length;Ot+=3)A[Ot+1]<0&&(A.splice(Ot,3),Ot-=3);for(var Ft=0,Ht=0;Ft<dt.children.length;Ft+=3){for(var on=dt.children[Ft];Ht<A.length&&A[Ht]<on;)Ht+=3;A.splice(Ht,0,dt.children[Ft],dt.children[Ft+1],dt.children[Ft+2])}}return new Vr(v.sort(Xn),A)}function zo(s,v){if(!v||!s.length)return s;for(var u=[],p=0;p<s.length;p++){var y=s[p];u.push(new Jn(y.from+v,y.to+v,y.type))}return u}function Ql(s,v,u,p,y,b,x){function A(F,j){for(var re=0;re<F.local.length;re++){var J=F.local[re].map(p,y,j);J?u.push(J):x.onRemove&&x.onRemove(F.local[re].spec)}for(var se=0;se<F.children.length;se+=3)A(F.children[se+2],F.children[se]+j+1)}for(var R=0;R<s.length;R+=3)s[R+1]==-1&&A(s[R+2],v[R]+b+1);return u}function $o(s,v,u){if(v.isLeaf)return null;for(var p=u+v.nodeSize,y=null,b=0,x;b<s.length;b++)(x=s[b])&&x.from>u&&x.to<p&&((y||(y=[])).push(x),s[b]=null);return y}function Vo(s){for(var v=[],u=0;u<s.length;u++)s[u]!=null&&v.push(s[u]);return v}function Ci(s,v,u,p){var y=[],b=!1;v.forEach(function(R,F){var j=$o(s,R,F+u);if(j){b=!0;var re=Ci(j,R,u+F+1,p);re!=or&&y.push(F,F+R.nodeSize,re)}});for(var x=zo(b?Vo(s):s,-u).sort(Xn),A=0;A<x.length;A++)x[A].type.valid(v,x[A])||(p.onRemove&&p.onRemove(x[A].spec),x.splice(A--,1));return x.length||y.length?new Vr(x,y):or}function Xn(s,v){return s.from-v.from||s.to-v.to}function ao(s){for(var v=s,u=0;u<v.length-1;u++){var p=v[u];if(p.from!=p.to)for(var y=u+1;y<v.length;y++){var b=v[y];if(b.from==p.from){b.to!=p.to&&(v==s&&(v=s.slice()),v[y]=b.copy(b.from,p.to),Uo(v,y+1,b.copy(p.to,b.to)));continue}else{b.from<p.to&&(v==s&&(v=s.slice()),v[u]=p.copy(p.from,b.from),Uo(v,y,p.copy(b.from,p.to)));break}}}return v}function Uo(s,v,u){for(;v<s.length&&Xn(u,s[v])>0;)v++;s.splice(v,0,u)}function io(s){var v=[];return s.someProp("decorations",function(u){var p=u(s.state);p&&p!=or&&v.push(p)}),s.cursorWrapper&&v.push(Vr.create(s.state.doc,[s.cursorWrapper.deco])),_o.from(v)}var Xl={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Zl=U&&ue<=11,Yl=function(){function s(){z(this,s),this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}return G(s,[{key:"set",value:function(u){this.anchorNode=u.anchorNode,this.anchorOffset=u.anchorOffset,this.focusNode=u.focusNode,this.focusOffset=u.focusOffset}},{key:"clear",value:function(){this.anchorNode=this.focusNode=null}},{key:"eq",value:function(u){return u.anchorNode==this.anchorNode&&u.anchorOffset==this.anchorOffset&&u.focusNode==this.focusNode&&u.focusOffset==this.focusOffset}}]),s}(),eu=function(){function s(v,u){var p=this;z(this,s),this.view=v,this.handleDOMChange=u,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Yl,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(function(y){for(var b=0;b<y.length;b++)p.queue.push(y[b]);U&&ue<=11&&y.some(function(x){return x.type=="childList"&&x.removedNodes.length||x.type=="characterData"&&x.oldValue.length>x.target.nodeValue.length})?p.flushSoon():p.flush()}),Zl&&(this.onCharData=function(y){p.queue.push({target:y.target,type:"characterData",oldValue:y.prevValue}),p.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}return G(s,[{key:"flushSoon",value:function(){var u=this;this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(function(){u.flushingSoon=-1,u.flush()},20))}},{key:"forceFlush",value:function(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}},{key:"start",value:function(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,Xl)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}},{key:"stop",value:function(){var u=this;if(this.observer){var p=this.observer.takeRecords();if(p.length){for(var y=0;y<p.length;y++)this.queue.push(p[y]);window.setTimeout(function(){return u.flush()},20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}},{key:"connectSelection",value:function(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}},{key:"disconnectSelection",value:function(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}},{key:"suppressSelectionUpdates",value:function(){var u=this;this.suppressingSelectionUpdates=!0,setTimeout(function(){return u.suppressingSelectionUpdates=!1},50)}},{key:"onSelectionChange",value:function(){if(vi(this.view)){if(this.suppressingSelectionUpdates)return Ir(this.view);if(U&&ue<=11&&!this.view.state.selection.empty){var u=this.view.domSelectionRange();if(u.focusNode&&Ye(u.focusNode,u.focusOffset,u.anchorNode,u.anchorOffset))return this.flushSoon()}this.flush()}}},{key:"setCurSelection",value:function(){this.currentSelection.set(this.view.domSelectionRange())}},{key:"ignoreSelectionChange",value:function(u){if(!u.focusNode)return!0;for(var p=new Set,y,b=u.focusNode;b;b=Me(b))p.add(b);for(var x=u.anchorNode;x;x=Me(x))if(p.has(x)){y=x;break}var A=y&&this.view.docView.nearestDesc(y);if(A&&A.ignoreMutation({type:"selection",target:y.nodeType==3?y.parentNode:y}))return this.setCurSelection(),!0}},{key:"pendingRecords",value:function(){if(this.observer){var u=a(this.observer.takeRecords()),p;try{for(u.s();!(p=u.n()).done;){var y=p.value;this.queue.push(y)}}catch(b){u.e(b)}finally{u.f()}}return this.queue}},{key:"flush",value:function(){var u=this.view;if(!(!u.docView||this.flushingSoon>-1)){var p=this.pendingRecords();p.length&&(this.queue=[]);var y=u.domSelectionRange(),b=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(y)&&vi(u)&&!this.ignoreSelectionChange(y),x=-1,A=-1,R=!1,F=[];if(u.editable)for(var j=0;j<p.length;j++){var re=this.registerMutation(p[j],F);re&&(x=x<0?re.from:Math.min(re.from,x),A=A<0?re.to:Math.max(re.to,A),re.typeOver&&(R=!0))}if(de&&F.length){var J=F.filter(function(Ht){return Ht.nodeName=="BR"});if(J.length==2){var se=r(J,2),me=se[0],Te=se[1];me.parentNode&&me.parentNode.parentNode==Te.parentNode?Te.remove():me.remove()}else{var Be=this.currentSelection.focusNode,ke=a(J),at;try{for(ke.s();!(at=ke.n()).done;){var tt=at.value,je=tt.parentNode;je&&je.nodeName=="LI"&&(!Be||nu(u,Be)!=je)&&tt.remove()}}catch(Ht){ke.e(Ht)}finally{ke.f()}}}else if((He||Je)&&F.some(function(Ht){return Ht.nodeName=="BR"})&&(u.input.lastKeyCode==8||u.input.lastKeyCode==46)){var Xe=a(F),yt;try{for(Xe.s();!(yt=Xe.n()).done;){var dt=yt.value;if(dt.nodeName=="BR"&&dt.parentNode){var Ot=dt.nextSibling;Ot&&Ot.nodeType==1&&Ot.contentEditable=="false"&&dt.parentNode.removeChild(dt)}}}catch(Ht){Xe.e(Ht)}finally{Xe.f()}}var Ft=null;x<0&&b&&u.input.lastFocus>Date.now()-200&&Math.max(u.input.lastTouch,u.input.lastClick.time)<Date.now()-300&&rt(y)&&(Ft=en(u))&&Ft.eq(X.Selection.near(u.state.doc.resolve(0),1))?(u.input.lastFocus=0,Ir(u),this.currentSelection.set(y),u.scrollToSelection()):(x>-1||b)&&(x>-1&&(u.docView.markDirty(x,A),tu(u)),this.handleDOMChange(x,A,R,F),u.docView&&u.docView.dirty?u.updateState(u.state):this.currentSelection.eq(y)||Ir(u),this.currentSelection.set(y))}}},{key:"registerMutation",value:function(u,p){if(p.indexOf(u.target)>-1)return null;var y=this.view.docView.nearestDesc(u.target);if(u.type=="attributes"&&(y==this.view.docView||u.attributeName=="contenteditable"||u.attributeName=="style"&&!u.oldValue&&!u.target.getAttribute("style"))||!y||y.ignoreMutation(u))return null;if(u.type=="childList"){for(var b=0;b<u.addedNodes.length;b++){var x=u.addedNodes[b];p.push(x),x.nodeType==3&&(this.lastChangedTextNode=x)}if(y.contentDOM&&y.contentDOM!=y.dom&&!y.contentDOM.contains(u.target))return{from:y.posBefore,to:y.posAfter};var A=u.previousSibling,R=u.nextSibling;if(U&&ue<=11&&u.addedNodes.length)for(var F=0;F<u.addedNodes.length;F++){var j=u.addedNodes[F],re=j.previousSibling,J=j.nextSibling;(!re||Array.prototype.indexOf.call(u.addedNodes,re)<0)&&(A=re),(!J||Array.prototype.indexOf.call(u.addedNodes,J)<0)&&(R=J)}var se=A&&A.parentNode==u.target?ye(A)+1:0,me=y.localPosFromDOM(u.target,se,-1),Te=R&&R.parentNode==u.target?ye(R):u.target.childNodes.length,Be=y.localPosFromDOM(u.target,Te,1);return{from:me,to:Be}}else return u.type=="attributes"?{from:y.posAtStart-y.border,to:y.posAtEnd+y.border}:(this.lastChangedTextNode=u.target,{from:y.posAtStart,to:y.posAtEnd,typeOver:u.target.nodeValue==u.oldValue})}}]),s}(),jo=new WeakMap,Wo=!1;function tu(s){if(!jo.has(s)&&(jo.set(s,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(s.dom).whiteSpace)!==-1)){if(s.requiresGeckoHackNode=de,Wo)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Wo=!0}}function Go(s,v){var u=v.startContainer,p=v.startOffset,y=v.endContainer,b=v.endOffset,x=s.domAtPos(s.state.selection.anchor);if(Ye(x.node,x.offset,y,b)){var A=[y,b,u,p];u=A[0],p=A[1],y=A[2],b=A[3]}return{anchorNode:u,anchorOffset:p,focusNode:y,focusOffset:b}}function ru(s,v){if(v.getComposedRanges){var u=v.getComposedRanges(s.root)[0];if(u)return Go(s,u)}var p;function y(b){b.preventDefault(),b.stopImmediatePropagation(),p=b.getTargetRanges()[0]}return s.dom.addEventListener("beforeinput",y,!0),document.execCommand("indent"),s.dom.removeEventListener("beforeinput",y,!0),p?Go(s,p):null}function nu(s,v){for(var u=v.parentNode;u&&u!=s.dom;u=u.parentNode){var p=s.docView.nearestDesc(u,!0);if(p&&p.node.isBlock)return u}return null}function au(s,v,u){var p=s.docView.parseRange(v,u),y=p.node,b=p.fromOffset,x=p.toOffset,A=p.from,R=p.to,F=s.domSelectionRange(),j,re=F.anchorNode;if(re&&s.dom.contains(re.nodeType==1?re:re.parentNode)&&(j=[{node:re,offset:F.anchorOffset}],rt(F)||j.push({node:F.focusNode,offset:F.focusOffset})),He&&s.input.lastKeyCode===8)for(var J=x;J>b;J--){var se=y.childNodes[J-1],me=se.pmViewDesc;if(se.nodeName=="BR"&&!me){x=J;break}if(!me||me.size)break}var Te=s.state.doc,Be=s.someProp("domParser")||oe.DOMParser.fromSchema(s.state.schema),ke=Te.resolve(A),at=null,tt=Be.parse(y,{topNode:ke.parent,topMatch:ke.parent.contentMatchAt(ke.index()),topOpen:!0,from:b,to:x,preserveWhitespace:ke.parent.type.whitespace=="pre"?"full":!0,findPositions:j,ruleFromNode:iu,context:ke});if(j&&j[0].pos!=null){var je=j[0].pos,Xe=j[1]&&j[1].pos;Xe==null&&(Xe=je),at={anchor:je+A,head:Xe+A}}return{doc:tt,sel:at,from:A,to:R}}function iu(s){var v=s.pmViewDesc;if(v)return v.parseRule();if(s.nodeName=="BR"&&s.parentNode){if(Je&&/^(ul|ol)$/i.test(s.parentNode.nodeName)){var u=document.createElement("div");return u.appendChild(document.createElement("li")),{skip:u}}else if(s.parentNode.lastChild==s||Je&&/^(tr|table)$/i.test(s.parentNode.nodeName))return{ignore:!0}}else if(s.nodeName=="IMG"&&s.getAttribute("mark-placeholder"))return{ignore:!0};return null}var ou=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function su(s,v,u,p,y){var b=s.input.compositionPendingChanges||(s.composing?s.input.compositionID:0);if(s.input.compositionPendingChanges=0,v<0){var x=s.input.lastSelectionTime>Date.now()-50?s.input.lastSelectionOrigin:null,A=en(s,x);if(A&&!s.state.selection.eq(A)){if(He&&gt&&s.input.lastKeyCode===13&&Date.now()-100<s.input.lastKeyCodeTime&&s.someProp("handleKeyDown",function(Nt){return Nt(s,Et(13,"Enter"))}))return;var R=s.state.tr.setSelection(A);x=="pointer"?R.setMeta("pointer",!0):x=="key"&&R.scrollIntoView(),b&&R.setMeta("composition",b),s.dispatch(R)}return}var F=s.state.doc.resolve(v),j=F.sharedDepth(u);v=F.before(j+1),u=s.state.doc.resolve(u).after(j+1);var re=s.state.selection,J=au(s,v,u),se=s.state.doc,me=se.slice(J.from,J.to),Te,Be;s.input.lastKeyCode===8&&Date.now()-100<s.input.lastKeyCodeTime?(Te=s.state.selection.to,Be="end"):(Te=s.state.selection.from,Be="start"),s.input.lastKeyCode=null;var ke=cu(me.content,J.doc.content,J.from,Te,Be);if(ke&&s.input.domChangeCount++,(xt&&s.input.lastIOSEnter>Date.now()-225||gt)&&y.some(function(Nt){return Nt.nodeType==1&&!ou.test(Nt.nodeName)})&&(!ke||ke.endA>=ke.endB)&&s.someProp("handleKeyDown",function(Nt){return Nt(s,Et(13,"Enter"))})){s.input.lastIOSEnter=0;return}if(!ke)if(p&&re instanceof X.TextSelection&&!re.empty&&re.$head.sameParent(re.$anchor)&&!s.composing&&!(J.sel&&J.sel.anchor!=J.sel.head))ke={start:re.from,endA:re.to,endB:re.to};else{if(J.sel){var at=Ko(s,s.state.doc,J.sel);if(at&&!at.eq(s.state.selection)){var tt=s.state.tr.setSelection(at);b&&tt.setMeta("composition",b),s.dispatch(tt)}}return}s.state.selection.from<s.state.selection.to&&ke.start==ke.endB&&s.state.selection instanceof X.TextSelection&&(ke.start>s.state.selection.from&&ke.start<=s.state.selection.from+2&&s.state.selection.from>=J.from?ke.start=s.state.selection.from:ke.endA<s.state.selection.to&&ke.endA>=s.state.selection.to-2&&s.state.selection.to<=J.to&&(ke.endB+=s.state.selection.to-ke.endA,ke.endA=s.state.selection.to)),U&&ue<=11&&ke.endB==ke.start+1&&ke.endA==ke.start&&ke.start>J.from&&J.doc.textBetween(ke.start-J.from-1,ke.start-J.from+1)==" "&&(ke.start--,ke.endA--,ke.endB--);var je=J.doc.resolveNoCache(ke.start-J.from),Xe=J.doc.resolveNoCache(ke.endB-J.from),yt=se.resolve(ke.start),dt=je.sameParent(Xe)&&je.parent.inlineContent&&yt.end()>=ke.endA;if((xt&&s.input.lastIOSEnter>Date.now()-225&&(!dt||y.some(function(Nt){return Nt.nodeName=="DIV"||Nt.nodeName=="P"}))||!dt&&je.pos<J.doc.content.size&&(!je.sameParent(Xe)||!je.parent.inlineContent)&&je.pos<Xe.pos&&!/\S/.test(J.doc.textBetween(je.pos,Xe.pos,"","")))&&s.someProp("handleKeyDown",function(Nt){return Nt(s,Et(13,"Enter"))})){s.input.lastIOSEnter=0;return}if(s.state.selection.anchor>ke.start&&uu(se,ke.start,ke.endA,je,Xe)&&s.someProp("handleKeyDown",function(Nt){return Nt(s,Et(8,"Backspace"))})){gt&&He&&s.domObserver.suppressSelectionUpdates();return}He&&ke.endB==ke.start&&(s.input.lastChromeDelete=Date.now()),gt&&!dt&&je.start()!=Xe.start()&&Xe.parentOffset==0&&je.depth==Xe.depth&&J.sel&&J.sel.anchor==J.sel.head&&J.sel.head==ke.endA&&(ke.endB-=2,Xe=J.doc.resolveNoCache(ke.endB-J.from),setTimeout(function(){s.someProp("handleKeyDown",function(Nt){return Nt(s,Et(13,"Enter"))})},20));var Ot=ke.start,Ft=ke.endA,Ht=function(so){var sn=so||s.state.tr.replace(Ot,Ft,J.doc.slice(ke.start-J.from,ke.endB-J.from));if(J.sel){var gr=Ko(s,sn.doc,J.sel);gr&&!(He&&s.composing&&gr.empty&&(ke.start!=ke.endB||s.input.lastChromeDelete<Date.now()-100)&&(gr.head==Ot||gr.head==sn.mapping.map(Ft)-1)||U&&gr.empty&&gr.head==Ot)&&sn.setSelection(gr)}return b&&sn.setMeta("composition",b),sn.scrollIntoView()},on;if(dt)if(je.pos==Xe.pos){U&&ue<=11&&je.parentOffset==0&&(s.domObserver.suppressSelectionUpdates(),setTimeout(function(){return Ir(s)},20));var Ti=Ht(s.state.tr.delete(Ot,Ft)),mn=se.resolve(ke.start).marksAcross(se.resolve(ke.endA));mn&&Ti.ensureMarks(mn),s.dispatch(Ti)}else if(ke.endA==ke.endB&&(on=lu(je.parent.content.cut(je.parentOffset,Xe.parentOffset),yt.parent.content.cut(yt.parentOffset,ke.endA-yt.start())))){var Zn=Ht(s.state.tr);on.type=="add"?Zn.addMark(Ot,Ft,on.mark):Zn.removeMark(Ot,Ft,on.mark),s.dispatch(Zn)}else if(je.parent.child(je.index()).isText&&je.index()==Xe.index()-(Xe.textOffset?0:1)){var Yn=je.parent.textBetween(je.parentOffset,Xe.parentOffset),ja=function(){return Ht(s.state.tr.insertText(Yn,Ot,Ft))};s.someProp("handleTextInput",function(Nt){return Nt(s,Ot,Ft,Yn,ja)})||s.dispatch(ja())}else s.dispatch(Ht());else s.dispatch(Ht())}function Ko(s,v,u){return Math.max(u.anchor,u.head)>v.content.size?null:rn(s,v.resolve(u.anchor),v.resolve(u.head))}function lu(s,v){for(var u=s.firstChild.marks,p=v.firstChild.marks,y=u,b=p,x,A,R,F=0;F<p.length;F++)y=p[F].removeFromSet(y);for(var j=0;j<u.length;j++)b=u[j].removeFromSet(b);if(y.length==1&&b.length==0)A=y[0],x="add",R=function(me){return me.mark(A.addToSet(me.marks))};else if(y.length==0&&b.length==1)A=b[0],x="remove",R=function(me){return me.mark(A.removeFromSet(me.marks))};else return null;for(var re=[],J=0;J<v.childCount;J++)re.push(R(v.child(J)));if(oe.Fragment.from(re).eq(s))return{mark:A,type:x}}function uu(s,v,u,p,y){if(u-v<=y.pos-p.pos||oo(p,!0,!1)<y.pos)return!1;var b=s.resolve(v);if(!p.parent.isTextblock){var x=b.nodeAfter;return x!=null&&u==v+x.nodeSize}if(b.parentOffset<b.parent.content.size||!b.parent.isTextblock)return!1;var A=s.resolve(oo(b,!0,!0));return!A.parent.isTextblock||A.pos>u||oo(A,!0,!1)<u?!1:p.parent.content.cut(p.parentOffset).eq(A.parent.content)}function oo(s,v,u){for(var p=s.depth,y=v?s.end():s.pos;p>0&&(v||s.indexAfter(p)==s.node(p).childCount);)p--,y++,v=!1;if(u)for(var b=s.node(p).maybeChild(s.indexAfter(p));b&&!b.isLeaf;)b=b.firstChild,y++;return y}function cu(s,v,u,p,y){var b=s.findDiffStart(v,u);if(b==null)return null;var x=s.findDiffEnd(v,u+s.size,u+v.size),A=x.a,R=x.b;if(y=="end"){var F=Math.max(0,b-Math.min(A,R));p-=A+F-b}if(A<b&&s.size<v.size){var j=p<=b&&p>=A?b-p:0;b-=j,b&&b<v.size&&Jo(v.textBetween(b-1,b+1))&&(b+=j?1:-1),R=b+(R-A),A=b}else if(R<b){var re=p<=b&&p>=R?b-p:0;b-=re,b&&b<s.size&&Jo(s.textBetween(b-1,b+1))&&(b+=re?1:-1),A=b+(A-R),R=b}return{start:b,endA:A,endB:R}}function Jo(s){if(s.length!=2)return!1;var v=s.charCodeAt(0),u=s.charCodeAt(1);return v>=56320&&v<=57343&&u>=55296&&u<=56319}var fu=te,vu=_a,Qo=function(){function s(v,u){var p=this;z(this,s),this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new Sl,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=u,this.state=u.state,this.directPlugins=u.plugins||[],this.directPlugins.forEach(ts),this.dispatch=this.dispatch.bind(this),this.dom=v&&v.mount||document.createElement("div"),v&&(v.appendChild?v.appendChild(this.dom):typeof v=="function"?v(this.dom):v.mount&&(this.mounted=!0)),this.editable=Yo(this),Zo(this),this.nodeViews=es(this),this.docView=w(this.state.doc,Xo(this),io(this),this.dom,this),this.domObserver=new eu(this,function(y,b,x,A){return su(p,y,b,x,A)}),this.domObserver.start(),Ml(this),this.updatePluginViews()}return G(s,[{key:"composing",get:function(){return this.input.composing}},{key:"props",get:function(){if(this._props.state!=this.state){var u=this._props;this._props={};for(var p in u)this._props[p]=u[p];this._props.state=this.state}return this._props}},{key:"update",value:function(u){u.handleDOMEvents!=this._props.handleDOMEvents&&eo(this);var p=this._props;this._props=u,u.plugins&&(u.plugins.forEach(ts),this.directPlugins=u.plugins),this.updateStateInner(u.state,p)}},{key:"setProps",value:function(u){var p={};for(var y in this._props)p[y]=this._props[y];p.state=this.state;for(var b in u)p[b]=u[b];this.update(p)}},{key:"updateState",value:function(u){this.updateStateInner(u,this._props)}},{key:"updateStateInner",value:function(u,p){var y,b=this.state,x=!1,A=!1;u.storedMarks&&this.composing&&(Io(this),A=!0),this.state=u;var R=b.plugins!=u.plugins||this._props.plugins!=p.plugins;if(R||this._props.plugins!=p.plugins||this._props.nodeViews!=p.nodeViews){var F=es(this);du(F,this.nodeViews)&&(this.nodeViews=F,x=!0)}(R||p.handleDOMEvents!=this._props.handleDOMEvents)&&eo(this),this.editable=Yo(this),Zo(this);var j=io(this),re=Xo(this),J=b.plugins!=u.plugins&&!b.doc.eq(u.doc)?"reset":u.scrollToSelection>b.scrollToSelection?"to selection":"preserve",se=x||!this.docView.matchesNode(u.doc,re,j);(se||!u.selection.eq(b.selection))&&(A=!0);var me=J=="preserve"&&A&&this.dom.style.overflowAnchor==null&&Ge(this);if(A){this.domObserver.stop();var Te=se&&(U||He)&&!this.composing&&!b.selection.empty&&!u.selection.empty&&pu(b.selection,u.selection);if(se){var Be=He?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=zl(this)),(x||!this.docView.update(u.doc,re,j,this))&&(this.docView.updateOuterDeco(re),this.docView.destroy(),this.docView=w(u.doc,re,j,this.dom,this)),Be&&!this.trackWrites&&(Te=!0)}Te||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&In(this))?Ir(this,Te):(Gn(this,u.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(b),!((y=this.dragging)===null||y===void 0)&&y.node&&!b.doc.eq(u.doc)&&this.updateDraggedNode(this.dragging,b),J=="reset"?this.dom.scrollTop=0:J=="to selection"?this.scrollToSelection():me&&pt(me)}},{key:"scrollToSelection",value:function(){var u=this,p=this.domSelectionRange().focusNode;if(!(!p||!this.dom.contains(p.nodeType==1?p:p.parentNode))){if(!this.someProp("handleScrollToSelection",function(b){return b(u)}))if(this.state.selection instanceof X.NodeSelection){var y=this.docView.domAfterPos(this.state.selection.from);y.nodeType==1&&Re(this,y.getBoundingClientRect(),p)}else Re(this,this.coordsAtPos(this.state.selection.head,1),p)}}},{key:"destroyPluginViews",value:function(){for(var u;u=this.pluginViews.pop();)u.destroy&&u.destroy()}},{key:"updatePluginViews",value:function(u){if(!u||u.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(var p=0;p<this.directPlugins.length;p++){var y=this.directPlugins[p];y.spec.view&&this.pluginViews.push(y.spec.view(this))}for(var b=0;b<this.state.plugins.length;b++){var x=this.state.plugins[b];x.spec.view&&this.pluginViews.push(x.spec.view(this))}}else for(var A=0;A<this.pluginViews.length;A++){var R=this.pluginViews[A];R.update&&R.update(this,u)}}},{key:"updateDraggedNode",value:function(u,p){var y=u.node,b=-1;if(this.state.doc.nodeAt(y.from)==y.node)b=y.from;else{var x=y.from+(this.state.doc.content.size-p.doc.content.size),A=x>0&&this.state.doc.nodeAt(x);A==y.node&&(b=x)}this.dragging=new Bo(u.slice,u.move,b<0?void 0:X.NodeSelection.create(this.state.doc,b))}},{key:"someProp",value:function(u,p){var y=this._props&&this._props[u],b;if(y!=null&&(b=p?p(y):y))return b;for(var x=0;x<this.directPlugins.length;x++){var A=this.directPlugins[x].props[u];if(A!=null&&(b=p?p(A):A))return b}var R=this.state.plugins;if(R)for(var F=0;F<R.length;F++){var j=R[F].props[u];if(j!=null&&(b=p?p(j):j))return b}}},{key:"hasFocus",value:function(){if(U){var u=this.root.activeElement;if(u==this.dom)return!0;if(!u||!this.dom.contains(u))return!1;for(;u&&this.dom!=u&&this.dom.contains(u);){if(u.contentEditable=="false")return!1;u=u.parentElement}return!0}return this.root.activeElement==this.dom}},{key:"focus",value:function(){this.domObserver.stop(),this.editable&&Xt(this.dom),Ir(this),this.domObserver.start()}},{key:"root",get:function(){var u=this,p=this._root;if(p==null){for(var y=function(R){if(R.nodeType==9||R.nodeType==11&&R.host)return R.getSelection||(Object.getPrototypeOf(R).getSelection=function(){return R.ownerDocument.getSelection()}),{v:u._root=R}},b,x=this.dom.parentNode;x;x=x.parentNode)if(b=y(x),b)return b.v}return p||document}},{key:"updateRoot",value:function(){this._root=null}},{key:"posAtCoords",value:function(u){return _r(this,u)}},{key:"coordsAtPos",value:function(u){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return St(this,u,p)}},{key:"domAtPos",value:function(u){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this.docView.domFromPos(u,p)}},{key:"nodeDOM",value:function(u){var p=this.docView.descAt(u);return p?p.nodeDOM:null}},{key:"posAtDOM",value:function(u,p){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1,b=this.docView.posFromDOM(u,p,y);if(b==null)throw new RangeError("DOM position not inside the editor");return b}},{key:"endOfTextblock",value:function(u,p){return Nn(this,p||this.state,u)}},{key:"pasteHTML",value:function(u,p){return $a(this,"",u,!1,p||new ClipboardEvent("paste"))}},{key:"pasteText",value:function(u,p){return $a(this,u,null,!0,p||new ClipboardEvent("paste"))}},{key:"serializeForClipboard",value:function(u){return _e(this,u)}},{key:"destroy",value:function(){this.docView&&(Al(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],io(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,st())}},{key:"isDestroyed",get:function(){return this.docView==null}},{key:"dispatchEvent",value:function(u){return Dl(this,u)}},{key:"domSelectionRange",value:function(){var u=this.domSelection();return u?Je&&this.root.nodeType===11&&kt(this.dom.ownerDocument)==this.dom&&ru(this,u)||u:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}},{key:"domSelection",value:function(){return this.root.getSelection()}}]),s}();Qo.prototype.dispatch=function(s){var v=this._props.dispatchTransaction;v?v.call(this,s):this.updateState(this.state.apply(s))};function Xo(s){var v=Object.create(null);return v.class="ProseMirror",v.contenteditable=String(s.editable),s.someProp("attributes",function(u){if(typeof u=="function"&&(u=u(s.state)),u)for(var p in u)p=="class"?v.class+=" "+u[p]:p=="style"?v.style=(v.style?v.style+";":"")+u[p]:!v[p]&&p!="contenteditable"&&p!="nodeName"&&(v[p]=String(u[p]))}),v.translate||(v.translate="no"),[Jn.node(0,s.state.doc.content.size,v)]}function Zo(s){if(s.markCursor){var v=document.createElement("img");v.className="ProseMirror-separator",v.setAttribute("mark-placeholder","true"),v.setAttribute("alt",""),s.cursorWrapper={dom:v,deco:Jn.widget(s.state.selection.from,v,{raw:!0,marks:s.markCursor})}}else s.cursorWrapper=null}function Yo(s){return!s.someProp("editable",function(v){return v(s.state)===!1})}function pu(s,v){var u=Math.min(s.$anchor.sharedDepth(s.head),v.$anchor.sharedDepth(v.head));return s.$anchor.start(u)!=v.$anchor.start(u)}function es(s){var v=Object.create(null);function u(p){for(var y in p)Object.prototype.hasOwnProperty.call(v,y)||(v[y]=p[y])}return s.someProp("nodeViews",u),s.someProp("markViews",u),v}function du(s,v){var u=0,p=0;for(var y in s){if(s[y]!=v[y])return!0;u++}for(var b in v)p++;return u!=p}function ts(s){if(s.spec.state||s.spec.filterTransaction||s.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}return Ja.Decoration=Jn,Ja.DecorationSet=Vr,Ja.EditorView=Qo,Ja.__endComposition=vu,Ja.__parseFromClipboard=fu,Ja}var pa=jh(),We=Mo(),ys={},Li={},cp;function u7(){if(cp)return Li;cp=1,Object.defineProperty(Li,"__esModule",{value:!0});for(var r={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},e={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},t=typeof navigator<"u"&&/Mac/.test(navigator.platform),n=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),a=0;a<10;a++)r[48+a]=r[96+a]=String(a);for(var a=1;a<=24;a++)r[a+111]="F"+a;for(var a=65;a<=90;a++)r[a]=String.fromCharCode(a+32),e[a]=String.fromCharCode(a);for(var i in r)e.hasOwnProperty(i)||(e[i]=r[i]);function o(l){var d=t&&l.metaKey&&l.shiftKey&&!l.ctrlKey&&!l.altKey||n&&l.shiftKey&&l.key&&l.key.length==1||l.key=="Unidentified",g=!d&&l.key||(l.shiftKey?e:r)[l.keyCode]||l.key||"Unidentified";return g=="Esc"&&(g="Escape"),g=="Del"&&(g="Delete"),g=="Left"&&(g="ArrowLeft"),g=="Up"&&(g="ArrowUp"),g=="Right"&&(g="ArrowRight"),g=="Down"&&(g="ArrowDown"),g}return Li.base=r,Li.keyName=o,Li.shift=e,Li}var fp;function Wh(){if(fp)return ys;fp=1;var r=u7(),e=Mo(),t=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),n=typeof navigator<"u"&&/Win/.test(navigator.platform);function a(g){var C=g.split(/-(?!$)/),T=C[C.length-1];T=="Space"&&(T=" ");for(var S,M,O,I,q=0;q<C.length-1;q++){var z=C[q];if(/^(cmd|meta|m)$/i.test(z))I=!0;else if(/^a(lt)?$/i.test(z))S=!0;else if(/^(c|ctrl|control)$/i.test(z))M=!0;else if(/^s(hift)?$/i.test(z))O=!0;else if(/^mod$/i.test(z))t?I=!0:M=!0;else throw new Error("Unrecognized modifier name: "+z)}return S&&(T="Alt-"+T),M&&(T="Ctrl-"+T),I&&(T="Meta-"+T),O&&(T="Shift-"+T),T}function i(g){var C=Object.create(null);for(var T in g)C[a(T)]=g[T];return C}function o(g,C){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return C.altKey&&(g="Alt-"+g),C.ctrlKey&&(g="Ctrl-"+g),C.metaKey&&(g="Meta-"+g),T&&C.shiftKey&&(g="Shift-"+g),g}function l(g){return new e.Plugin({props:{handleKeyDown:d(g)}})}function d(g){var C=i(g);return function(T,S){var M=r.keyName(S),O,I=C[o(M,S)];if(I&&I(T.state,T.dispatch,T))return!0;if(M.length==1&&M!=" "){if(S.shiftKey){var q=C[o(M,S,!1)];if(q&&q(T.state,T.dispatch,T))return!0}if((S.altKey||S.metaKey||S.ctrlKey)&&!(n&&S.ctrlKey&&S.altKey)&&(O=r.base[S.keyCode])&&O!=M){var z=C[o(O,S)];if(z&&z(T.state,T.dispatch,T))return!0}}return!1}}return ys.keydownHandler=d,ys.keymap=l,ys}var To=Wh();const Yc=(r,e)=>r.selection.empty?!1:(e&&e(r.tr.deleteSelection().scrollIntoView()),!0);function c7(r,e){let{$cursor:t}=r.selection;return!t||(e?!e.endOfTextblock("backward",r):t.parentOffset>0)?null:t}const f7=(r,e,t)=>{let n=c7(r,t);if(!n)return!1;let a=Gh(n);if(!a){let o=n.blockRange(),l=o&&So(o);return l==null?!1:(e&&e(r.tr.lift(o,l).scrollIntoView()),!0)}let i=a.nodeBefore;if(Zh(r,a,e,-1))return!0;if(n.parent.content.size==0&&(Hi(i,"end")||We.NodeSelection.isSelectable(i)))for(let o=n.depth;;o--){let l=ol(r.doc,n.before(o),n.after(o),pe.Slice.empty);if(l&&l.slice.size<l.to-l.from){if(e){let d=r.tr.step(l);d.setSelection(Hi(i,"end")?We.Selection.findFrom(d.doc.resolve(d.mapping.map(a.pos,-1)),-1):We.NodeSelection.create(d.doc,a.pos-i.nodeSize)),e(d.scrollIntoView())}return!0}if(o==1||n.node(o-1).childCount>1)break}return i.isAtom&&a.depth==n.depth-1?(e&&e(r.tr.delete(a.pos-i.nodeSize,a.pos).scrollIntoView()),!0):!1};function Hi(r,e,t=!1){for(let n=r;n;n=e=="start"?n.firstChild:n.lastChild){if(n.isTextblock)return!0;if(t&&n.childCount!=1)return!1}return!1}const v7=(r,e,t)=>{let{$head:n,empty:a}=r.selection,i=n;if(!a)return!1;if(n.parent.isTextblock){if(t?!t.endOfTextblock("backward",r):n.parentOffset>0)return!1;i=Gh(n)}let o=i&&i.nodeBefore;return!o||!We.NodeSelection.isSelectable(o)?!1:(e&&e(r.tr.setSelection(We.NodeSelection.create(r.doc,i.pos-o.nodeSize)).scrollIntoView()),!0)};function Gh(r){if(!r.parent.type.spec.isolating)for(let e=r.depth-1;e>=0;e--){if(r.index(e)>0)return r.doc.resolve(r.before(e+1));if(r.node(e).type.spec.isolating)break}return null}function p7(r,e){let{$cursor:t}=r.selection;return!t||(e?!e.endOfTextblock("forward",r):t.parentOffset<t.parent.content.size)?null:t}const Kh=(r,e,t)=>{let n=p7(r,t);if(!n)return!1;let a=Jh(n);if(!a)return!1;let i=a.nodeAfter;if(Zh(r,a,e,1))return!0;if(n.parent.content.size==0&&(Hi(i,"start")||We.NodeSelection.isSelectable(i))){let o=ol(r.doc,n.before(),n.after(),pe.Slice.empty);if(o&&o.slice.size<o.to-o.from){if(e){let l=r.tr.step(o);l.setSelection(Hi(i,"start")?We.Selection.findFrom(l.doc.resolve(l.mapping.map(a.pos)),1):We.NodeSelection.create(l.doc,l.mapping.map(a.pos))),e(l.scrollIntoView())}return!0}}return i.isAtom&&a.depth==n.depth-1?(e&&e(r.tr.delete(a.pos,a.pos+i.nodeSize).scrollIntoView()),!0):!1},d7=(r,e,t)=>{let{$head:n,empty:a}=r.selection,i=n;if(!a)return!1;if(n.parent.isTextblock){if(t?!t.endOfTextblock("forward",r):n.parentOffset<n.parent.content.size)return!1;i=Jh(n)}let o=i&&i.nodeAfter;return!o||!We.NodeSelection.isSelectable(o)?!1:(e&&e(r.tr.setSelection(We.NodeSelection.create(r.doc,i.pos)).scrollIntoView()),!0)};function Jh(r){if(!r.parent.type.spec.isolating)for(let e=r.depth-1;e>=0;e--){let t=r.node(e);if(r.index(e)+1<t.childCount)return r.doc.resolve(r.after(e+1));if(t.type.spec.isolating)break}return null}const Qh=(r,e)=>{let{$head:t,$anchor:n}=r.selection;return!t.parent.type.spec.code||!t.sameParent(n)?!1:(e&&e(r.tr.insertText(`
`).scrollIntoView()),!0)};function ef(r){for(let e=0;e<r.edgeCount;e++){let{type:t}=r.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}const tf=(r,e)=>{let{$head:t,$anchor:n}=r.selection;if(!t.parent.type.spec.code||!t.sameParent(n))return!1;let a=t.node(-1),i=t.indexAfter(-1),o=ef(a.contentMatchAt(i));if(!o||!a.canReplaceWith(i,i,o))return!1;if(e){let l=t.after(),d=r.tr.replaceWith(l,l,o.createAndFill());d.setSelection(We.Selection.near(d.doc.resolve(l),1)),e(d.scrollIntoView())}return!0},h7=(r,e)=>{let t=r.selection,{$from:n,$to:a}=t;if(t instanceof We.AllSelection||n.parent.inlineContent||a.parent.inlineContent)return!1;let i=ef(a.parent.contentMatchAt(a.indexAfter()));if(!i||!i.isTextblock)return!1;if(e){let o=(!n.parentOffset&&a.index()<a.parent.childCount?n:a).pos,l=r.tr.insert(o,i.createAndFill());l.setSelection(We.TextSelection.create(l.doc,o+1)),e(l.scrollIntoView())}return!0},m7=(r,e)=>{let{$cursor:t}=r.selection;if(!t||t.parent.content.size)return!1;if(t.depth>1&&t.after()!=t.end(-1)){let i=t.before();if(ti(r.doc,i))return e&&e(r.tr.split(i).scrollIntoView()),!0}let n=t.blockRange(),a=n&&So(n);return a==null?!1:(e&&e(r.tr.lift(n,a).scrollIntoView()),!0)};function g7(r){return(e,t)=>{let{$from:n,$to:a}=e.selection;if(e.selection instanceof We.NodeSelection&&e.selection.node.isBlock)return!n.parentOffset||!ti(e.doc,n.pos)?!1:(t&&t(e.tr.split(n.pos).scrollIntoView()),!0);if(!n.depth)return!1;let i=[],o,l,d=!1,g=!1;for(let M=n.depth;;M--)if(n.node(M).isBlock){d=n.end(M)==n.pos+(n.depth-M),g=n.start(M)==n.pos-(n.depth-M),l=ef(n.node(M-1).contentMatchAt(n.indexAfter(M-1))),i.unshift(d&&l?{type:l}:null),o=M;break}else{if(M==1)return!1;i.unshift(null)}let C=e.tr;(e.selection instanceof We.TextSelection||e.selection instanceof We.AllSelection)&&C.deleteSelection();let T=C.mapping.map(n.pos),S=ti(C.doc,T,i.length,i);if(S||(i[0]=l?{type:l}:null,S=ti(C.doc,T,i.length,i)),!S)return!1;if(C.split(T,i.length,i),!d&&g&&n.node(o).type!=l){let M=C.mapping.map(n.before(o)),O=C.doc.resolve(M);l&&n.node(o-1).canReplaceWith(O.index(),O.index()+1,l)&&C.setNodeMarkup(C.mapping.map(n.before(o)),l)}return t&&t(C.scrollIntoView()),!0}}const y7=g7(),Xh=(r,e)=>(e&&e(r.tr.setSelection(new We.AllSelection(r.doc))),!0);function b7(r,e,t){let n=e.nodeBefore,a=e.nodeAfter,i=e.index();return!n||!a||!n.type.compatibleContent(a.type)?!1:!n.content.size&&e.parent.canReplace(i-1,i)?(t&&t(r.tr.delete(e.pos-n.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(i,i+1)||!(a.isTextblock||Xc(r.doc,e.pos))?!1:(t&&t(r.tr.join(e.pos).scrollIntoView()),!0)}function Zh(r,e,t,n){let a=e.nodeBefore,i=e.nodeAfter,o,l,d=a.type.spec.isolating||i.type.spec.isolating;if(!d&&b7(r,e,t))return!0;let g=!d&&e.parent.canReplace(e.index(),e.index()+1);if(g&&(o=(l=a.contentMatchAt(a.childCount)).findWrapping(i.type))&&l.matchType(o[0]||i.type).validEnd){if(t){let M=e.pos+i.nodeSize,O=pe.Fragment.empty;for(let z=o.length-1;z>=0;z--)O=pe.Fragment.from(o[z].create(null,O));O=pe.Fragment.from(a.copy(O));let I=r.tr.step(new ur(e.pos-1,M,e.pos,M,new pe.Slice(O,1,0),o.length,!0)),q=I.doc.resolve(M+2*o.length);q.nodeAfter&&q.nodeAfter.type==a.type&&Xc(I.doc,q.pos)&&I.join(q.pos),t(I.scrollIntoView())}return!0}let C=i.type.spec.isolating||n>0&&d?null:We.Selection.findFrom(e,1),T=C&&C.$from.blockRange(C.$to),S=T&&So(T);if(S!=null&&S>=e.depth)return t&&t(r.tr.lift(T,S).scrollIntoView()),!0;if(g&&Hi(i,"start",!0)&&Hi(a,"end")){let M=a,O=[];for(;O.push(M),!M.isTextblock;)M=M.lastChild;let I=i,q=1;for(;!I.isTextblock;I=I.firstChild)q++;if(M.canReplace(M.childCount,M.childCount,I.content)){if(t){let z=pe.Fragment.empty;for(let G=O.length-1;G>=0;G--)z=pe.Fragment.from(O[G].copy(z));let V=r.tr.step(new ur(e.pos-O.length,e.pos+i.nodeSize,e.pos+q,e.pos+i.nodeSize-q,new pe.Slice(z,O.length,0),0,!0));t(V.scrollIntoView())}return!0}}return!1}function Yh(r){return function(e,t){let n=e.selection,a=r<0?n.$from:n.$to,i=a.depth;for(;a.node(i).isInline;){if(!i)return!1;i--}return a.node(i).isTextblock?(t&&t(e.tr.setSelection(We.TextSelection.create(e.doc,r<0?a.start(i):a.end(i)))),!0):!1}}const w7=Yh(-1),k7=Yh(1);function C7(r,e=null){return function(t,n){let{$from:a,$to:i}=t.selection,o=a.blockRange(i),l=o&&Bh(o,r,e);return l?(n&&n(t.tr.wrap(o,l).scrollIntoView()),!0):!1}}function rf(r,e=null){return function(t,n){let a=!1;for(let i=0;i<t.selection.ranges.length&&!a;i++){let{$from:{pos:o},$to:{pos:l}}=t.selection.ranges[i];t.doc.nodesBetween(o,l,(d,g)=>{if(a)return!1;if(!(!d.isTextblock||d.hasMarkup(r,e)))if(d.type==r)a=!0;else{let C=t.doc.resolve(g),T=C.index();a=C.parent.canReplaceWith(T,T+1,r)}})}if(!a)return!1;if(n){let i=t.tr;for(let o=0;o<t.selection.ranges.length;o++){let{$from:{pos:l},$to:{pos:d}}=t.selection.ranges[o];i.setBlockType(l,d,r,e)}n(i.scrollIntoView())}return!0}}function T7(r,e,t,n){for(let a=0;a<e.length;a++){let{$from:i,$to:o}=e[a],l=i.depth==0?r.inlineContent&&r.type.allowsMarkType(t):!1;if(r.nodesBetween(i.pos,o.pos,(d,g)=>{if(l)return!1;l=d.inlineContent&&d.type.allowsMarkType(t)}),l)return!0}return!1}function Ao(r,e=null,t){return function(n,a){let{empty:i,$cursor:o,ranges:l}=n.selection;if(i&&!o||!T7(n.doc,l,r))return!1;if(a)if(o)r.isInSet(n.storedMarks||o.marks())?a(n.tr.removeStoredMark(r)):a(n.tr.addStoredMark(r.create(e)));else{let d,g=n.tr;d=!l.some(C=>n.doc.rangeHasMark(C.$from.pos,C.$to.pos,r));for(let C=0;C<l.length;C++){let{$from:T,$to:S}=l[C];if(!d)g.removeMark(T.pos,S.pos,r);else{let M=T.pos,O=S.pos,I=T.nodeAfter,q=S.nodeBefore,z=I&&I.isText?/^\s*/.exec(I.text)[0].length:0,V=q&&q.isText?/\s*$/.exec(q.text)[0].length:0;M+z<O&&(M+=z,O-=V),g.addMark(M,O,r.create(e))}}a(g.scrollIntoView())}return!0}}function sl(...r){return function(e,t,n){for(let a=0;a<r.length;a++)if(r[a](e,t,n))return!0;return!1}}let Qu=sl(Yc,f7,v7),vp=sl(Yc,Kh,d7);const oa={Enter:sl(Qh,h7,m7,y7),"Mod-Enter":tf,Backspace:Qu,"Mod-Backspace":Qu,"Shift-Backspace":Qu,Delete:vp,"Mod-Delete":vp,"Mod-a":Xh},em={"Ctrl-h":oa.Backspace,"Alt-Backspace":oa["Mod-Backspace"],"Ctrl-d":oa.Delete,"Ctrl-Alt-Backspace":oa["Mod-Delete"],"Alt-Delete":oa["Mod-Delete"],"Alt-d":oa["Mod-Delete"],"Ctrl-a":w7,"Ctrl-e":k7};for(let r in oa)em[r]=oa[r];const E7=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform?os.platform()=="darwin":!1,pp=E7?em:oa;var Fr={},dp;function tm(){if(dp)return Fr;dp=1;function r(G,Z,ne){return Object.defineProperty(G,"prototype",{writable:!1}),G}function e(G,Z){if(!(G instanceof Z))throw new TypeError("Cannot call a class as a function")}var t=Mo(),n=Zc,a=r(function G(Z,ne){var X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};e(this,G),this.match=Z,this.match=Z,this.handler=typeof ne=="string"?i(ne):ne,this.undoable=X.undoable!==!1,this.inCode=X.inCode||!1,this.inCodeMark=X.inCodeMark!==!1});function i(G){return function(Z,ne,X,oe){var ve=G;if(ne[1]){var ye=ne[0].lastIndexOf(ne[1]);ve+=ne[0].slice(ye+ne[1].length),X+=ye;var Me=X-oe;Me>0&&(ve=ne[0].slice(ye-Me,ye)+ve,X=oe)}return Z.tr.insertText(ve,X,oe)}}var o=500;function l(G){var Z=G.rules,ne=new t.Plugin({state:{init:function(){return null},apply:function(oe,ve){var ye=oe.getMeta(this);return ye||(oe.selectionSet||oe.docChanged?null:ve)}},props:{handleTextInput:function(oe,ve,ye,Me){return d(oe,ve,ye,Me,Z,ne)},handleDOMEvents:{compositionend:function(oe){setTimeout(function(){var ve=oe.state.selection.$cursor;ve&&d(oe,ve.pos,ve.pos,"",Z,ne)})}}},isInputRules:!0});return ne}function d(G,Z,ne,X,oe,ve){if(G.composing)return!1;for(var ye=G.state,Me=ye.doc.resolve(Z),Ke=Me.parent.textBetween(Math.max(0,Me.parentOffset-o),Me.parentOffset,null,"")+X,Oe=function(){var it=oe[Ye];if(!it.inCodeMark&&Me.marks().some(function(ot){return ot.type.spec.code}))return 0;if(Me.parent.type.spec.code){if(!it.inCode)return 0}else if(it.inCode==="only")return 0;var wt=it.match.exec(Ke);if(!wt||wt[0].length<X.length)return 0;var Tt=Z-(wt[0].length-X.length);if(!it.inCodeMark){var Kt=!1;if(ye.doc.nodesBetween(Tt,Me.pos,function(ot){ot.isInline&&ot.marks.some(function(rt){return rt.type.spec.code})&&(Kt=!0)}),Kt)return 0}var ze=it.handler(ye,wt,Tt,ne);return ze?(it.undoable&&ze.setMeta(ve,{transform:ze,from:Z,to:ne,text:X}),G.dispatch(ze),{v:!0}):0},st,Ye=0;Ye<oe.length;Ye++)if(st=Oe(),st!==0&&st)return st.v;return!1}var g=function(Z,ne){for(var X=Z.plugins,oe=0;oe<X.length;oe++){var ve=X[oe],ye=void 0;if(ve.spec.isInputRules&&(ye=ve.getState(Z))){if(ne){for(var Me=Z.tr,Ke=ye.transform,Oe=Ke.steps.length-1;Oe>=0;Oe--)Me.step(Ke.steps[Oe].invert(Ke.docs[Oe]));if(ye.text){var st=Me.doc.resolve(ye.from).marks();Me.replaceWith(ye.from,ye.to,Z.schema.text(ye.text,st))}else Me.delete(ye.from,ye.to);ne(Me)}return!0}}return!1},C=new a(/--$/,"",{inCodeMark:!1}),T=new a(/\.\.\.$/,"",{inCodeMark:!1}),S=new a(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"",{inCodeMark:!1}),M=new a(/"$/,"",{inCodeMark:!1}),O=new a(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"",{inCodeMark:!1}),I=new a(/'$/,"",{inCodeMark:!1}),q=[S,M,O,I];function z(G,Z){var ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,X=arguments.length>3?arguments[3]:void 0;return new a(G,function(oe,ve,ye,Me){var Ke=ne instanceof Function?ne(ve):ne,Oe=oe.tr.delete(ye,Me),st=Oe.doc.resolve(ye),Ye=st.blockRange(),_t=Ye&&n.findWrapping(Ye,Z,Ke);if(!_t)return null;Oe.wrap(Ye,_t);var it=Oe.doc.resolve(ye-1).nodeBefore;return it&&it.type==Z&&n.canJoin(Oe.doc,ye-1)&&(!X||X(ve,it))&&Oe.join(ye-1),Oe})}function V(G,Z){var ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return new a(G,function(X,oe,ve,ye){var Me=X.doc.resolve(ve),Ke=ne instanceof Function?ne(oe):ne;return Me.node(-1).canReplaceWith(Me.index(-1),Me.indexAfter(-1),Z)?X.tr.delete(ve,ye).setBlockType(ve,ve,Z,Ke):null})}return Fr.InputRule=a,Fr.closeDoubleQuote=M,Fr.closeSingleQuote=I,Fr.ellipsis=T,Fr.emDash=C,Fr.inputRules=l,Fr.openDoubleQuote=S,Fr.openSingleQuote=O,Fr.smartQuotes=q,Fr.textblockTypeInputRule=V,Fr.undoInputRule=g,Fr.wrappingInputRule=z,Fr}var wo=tm(),_s=200,cr=function(){};cr.prototype.append=function(e){return e.length?(e=cr.from(e),!this.length&&e||e.length<_s&&this.leafAppend(e)||this.length<_s&&e.leafPrepend(this)||this.appendInner(e)):this};cr.prototype.prepend=function(e){return e.length?cr.from(e).append(this):this};cr.prototype.appendInner=function(e){return new x7(this,e)};cr.prototype.slice=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.length),e>=t?cr.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))};cr.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};cr.prototype.forEach=function(e,t,n){t===void 0&&(t=0),n===void 0&&(n=this.length),t<=n?this.forEachInner(e,t,n,0):this.forEachInvertedInner(e,t,n,0)};cr.prototype.map=function(e,t,n){t===void 0&&(t=0),n===void 0&&(n=this.length);var a=[];return this.forEach(function(i,o){return a.push(e(i,o))},t,n),a};cr.from=function(e){return e instanceof cr?e:e&&e.length?new rm(e):cr.empty};var rm=function(r){function e(n){r.call(this),this.values=n}r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e;var t={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(a,i){return a==0&&i==this.length?this:new e(this.values.slice(a,i))},e.prototype.getInner=function(a){return this.values[a]},e.prototype.forEachInner=function(a,i,o,l){for(var d=i;d<o;d++)if(a(this.values[d],l+d)===!1)return!1},e.prototype.forEachInvertedInner=function(a,i,o,l){for(var d=i-1;d>=o;d--)if(a(this.values[d],l+d)===!1)return!1},e.prototype.leafAppend=function(a){if(this.length+a.length<=_s)return new e(this.values.concat(a.flatten()))},e.prototype.leafPrepend=function(a){if(this.length+a.length<=_s)return new e(a.flatten().concat(this.values))},t.length.get=function(){return this.values.length},t.depth.get=function(){return 0},Object.defineProperties(e.prototype,t),e}(cr);cr.empty=new rm([]);var x7=function(r){function e(t,n){r.call(this),this.left=t,this.right=n,this.length=t.length+n.length,this.depth=Math.max(t.depth,n.depth)+1}return r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(n){return n<this.left.length?this.left.get(n):this.right.get(n-this.left.length)},e.prototype.forEachInner=function(n,a,i,o){var l=this.left.length;if(a<l&&this.left.forEachInner(n,a,Math.min(i,l),o)===!1||i>l&&this.right.forEachInner(n,Math.max(a-l,0),Math.min(this.length,i)-l,o+l)===!1)return!1},e.prototype.forEachInvertedInner=function(n,a,i,o){var l=this.left.length;if(a>l&&this.right.forEachInvertedInner(n,a-l,Math.max(i,l)-l,o+l)===!1||i<l&&this.left.forEachInvertedInner(n,Math.min(a,l),i,o)===!1)return!1},e.prototype.sliceInner=function(n,a){if(n==0&&a==this.length)return this;var i=this.left.length;return a<=i?this.left.slice(n,a):n>=i?this.right.slice(n-i,a-i):this.left.slice(n,i).append(this.right.slice(0,a-i))},e.prototype.leafAppend=function(n){var a=this.right.leafAppend(n);if(a)return new e(this.left,a)},e.prototype.leafPrepend=function(n){var a=this.left.leafPrepend(n);if(a)return new e(a,this.right)},e.prototype.appendInner=function(n){return this.left.depth>=Math.max(this.right.depth,n.depth)+1?new e(this.left,new e(this.right,n)):new e(this,n)},e}(cr);const S7=500;class kn{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(this.eventCount==0)return null;let n=this.items.length;for(;;n--)if(this.items.get(n-1).selection){--n;break}let a,i;t&&(a=this.remapping(n,this.items.length),i=a.maps.length);let o=e.tr,l,d,g=[],C=[];return this.items.forEach((T,S)=>{if(!T.step){a||(a=this.remapping(n,S+1),i=a.maps.length),i--,C.push(T);return}if(a){C.push(new zn(T.map));let M=T.step.map(a.slice(i)),O;M&&o.maybeStep(M).doc&&(O=o.mapping.maps[o.mapping.maps.length-1],g.push(new zn(O,void 0,void 0,g.length+C.length))),i--,O&&a.appendMap(O,i)}else o.maybeStep(T.step);if(T.selection)return l=a?T.selection.map(a.slice(i)):T.selection,d=new kn(this.items.slice(0,n).append(C.reverse().concat(g)),this.eventCount-1),!1},this.items.length,0),{remaining:d,transform:o,selection:l}}addTransform(e,t,n,a){let i=[],o=this.eventCount,l=this.items,d=!a&&l.length?l.get(l.length-1):null;for(let C=0;C<e.steps.length;C++){let T=e.steps[C].invert(e.docs[C]),S=new zn(e.mapping.maps[C],T,t),M;(M=d&&d.merge(S))&&(S=M,C?i.pop():l=l.slice(0,l.length-1)),i.push(S),t&&(o++,t=void 0),a||(d=S)}let g=o-n.depth;return g>A7&&(l=M7(l,g),o-=g),new kn(l.append(i),o)}remapping(e,t){let n=new qi;return this.items.forEach((a,i)=>{let o=a.mirrorOffset!=null&&i-a.mirrorOffset>=e?n.maps.length-a.mirrorOffset:void 0;n.appendMap(a.map,o)},e,t),n}addMaps(e){return this.eventCount==0?this:new kn(this.items.append(e.map(t=>new zn(t))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let n=[],a=Math.max(0,this.items.length-t),i=e.mapping,o=e.steps.length,l=this.eventCount;this.items.forEach(S=>{S.selection&&l--},a);let d=t;this.items.forEach(S=>{let M=i.getMirror(--d);if(M==null)return;o=Math.min(o,M);let O=i.maps[M];if(S.step){let I=e.steps[M].invert(e.docs[M]),q=S.selection&&S.selection.map(i.slice(d+1,M));q&&l++,n.push(new zn(O,I,q))}else n.push(new zn(O))},a);let g=[];for(let S=t;S<o;S++)g.push(new zn(i.maps[S]));let C=this.items.slice(0,a).append(g).append(n),T=new kn(C,l);return T.emptyItemCount()>S7&&(T=T.compress(this.items.length-n.length)),T}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),n=t.maps.length,a=[],i=0;return this.items.forEach((o,l)=>{if(l>=e)a.push(o),o.selection&&i++;else if(o.step){let d=o.step.map(t.slice(n)),g=d&&d.getMap();if(n--,g&&t.appendMap(g,n),d){let C=o.selection&&o.selection.map(t.slice(n));C&&i++;let T=new zn(g.invert(),d,C),S,M=a.length-1;(S=a.length&&a[M].merge(T))?a[M]=S:a.push(T)}}else o.map&&n--},this.items.length,0),new kn(cr.from(a.reverse()),i)}}kn.empty=new kn(cr.empty,0);function M7(r,e){let t;return r.forEach((n,a)=>{if(n.selection&&e--==0)return t=a,!1}),r.slice(t)}class zn{constructor(e,t,n,a){this.map=e,this.step=t,this.selection=n,this.mirrorOffset=a}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new zn(t.getMap().invert(),t,this.selection)}}}class Sa{constructor(e,t,n,a,i){this.done=e,this.undone=t,this.prevRanges=n,this.prevTime=a,this.prevComposition=i}}const A7=20;function L7(r,e,t,n){let a=t.getMeta(Aa),i;if(a)return a.historyState;t.getMeta(N7)&&(r=new Sa(r.done,r.undone,null,0,-1));let o=t.getMeta("appendedTransaction");if(t.steps.length==0)return r;if(o&&o.getMeta(Aa))return o.getMeta(Aa).redo?new Sa(r.done.addTransform(t,void 0,n,Os(e)),r.undone,hp(t.mapping.maps),r.prevTime,r.prevComposition):new Sa(r.done,r.undone.addTransform(t,void 0,n,Os(e)),null,r.prevTime,r.prevComposition);if(t.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let l=t.getMeta("composition"),d=r.prevTime==0||!o&&r.prevComposition!=l&&(r.prevTime<(t.time||0)-n.newGroupDelay||!D7(t,r.prevRanges)),g=o?Xu(r.prevRanges,t.mapping):hp(t.mapping.maps);return new Sa(r.done.addTransform(t,d?e.selection.getBookmark():void 0,n,Os(e)),kn.empty,g,t.time,l??r.prevComposition)}else return(i=t.getMeta("rebased"))?new Sa(r.done.rebased(t,i),r.undone.rebased(t,i),Xu(r.prevRanges,t.mapping),r.prevTime,r.prevComposition):new Sa(r.done.addMaps(t.mapping.maps),r.undone.addMaps(t.mapping.maps),Xu(r.prevRanges,t.mapping),r.prevTime,r.prevComposition)}function D7(r,e){if(!e)return!1;if(!r.docChanged)return!0;let t=!1;return r.mapping.maps[0].forEach((n,a)=>{for(let i=0;i<e.length;i+=2)n<=e[i+1]&&a>=e[i]&&(t=!0)}),t}function hp(r){let e=[];for(let t=r.length-1;t>=0&&e.length==0;t--)r[t].forEach((n,a,i,o)=>e.push(i,o));return e}function Xu(r,e){if(!r)return null;let t=[];for(let n=0;n<r.length;n+=2){let a=e.map(r[n],1),i=e.map(r[n+1],-1);a<=i&&t.push(a,i)}return t}function O7(r,e,t){let n=Os(e),a=Aa.get(e).spec.config,i=(t?r.undone:r.done).popEvent(e,n);if(!i)return null;let o=i.selection.resolve(i.transform.doc),l=(t?r.done:r.undone).addTransform(i.transform,e.selection.getBookmark(),a,n),d=new Sa(t?l:i.remaining,t?i.remaining:l,null,0,-1);return i.transform.setSelection(o).setMeta(Aa,{redo:t,historyState:d})}let Zu=!1,mp=null;function Os(r){let e=r.plugins;if(mp!=e){Zu=!1,mp=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){Zu=!0;break}}return Zu}const Aa=new We.PluginKey("history"),N7=new We.PluginKey("closeHistory");function nm(r={}){return r={depth:r.depth||100,newGroupDelay:r.newGroupDelay||500},new We.Plugin({key:Aa,state:{init(){return new Sa(kn.empty,kn.empty,null,0,-1)},apply(e,t,n){return L7(t,n,e,r)}},config:r,props:{handleDOMEvents:{beforeinput(e,t){let n=t.inputType,a=n=="historyUndo"?ko:n=="historyRedo"?nf:null;return!a||!e.editable?!1:(t.preventDefault(),a(e.state,e.dispatch))}}}})}function am(r,e){return(t,n)=>{let a=Aa.getState(t);if(!a||(r?a.undone:a.done).eventCount==0)return!1;if(n){let i=O7(a,t,r);i&&n(e?i.scrollIntoView():i)}return!0}}const ko=am(!1,!0),nf=am(!0,!0);function R7(r){let e=Aa.getState(r);return e?e.done.eventCount:0}/**
 * @toast-ui/editor
 * @version 3.2.2 | Fri Feb 17 2023
 * @author NHN Cloud FE Development Lab <dl_javascript@nhn.com>
 * @license MIT
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Cc=function(r,e){return Cc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},Cc(r,e)};function Pe(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Cc(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var ce=function(){return ce=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},ce.apply(this,arguments)};function Hr(r,e,t){if(arguments.length===2)for(var n=0,a=e.length,i;n<a;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return r.concat(i||Array.prototype.slice.call(e))}function ft(r,e){return Object.defineProperty?Object.defineProperty(r,"raw",{value:e}):r.raw=e,r}function I7(r,e,t){var n;t=t||null;for(n in r)if(r.hasOwnProperty(n)&&e.call(t,r[n],n,r)===!1)break}var _i=I7;function P7(r,e){var t=Object.prototype.hasOwnProperty,n,a,i,o;for(i=1,o=arguments.length;i<o;i+=1){n=arguments[i];for(a in n)t.call(n,a)&&(r[a]=n[a])}return r}var af=P7;function B7(r){return typeof r=="string"||r instanceof String}var ha=B7;function q7(r){return r instanceof Array}var Xi=q7;function F7(r,e,t){var n=0,a=r.length;for(t=t||null;n<a&&e.call(t,r[n],n,r)!==!1;n+=1);}var zi=F7,H7=Xi,_7=zi,z7=_i;function $7(r,e,t){H7(r)?_7(r,e,t):z7(r,e,t)}var ll=$7,V7=ha,U7=ll;function j7(r,e,t){var n=r.style;if(V7(e)){n[e]=t;return}U7(e,function(a,i){n[i]=a})}var Un=j7,W7=Xi;function G7(r,e,t){var n,a;if(t=t||0,!W7(e))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(e,r,t);for(a=e.length,n=t;t>=0&&n<a;n+=1)if(e[n]===r)return n;return-1}var ii=G7;function K7(r){return r===void 0}var Sn=K7,J7=Sn;function Q7(r){return!r||!r.className?"":J7(r.className.baseVal)?r.className:r.className.baseVal}var of=Q7,X7=Xi,Z7=Sn;function Y7(r,e){if(e=X7(e)?e.join(" "):e,e=e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),Z7(r.className.baseVal)){r.className=e;return}r.className.baseVal=e}var im=Y7,gp=ll,eQ=ii,tQ=of,rQ=im;function nQ(r){var e=Array.prototype.slice.call(arguments,1),t=r.classList,n=[],a;if(t){gp(e,function(i){r.classList.add(i)});return}a=tQ(r),a&&(e=[].concat(a.split(/\s+/),e)),gp(e,function(i){eQ(i,n)<0&&n.push(i)}),rQ(r,n)}var $n=nQ,yp=zi,aQ=ii,iQ=of,oQ=im;function sQ(r){var e=Array.prototype.slice.call(arguments,1),t=r.classList,n,a;if(t){yp(e,function(i){t.remove(i)});return}n=iQ(r).split(/\s+/),a=[],yp(n,function(i){aQ(i,e)<0&&a.push(i)}),oQ(r,a)}var Tn=sQ;function lQ(r){return typeof r=="number"||r instanceof Number}var sa=lQ;function uQ(r){return r===null}var zs=uQ,cQ=_i;function fQ(r,e){var t=document.createElement("img"),n="";return cQ(e,function(a,i){n+="&"+i+"="+a}),n=n.substring(1),t.src=r+"?"+n,t.style.display="none",document.body.appendChild(t),document.body.removeChild(t),t}var vQ=fQ,pQ=Sn,dQ=vQ,hQ=7*24*60*60*1e3;function mQ(r){var e=new Date().getTime();return e-r>hQ}function gQ(r,e){var t="https://www.google-analytics.com/collect",n=location.hostname,a="event",i="use",o="TOAST UI "+r+" for "+n+": Statistics",l=window.localStorage.getItem(o);!pQ(window.tui)&&window.tui.usageStatistics===!1||l&&!mQ(l)||(window.localStorage.setItem(o,new Date().getTime()),setTimeout(function(){(document.readyState==="interactive"||document.readyState==="complete")&&dQ(t,{v:1,t:a,tid:e,cid:n,dp:n,dh:r,el:r,ec:i})},1e3))}var yQ=gQ,bQ=/[\u0020]+/g,wQ=/[>(){}[\]+-.!#|]/g,bp=/<([a-zA-Z_][a-zA-Z0-9\-._]*)(\s|[^\\>])*\/?>|<(\/)([a-zA-Z_][a-zA-Z0-9\-._]*)\s*\/?>|<!--[^-]+-->|<([a-zA-Z_][a-zA-Z0-9\-.:/]*)>/g,wp=/\\[!"#$%&'()*+,-./:;<=>?@[\]^_`{|}~\\]/g,kQ=/[*_~`]/g,kp=/!\[.*\]\(.*\)/g,CQ=/[[\]]/g,Cp=/(?:^|[^\\])\\(?!\\)/g,TQ='[&<>"]',Tp=new RegExp(TQ,"g");function EQ(r){switch(r){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";default:return r}}function Ii(r){return Tp.test(r)?r.replace(Tp,EQ):r}function xQ(){yQ("editor","UA-129966929-1")}function kr(r,e){return r.indexOf(e)!==-1}var SQ=["rel","target","hreflang","type"],MQ={codeblock:/(^ {4}[^\n]+\n*)+/,thematicBreak:/^ *((\* *){3,}|(- *){3,} *|(_ *){3,}) */,atxHeading:/^(#{1,6}) +[\s\S]+/,seTextheading:/^([^\n]+)\n *(=|-){2,} */,blockquote:/^( *>[^\n]+.*)+/,list:/^ *(\*+|-+|\d+\.) [\s\S]+/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? */,link:/!?\[.*\]\(.*\)/,reflink:/!?\[.*\]\s*\[([^\]]*)\]/,verticalBar:/\u007C/,fencedCodeblock:/^((`|~){3,})/};function om(r){if(!r)return null;var e={};return SQ.forEach(function(t){Sn(r[t])||(e[t]=r[t])}),e}function $s(r,e){for(var t="",n=0;n<e;n+=1)t+=r;return t}function AQ(r){var e=!1;return _i(MQ,function(t){return t.test(r)&&(e=!0),!e}),e}function Vs(r){for(var e=[],t=kp.exec(r);t;)e.push([t.index,t.index+t[0].length]),t=kp.exec(r);return r.replace(CQ,function(n,a){var i=e.some(function(o){return a>o[0]&&a<o[1]});return i?n:"\\"+n})}function LQ(r){var e=function(a){return"\\"+a},t=function(a){return a+"\\"},n=r.replace(bQ," ");return wp.test(n)&&(n=n.replace(wp,e)),Cp.test(n)&&(n=n.replace(Cp,t)),n=n.replace(kQ,e),bp.test(n)&&(n=n.replace(bp,e)),AQ(n)&&(n=n.replace(wQ,e)),n}function DQ(r){var e;return r.indexOf('"')===-1?e='""':e=r.indexOf("'")===-1?"''":"()",e[0]+r+e[1]}function Tc(r){return zs(r)||Sn(r)}function sf(r,e){if(r===null&&r===e)return!0;if(typeof r!="object"||typeof e!="object"||Tc(r)||Tc(e))return r===e;for(var t in r)if(r[t]!==e[t])return!1;for(var t in e)if(!(t in r))return!1;return!0}function xr(r){return r[r.length-1]}function OQ(r,e,t){return r>=e&&r<=t}function lf(r){return typeof r=="object"&&r!==null}function Us(r,e){var t=ce({},r);return r&&e&&Object.keys(e).forEach(function(n){lf(t[n])?Array.isArray(e[n])?t[n]=uf(e[n]):t.hasOwnProperty(n)?t[n]=Us(t[n],e[n]):t[n]=cf(e[n]):t[n]=e[n]}),t}function uf(r){return r.map(function(e){return lf(e)?Array.isArray(e)?uf(e):cf(e):e})}function cf(r){var e=Object.keys(r);return e.length?e.reduce(function(t,n){return lf(r[n])?t[n]=Array.isArray(r[n])?uf(r[n]):cf(r[n]):t[n]=r[n],t},{}):r}function ff(r,e){return e===void 0&&(e={}),Object.keys(e).forEach(function(t){r.hasOwnProperty(t)&&typeof r[t]=="object"?Array.isArray(e[t])?r[t]=e[t]:ff(r[t],e[t]):r[t]=e[t]}),r}function Ep(r,e){return r>e?[e,r]:[r,e]}var NQ=zi;function RQ(r){var e;try{e=Array.prototype.slice.call(r)}catch{e=[],NQ(r,function(n){e.push(n)})}return e}var jn=RQ;function js(r,e){var t=r.nodes.paragraph;return e?t.create(null,ha(e)?r.text(e):e):t.createAndFill()}function wr(r,e,t){return r.text(e,t)}function Rt(r,e,t){t===void 0&&(t=e);var n=r.doc.content.size,a=n>0?n-1:1;return We.TextSelection.create(r.doc,Math.min(e,a),Math.min(t,a))}function vf(r,e,t){var n=e.pos;return r.replaceWith(n,n,js(t)),r.setSelection(Rt(r,n+1))}function Ws(r){for(var e=r.state,t=r.from,n=r.startIndex,a=r.endIndex,i=r.createText,o=e.tr,l=e.doc,d=e.schema,g=n;g<=a;g+=1){var C=l.child(g),T=C.nodeSize,S=C.textContent,M=C.content,O=i(S),I=O?wr(d,O):pe.Fragment.empty,q=o.mapping.map(t),z=q+M.size;o.replaceWith(q,z,I),t+=T}return o}function pf(r,e,t,n){var a=t.length;r.split(e).delete(e-a,e).insert(r.mapping.map(e),n).setSelection(Rt(r,r.mapping.map(e)-a))}function Lo(r){return r.sourcepos[0][0]}function ul(r){return r.sourcepos[1][0]}function cl(r){return r.sourcepos[0][1]}function La(r){return r.sourcepos[1][1]}function IQ(r){var e=r.type;return e==="htmlBlock"||e==="htmlInline"}function PQ(r){var e=r.type;return e==="strike"||e==="strong"||e==="emph"||e==="code"||e==="link"||e==="image"}function BQ(r){return r&&r.type==="codeBlock"}function oi(r){return r&&(r.type==="item"||r.type==="list")}function sm(r){return oi(r)&&r.listData.type==="ordered"}function qQ(r){return oi(r)&&r.listData.type!=="ordered"}function xp(r){return r&&(r.type==="tableCell"||r.type==="tableDelimCell")}function FQ(r){switch(r.type){case"code":case"text":case"emph":case"strong":case"strike":case"link":case"image":case"htmlInline":case"linebreak":case"softbreak":case"customInline":return!0;default:return!1}}function $i(r,e,t){for(t===void 0&&(t=!0),r=t?r:r.parent;r&&r.type!=="document";){if(e(r))return r;r=r.parent}return null}function HQ(r,e,t){for(t===void 0&&(t=!0),r=t?r:r.parent;r&&r.type!=="document";)e(r),r=r.parent}function lr(r,e){return[r[0],r[1]+e]}function Da(r,e){return[r[0],e]}function _Q(r){var e=r.firstChild.literal;switch(r.type){case"emph":return"*"+e+"*";case"strong":return"**"+e+"**";case"strike":return"~~"+e+"~~";case"code":return"`"+e+"`";case"link":case"image":var t=r,n=t.destination,a=t.title,i=r.type==="link"?"":"!";return i+"["+e+"]("+n+(a?' "'+a+'"':"")+")";default:return null}}function zQ(r){switch(r.type){case"document":case"blockQuote":case"list":case"item":case"paragraph":case"heading":case"emph":case"strong":case"strike":case"link":case"image":case"table":case"tableHead":case"tableBody":case"tableRow":case"tableCell":case"tableDelimRow":case"customInline":return!0;default:return!1}}function $Q(r){for(var e=[],t=r.walker(),n=null;n=t.next();){var a=n.node;a.type==="text"&&e.push(a.literal)}return e.join("")}var Eo=[],lm={},Sp=/\$\$widget\d+\s/;function fl(r){var e=r.search(Sp);if(e!==-1){var t=r.substring(e),n=t.replace(Sp,"").replace("$$","");r=r.substring(0,e),r+=fl(n)}return r}function um(r,e){return"$$"+r+" "+e+"$$"}function cm(r,e){var t=lm[r],n=t.rule,a=t.toDOM,i=fl(e).match(n);return i&&(e=i[0]),a(e)}function VQ(){return Eo}function UQ(r){Eo=r,Eo.forEach(function(e,t){lm["widget"+t]=e})}function Yu(r,e,t,n){return r.concat(ni(e,t,n))}function ni(r,e,t){t===void 0&&(t=0);var n=[],a=(Eo[t]||{}).rule,i=t+1;if(r=fl(r),a&&a.test(r)){for(var o=void 0;(o=r.search(a))!==-1;){var l=r.substring(0,o);l&&(n=Yu(n,l,e,i)),r=r.substring(o);var d=r.match(a)[0],g="widget"+t;n.push(e.nodes.widget.create({info:g},e.text(um(g,d)))),r=r.substring(d.length)}r&&(n=Yu(n,r,e,i))}else r&&(n=t<Eo.length-1?Yu(n,r,e,i):[e.text(r)]);return n}function fm(r){for(var e,t="",n=r.walker();e=n.next();){var a=e.node,i=e.entering;i&&(a!==r&&a.type!=="text"?(t+=_Q(a),n.resumeAt(r,!1),n.next()):a.type==="text"&&(t+=a.literal))}return t}function vm(){return{deleteSelection:function(){return Yc},selectAll:function(){return Xh},undo:function(){return ko},redo:function(){return nf}}}function jQ(r){return new We.Plugin({props:{decorations:function(e){var t=e.doc;if(r.text&&t.childCount===1&&t.firstChild.isTextblock&&t.firstChild.content.size===0){var n=document.createElement("span");return $n(n,"placeholder"),r.className&&$n(n,r.className),n.textContent=r.text,pa.DecorationSet.create(t,[pa.Decoration.widget(1,n)])}return null}}})}var WQ=ii,GQ=of;function KQ(r,e){var t;return r.classList?r.classList.contains(e):(t=GQ(r).split(/\s+/),WQ(e,t)>-1)}var pm=KQ,JQ=ii,QQ=jn,bs=Element.prototype,XQ=bs.matches||bs.webkitMatchesSelector||bs.mozMatchesSelector||bs.msMatchesSelector||function(r){var e=this.document||this.ownerDocument;return JQ(this,QQ(e.querySelectorAll(r)))>-1};function ZQ(r,e){return XQ.call(r,e)}var YQ=ZQ,dm="[A-Za-z][A-Za-z0-9-]*",eX="[a-zA-Z_:][a-zA-Z0-9:._-]*",tX="[^\"'=<>`\\x00-\\x20]+",rX="'[^']*'",nX='"[^"]*"',aX="(?:"+tX+"|"+rX+"|"+nX+")",iX="(?:\\s*=\\s*"+aX+")",hm="(?:\\s+"+eX+iX+"?)",mm="<("+dm+")("+hm+")*\\s*/?>",oX="</("+dm+")\\s*[>]",gm="(?:"+mm+"|"+oX+")",Vi=new RegExp("^"+gm,"i"),Ec=/<br\s*\/*>/i,sX=/<! ---->|<!--(?:-?[^>-])(?:-?[^-])*-->/,ym="</p><p>";function df(r,e,t){var n=parseInt(r.left,10),a=parseInt(r.top,10),i=parseInt(r.width,10)+parseInt(r.paddingLeft,10)+parseInt(r.paddingRight,10),o=parseInt(r.height,10)+parseInt(r.paddingTop,10)+parseInt(r.paddingBottom,10);return e>=n&&e<=n+i&&t>=a&&t<=a+o}var bm="toastui-editor-";function Fe(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];for(var t=[],n=0,a=r;n<a.length;n++){var i=a[n],o=void 0;Array.isArray(i)?o=i[0]?i[1]:null:o=i,o&&t.push(""+bm+o)}return t.join(" ")}function tr(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return r.map(function(t){return bm+"md-"+t}).join(" ")}function lX(r){return(r==null?void 0:r.nodeType)===Node.TEXT_NODE}function vl(r){return r&&r.nodeType===Node.ELEMENT_NODE}function uX(r,e){var t=jn(r.querySelectorAll(e));return t.length?t:[]}function cX(r,e){e=Xi(e)?jn(e):[e],e.forEach(function(t){r.appendChild(t)})}function fX(r,e){e.parentNode&&e.parentNode.insertBefore(r,e)}function si(r){r.parentNode&&r.parentNode.removeChild(r)}function vX(r){for(var e=[];r.firstChild;)e.push(r.firstChild),r.parentNode&&r.parentNode.insertBefore(r.firstChild,r);return si(r),e}function hf(r,e,t){Sn(t)&&(t=!pm(r,e));var n=t?$n:Tn;n(r,e)}function wm(r,e){var t=document.createElement("div");ha(r)?t.innerHTML=r:t.appendChild(r);var n=t.firstChild;return e&&e.appendChild(n),n}function mf(r){var e=window.getComputedStyle(r);return["margin-left","margin-right"].reduce(function(t,n){return t+parseInt(e.getPropertyValue(n),10)},0)+r.offsetWidth}function Vn(r,e){var t;for(ha(e)?t=function(n){return YQ(n,e)}:t=function(n){return n===e};r&&r!==document;){if(vl(r)&&t(r))return r;r=r.parentNode}return null}function km(r,e){for(var t=0,n=0;r&&r!==e;){var a=r.offsetTop,i=r.offsetLeft,o=r.offsetParent;if(t+=a,n+=i,o===e.offsetParent)break;r=r.offsetParent}return{offsetTop:t,offsetLeft:n}}function gf(r,e){Object.keys(r).forEach(function(t){Tc(r[t])?e.removeAttribute(t):e.setAttribute(t,r[t])})}function pX(r){var e=r.replace(/<p><br\s*\/*><\/p>/gi,"<p></p>"),t=new RegExp(gm,"ig"),n=e.match(t);return n==null||n.forEach(function(a,i){if(Ec.test(a)){var o=ym;if(i){var l=n[i-1],d=l.match(mm);if(d&&!/br/i.test(d[1])){var g=d[1];o="</"+g+"><"+g+">"}}e=e.replace(Ec,o)}}),e}function yf(r){var e=/<img class="ProseMirror-separator" alt="">/g,t=/ class="ProseMirror-trailingBreak"/g,n=r;return n=n.replace(e,""),n=n.replace(t,""),n}var Cm=new We.PluginKey("widget"),Mp=5,dX=function(){function r(e,t){var n=this;this.popup=null,this.removeWidget=function(){n.popup&&(n.rootEl.removeChild(n.popup),n.popup=null)},this.rootEl=e.dom.parentElement,this.eventEmitter=t,this.eventEmitter.listen("blur",this.removeWidget),this.eventEmitter.listen("loadUI",function(){n.rootEl=Vn(e.dom.parentElement,"."+Fe("defaultUI"))}),this.eventEmitter.listen("removePopupWidget",this.removeWidget)}return r.prototype.update=function(e){var t=Cm.getState(e.state);if(this.removeWidget(),t){var n=t.node,a=t.style,i=e.coordsAtPos(t.pos),o=i.top,l=i.left,d=i.bottom,g=d-o,C=this.rootEl.getBoundingClientRect(),T=o-C.top;Un(n,{opacity:"0"}),this.rootEl.appendChild(n),Un(n,{position:"absolute",left:l-C.left+Mp+"px",top:(a==="bottom"?T+g-Mp:T-g)+"px",opacity:"1"}),this.popup=n,e.focus()}},r.prototype.destroy=function(){this.eventEmitter.removeEventHandler("blur",this.removeWidget)},r}();function hX(r){return new We.Plugin({key:Cm,state:{init:function(){return null},apply:function(e){return e.getMeta("widget")}},view:function(e){return new dX(e,r)}})}function mX(r){r.listen("addImageBlobHook",function(e,t){var n=new FileReader;n.onload=function(a){var i=a.target;return t(i.result)},n.readAsDataURL(e)})}function bf(r,e,t){var n=function(a,i){r.emit("command","addImage",{imageUrl:a,altText:i||e.name||"image"})};r.emit("addImageBlobHook",e,n,t)}function Tm(r){var e=jn(r).filter(function(n){var a=n.type;return a.indexOf("image")!==-1});if(e.length===1){var t=e[0];if(t)return t.getAsFile()}return null}function gX(r){var e=r.eventEmitter;return new We.Plugin({props:{handleDOMEvents:{drop:function(t,n){var a,i=(a=n.dataTransfer)===null||a===void 0?void 0:a.files;return i&&zi(i,function(o){return o.type.indexOf("image")!==-1?(n.preventDefault(),n.stopPropagation(),bf(e,o,n.type),!1):!0}),!0}}}})}var At=function(){function r(){}return Object.defineProperty(r.prototype,"type",{get:function(){return"node"},enumerable:!1,configurable:!0}),r.prototype.setContext=function(e){this.context=e},r}();function Em(r){var e=document.createElement("span"),t=cm(r.attrs.info,r.textContent);return e.className="tui-widget",e.appendChild(t),{dom:e}}function xc(r){return r.type.name==="widget"}var xm=function(r){Pe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"widget"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{info:{default:null}},group:"inline",inline:!0,content:"text*",selectable:!1,atom:!0,toDOM:function(){return["span",{class:"tui-widget"},0]},parseDOM:[{tag:"span.tui-widget",getAttrs:function(t){var n=t.textContent,a=n.match(/\$\$(widget\d+)/),i=a[1];return{info:i}}}]}},enumerable:!1,configurable:!0}),e}(At),Sm=function(){function r(e){this.timer=null,this.el=document.createElement("div"),this.el.className="toastui-editor",this.eventEmitter=e,this.placeholder={text:""}}return r.prototype.createState=function(){return We.EditorState.create({schema:this.schema,plugins:this.createPlugins()})},r.prototype.initEvent=function(){var e=this,t=e.eventEmitter,n=e.view,a=e.editorType;n.dom.addEventListener("focus",function(){return t.emit("focus",a)}),n.dom.addEventListener("blur",function(){return t.emit("blur",a)})},r.prototype.emitChangeEvent=function(e){this.eventEmitter.emit("caretChange",this.editorType),e.docChanged&&this.eventEmitter.emit("change",this.editorType)},Object.defineProperty(r.prototype,"defaultPlugins",{get:function(){var e=this.createInputRules(),t=Hr(Hr([],this.keymaps),[To.keymap(ce({"Shift-Enter":pp.Enter},pp)),nm(),jQ(this.placeholder),hX(this.eventEmitter),gX(this.context)]);return e?t.concat(e):t},enumerable:!1,configurable:!0}),r.prototype.createInputRules=function(){var e=VQ(),t=e.map(function(n){var a=n.rule;return new wo.InputRule(a,function(i,o,l,d){var g=i.schema,C=i.tr,T=i.doc,S=o.input.match(new RegExp(a,"g")),M=T.resolve(l),O=M.parent,I=0;if(xc(O)&&(O=M.node(M.depth-1)),O.forEach(function(V){return xc(V)&&(I+=1)}),S.length>I){var q=xr(S),z=ni(q,g);return C.replaceWith(d-q.length+1,d,z)}return null})});return t.length?wo.inputRules({rules:t}):null},r.prototype.clearTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},r.prototype.createSchema=function(){return new pe.Schema({nodes:this.specs.nodes,marks:this.specs.marks})},r.prototype.createKeymaps=function(e){var t=vm(),n=t.undo,a=t.redo,i=this.specs.keymaps(e),o={"Mod-z":n(),"Shift-Mod-z":a()};return e?i.concat(To.keymap(o)):i},r.prototype.createCommands=function(){return this.specs.commands(this.view)},r.prototype.createPluginProps=function(){var e=this;return this.extraPlugins.map(function(t){return t(e.eventEmitter)})},r.prototype.focus=function(){var e=this;this.clearTimer(),this.timer=setTimeout(function(){e.view.focus(),e.view.dispatch(e.view.state.tr.scrollIntoView())})},r.prototype.blur=function(){this.view.dom.blur()},r.prototype.destroy=function(){var e=this;this.clearTimer(),this.view.destroy(),Object.keys(this).forEach(function(t){delete e[t]})},r.prototype.moveCursorToStart=function(e){var t=this.view.state.tr;this.view.dispatch(t.setSelection(Rt(t,1)).scrollIntoView()),e&&this.focus()},r.prototype.moveCursorToEnd=function(e){var t=this.view.state.tr;this.view.dispatch(t.setSelection(Rt(t,t.doc.content.size-1)).scrollIntoView()),e&&this.focus()},r.prototype.setScrollTop=function(e){this.view.dom.scrollTop=e},r.prototype.getScrollTop=function(){return this.view.dom.scrollTop},r.prototype.setPlaceholder=function(e){this.placeholder.text=e,this.view.dispatch(this.view.state.tr.scrollIntoView())},r.prototype.setHeight=function(e){Un(this.el,{height:e+"px"})},r.prototype.setMinHeight=function(e){Un(this.el,{minHeight:e+"px"})},r.prototype.getElement=function(){return this.el},r}();function yX(r){return r instanceof Function}var un=yX,bX=["Enter","Shift-Enter","Mod-Enter","Tab","Shift-Tab","Delete","Backspace","Mod-Delete","Mod-Backspace","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Mod-d","Mod-D","Alt-ArrowUp","Alt-ArrowDown"];function ws(r,e,t){return r.focus(),e(t)(r.state,r.dispatch,r)}var Mm=function(){function r(e){this.specs=e}return Object.defineProperty(r.prototype,"nodes",{get:function(){return this.specs.filter(function(e){return e.type==="node"}).reduce(function(e,t){var n,a=t.name,i=t.schema;return ce(ce({},e),(n={},n[a]=i,n))},{})},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"marks",{get:function(){return this.specs.filter(function(e){return e.type==="mark"}).reduce(function(e,t){var n,a=t.name,i=t.schema;return ce(ce({},e),(n={},n[a]=i,n))},{})},enumerable:!1,configurable:!0}),r.prototype.commands=function(e,t){var n=this.specs.filter(function(i){var o=i.commands;return o}).reduce(function(i,o){var l={},d=o.commands();return un(d)?l[o.name]=function(g){return ws(e,d,g)}:Object.keys(d).forEach(function(g){l[g]=function(C){return ws(e,d[g],C)}}),ce(ce({},i),l)},{}),a=vm();return Object.keys(a).forEach(function(i){n[i]=function(o){return ws(e,a[i],o)}}),t&&Object.keys(t).forEach(function(i){n[i]=function(o){return ws(e,t[i],o)}}),n},r.prototype.keymaps=function(e){var t=this.specs.filter(function(n){return n.keymaps}).map(function(n){return n.keymaps()});return t.map(function(n){return e||Object.keys(n).forEach(function(a){kr(bX,a)||delete n[a]}),To.keymap(n)})},r.prototype.setContext=function(e){this.specs.forEach(function(t){t.setContext(e)})},r}();function Am(r){var e=r.from,t=r.to;return r instanceof We.AllSelection?[e+1,t-1]:[e,t]}function Ap(r){return r.index(0)+1}function Ui(r,e,t){t===void 0&&(t=1);var n=0;return r.forEach(function(a,i){xc(a)&&i+2<e&&(n+=2*t)}),n}function Ns(r,e,t){t===void 0&&(t=e);var n=e===t,a=r.resolve(e),i=Ap(a),o=i,l=a.start(1),d=l;if(!n){var g=r.resolve(t===r.content.size?t-1:t);d=g.start(1),o=Ap(g),g.pos===r.content.size&&(t=r.content.size-2)}var C=Math.max(e-l+1,1),T=Math.max(t-d+1,1);return[[i,C+Ui(r.child(i-1),C,-1)],[o,T+Ui(r.child(o-1),T,-1)]]}function Lm(r,e){for(var t=[],n=0,a=0;n<e;n+=1){var i=r.child(n);t[n]=a,a+=i.nodeSize}return t}function ei(r,e,t){var n=Lm(r,t[0]),a=e[0]-1,i=t[0]-1,o=r.child(a),l=r.child(i),d=n[a],g=n[i];return d+=e[1]+Ui(o,e[1]-1),g+=t[1]+Ui(l,t[1]-1),[d,Math.min(g,r.content.size)]}function er(r){var e=r.$from,t=r.$to,n=r.from,a=r.to,i=e.doc;return r instanceof We.AllSelection&&(e=i.resolve(n+1),t=i.resolve(a-1)),e.depth===0&&(e=i.resolve(n-1),t=e),{startFromOffset:e.start(1),endFromOffset:t.start(1),startToOffset:e.end(1),endToOffset:t.end(1),startIndex:e.index(0),endIndex:t.index(0),from:e.pos,to:t.pos}}function Gs(r,e){for(var t=1,n=1,a=0,i=0;a<r.childCount;a+=1){var o=r.child(a).nodeSize;if(t=i+1,n=i+o-1,a===e)break;i+=o}return{startOffset:t,endOffset:n}}var Lp="heading",wX="blockQuote",kX="listItem",CX="table",TX="tableCell",EX="codeBlock",xX="thematicBreak",Rs="link",ks="code",pl="meta",li="delimiter",SX="taskDelimiter",wf="markedText",MX="html",AX="customBlock",Dp={strong:2,emph:1,strike:2};function bt(r,e,t,n){return{start:r,end:e,spec:{type:t,attrs:n}}}function LX(r,e,t){var n=r.level,a=r.headingType,i=[bt(e,t,Lp,{level:n})];return a==="atx"?i.push(bt(e,lr(e,n),li)):i.push(bt(Da(t,0),t,Lp,{seText:!0})),i}function ec(r,e,t){var n=r.type,a=lr(e,Dp[n]),i=lr(t,-Dp[n]);return[bt(a,i,n),bt(e,a,li),bt(i,t,li)]}function Dm(r,e,t,n){return[bt(r,e,Rs),bt(Da(r,t[1]+1),Da(e,n),Rs,{desc:!0}),bt(Da(e,n+2),lr(e,-1),Rs,{url:!0})]}function DX(r,e,t){var n=r.lastChild,a=n?La(n)+1:3,i=lr(e,1);return Hr([bt(e,i,pl)],Dm(e,t,i,a))}function OX(r,e,t){var n=r.lastChild,a=r.extendedAutolink,i=n?La(n)+1:2;return a?[bt(e,t,Rs,{desc:!0})]:Dm(e,t,e,i)}function NX(r,e,t){var n=r.tickCount,a=lr(e,n),i=lr(t,-n);return[bt(e,t,ks),bt(e,a,ks,{start:!0}),bt(a,i,ks,{marked:!0}),bt(i,t,ks,{end:!0})]}function Om(r,e,t,n){var a={start:e,end:t,spec:{attrs:{className:n+"-line-background",codeStart:e[0],codeEnd:t[0]}},lineBackground:!0};return r.type!=="item"&&r.type!=="blockQuote"?[ce(ce({},a),{end:e,spec:{attrs:{className:n+"-line-background start"}}}),ce(ce({},a),{start:[Math.min(e[0]+1,t[0]),e[1]]})]:null}function RX(r,e,t,n){var a=r.fenceOffset,i=r.fenceLength,o=r.fenceChar,l=r.info,d=r.infoPadding,g=r.parent,C=a+i,T=[bt(Da(e,1),t,EX)];o&&T.push(bt(e,lr(e,C),li)),l&&T.push(bt(lr(e,i),lr(e,i+d+l.length),pl));var S="^(\\s{0,4})("+o+"{"+i+",})",M=new RegExp(S);M.test(n)&&T.push(bt(Da(t,1),t,li));var O=Om(g,e,t,"code-block");return O?T.concat(O):T}function IX(r,e,t){var n=r,a=n.offset,i=n.syntaxLength,o=n.info,l=n.parent,d=a+i,g=[bt(Da(e,1),t,AX)];g.push(bt(e,lr(e,d),li)),o&&g.push(bt(lr(e,d),lr(e,i+o.length),pl)),g.push(bt(Da(t,1),t,li));var C=Om(l,e,t,"custom-block");return C?g.concat(C):g}function Nm(r,e){for(var t=[];r;){var n=r.type;(n==="paragraph"||n==="codeBlock")&&t.push(bt([Lo(r),cl(r)-1],[ul(r),La(r)+1],e)),r=r.next}return t}function PX(r){for(var e=[];r;)e.push(bt([Lo(r),cl(r)],[ul(r),La(r)+1],wf)),r=r.next;return e}function BX(r,e,t){var n=r.parent&&r.parent.type!=="blockQuote"?[bt(e,t,wX)]:[];if(r.firstChild){var a=[];r.firstChild.type==="paragraph"?a=PX(r.firstChild.firstChild):r.firstChild.type==="list"&&(a=Nm(r.firstChild,wf)),n=Hr(Hr([],n),a)}return n}function qX(r){for(var e=0;r.parent.parent&&r.parent.parent.type==="item";)r=r.parent.parent,e+=1;var t=[{odd:!0},{even:!0}][e%2];return[kX,ce(ce({},t),{listStyle:!0})]}function FX(r,e){var t=r.listData,n=t.padding,a=t.task,i=qX(r),o=[bt.apply(void 0,Hr([e,lr(e,n)],i))];return a&&(o.push(bt(lr(e,n),lr(e,n+3),SX)),o.push(bt(lr(e,n+1),lr(e,n+2),pl))),o.concat(Nm(r.firstChild,wf))}var Op={heading:LX,strong:ec,emph:ec,strike:ec,link:OX,image:DX,code:NX,codeBlock:RX,blockQuote:BX,item:FX,customBlock:IX},Np={thematicBreak:xX,table:CX,tableCell:TX,htmlInline:MX};function HX(r,e,t,n){var a=r.type;return un(Op[a])?Op[a](r,e,t,n):Np[a]?[bt(e,t,Np[a])]:null}var xo={};function _X(r){var e=r.schema,t=r.toastMark;return new We.Plugin({appendTransaction:function(n,a,i){var o=n[0],l=i.tr;if(o.docChanged){var d=[],g=o.getMeta("editResult");g.forEach(function(C){var T=C.nodes,S=C.removedNodeRange;if(T.length){d=d.concat(WX(l,T));for(var M=0,O=T;M<O.length;M++)for(var I=O[M],q=I.walker(),z=q.next();z;){var V=z.node,G=z.entering;G&&(d=d.concat(GX(V,t))),z=q.next()}}else if(S)for(var Z=l.doc.childCount-1,ne=S.line,X=ne[0],oe=ne[1],ve=Math.min(X,Z),ye=Math.min(oe,Z),Me=ve;Me<=ye;Me+=1)xo[Me]=!0}),VX(l,e,d)}return l.setMeta("widget",o.getMeta("widget"))}})}function zX(r,e,t){return Object.keys(t).some(function(n){return t[n]!==r.child(e).attrs[n]})}function $X(r,e,t,n,a){a===void 0&&(a={});for(var i=n.startIndex,o=n.endIndex,l=n.from,d=n.to,g=!1,C=i;C<=o;C+=1)delete xo[C],g=zX(e,C,a);g&&r.setBlockType(l,d,t,a)}function VX(r,e,t){var n=r.doc,a=e.nodes.paragraph,i=Lm(n,n.childCount);t.forEach(function(o){var l=o.start,d=o.end,g=o.spec,C=o.lineBackground,T=Math.min(l[0],n.childCount)-1,S=Math.min(d[0],n.childCount)-1,M=n.child(T),O=n.child(S),I=i[T],q=i[S];if(I+=l[1]+Ui(M,l[1]-1),q+=d[1]+Ui(O,d[1]-1),g)if(C){var z={from:I,to:q,startIndex:T,endIndex:S};$X(r,n,a,z,g.attrs)}else r.addMark(I,q,e.mark(g.type,g.attrs));else r.removeMark(I,q)}),UX(r,i,a)}function UX(r,e,t){Object.keys(xo).forEach(function(n){var a=Number(n),i=Math.min(Number(n)+1,r.doc.childCount-1),o=e[a],l=e[i]-1;a===i&&(l+=2),r.setBlockType(o,l,t)})}function jX(r,e,t){var n=[];xo={};for(var a=e[0]-1;a<t[0];a+=1){var i=r.child(a),o=i.attrs.codeEnd,l=i.attrs.codeStart;if(l&&o&&!kr(n,l)){n.push(l),o=Math.min(o,r.childCount);for(var d=l-1,g=t[0],C=d;C<g;C+=1)xo[C]=!0}}}function WX(r,e){var t=r.doc,n=e[0].sourcepos[0],a=xr(e).sourcepos,i=a[1],o=[n[0],n[1]],l=[i[0],i[1]+1],d=[];return jX(t,n,i),d.push({start:o,end:l}),d}function GX(r,e){var t=e.getLineTexts(),n=[Lo(r),cl(r)],a=[ul(r),La(r)+1],i=HX(r,n,a,t[a[0]-1]);return i??[]}var KX=["taskList","orderedList","bulletList","table","strong","emph","strike","heading","thematicBreak","blockQuote","code","codeBlock","indent","outdent"];function JX(r){var e=r.type;return oi(r)?r.listData.task?"taskList":r.listData.type==="ordered"?"orderedList":"bulletList":e.indexOf("table")!==-1?"table":kr(KX,e)?e:null}function QX(r){var e={indent:{active:!1,disabled:!0},outdent:{active:!1,disabled:!0}},t=!0;return HQ(r,function(n){var a=JX(n);a&&(a==="bulletList"||a==="orderedList"?t&&(e[a]={active:!0},e.indent.disabled=!1,e.outdent.disabled=!1,t=!1):e[a]={active:!0})}),e}function XX(r){var e=r.toastMark,t=r.eventEmitter;return new We.Plugin({view:function(){return{update:function(n,a){var i=n.state,o=i.doc,l=i.selection;if(!(a&&a.doc.eq(o)&&a.selection.eq(l))){var d=l.from,g=i.doc.resolve(d).start(),C=i.doc.content.findIndex(d).index+1,T=d-g;d===g&&(T+=1);var S=[C,T],M=e.findNodeAtPosition(S),O=QX(M);t.emit("changeToolbarState",{cursorPos:S,mdNode:M,toolbarState:O}),t.emit("setFocusedNode",M)}}}}})}var ZX=function(r){Pe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"doc"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"block+"}},enumerable:!1,configurable:!0}),e}(At),It=function(){function r(){}return Object.defineProperty(r.prototype,"type",{get:function(){return"mark"},enumerable:!1,configurable:!0}),r.prototype.setContext=function(e){this.context=e},r}();function Gr(r,e){return Na(r,e-1)}function Na(r,e){return r.child(e).textContent}var yo=/^\s*> ?/,YX=function(r){Pe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"blockQuote"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:tr("block-quote")},0]}}},enumerable:!1,configurable:!0}),e.prototype.createBlockQuoteText=function(t,n){return n?t.replace(yo,"").trim():"> "+t.trim()},e.prototype.extendBlockQuote=function(){var t=this;return function(n,a){var i=n.selection,o=n.doc,l=n.tr,d=n.schema,g=er(i),C=g.endFromOffset,T=g.endToOffset,S=g.endIndex,M=g.to,O=Na(o,S),I=yo.test(O);if(I&&M>C&&i.empty){var q=!O.replace(yo,"").trim();if(q)l.deleteRange(C,T).split(l.mapping.map(T));else{var z=O.slice(M-C).trim(),V=wr(d,t.createBlockQuoteText(z));pf(l,T,z,V)}return a(l),!0}return!1}},e.prototype.commands=function(){var t=this;return function(){return function(n,a){var i=n.selection,o=n.doc,l=er(i),d=l.startFromOffset,g=l.endToOffset,C=l.startIndex,T=l.endIndex,S=yo.test(Na(o,C)),M=Ws({state:n,startIndex:C,endIndex:T,from:d,createText:function(O){return t.createBlockQuoteText(O,S)}});return a(M.setSelection(Rt(M,M.mapping.map(g)))),!0}}},e.prototype.keymaps=function(){var t=this.commands()();return{"alt-q":t,"alt-Q":t,Enter:this.extendBlockQuote()}},e}(It),ui=/(^\s*)([-*+] |[\d]+\. )/,kf=/(^\s*)([\d])+\.( \[[ xX]])? /,fa=/^(\s*)((\d+)([.)]\s(?:\[(?:x|\s)\]\s)?))(.*)/,Ks=/(^\s*)([-*+]|[\d]+\.)( \[[ xX]])? /,eZ=/^(\s*)([-*+]+(\s(?:\[(?:x|\s)\]\s)?))(.*)/,tZ=/(^\s*)([-*+] |[\d]+\. )(\[[ xX]] )/,rZ=/(^\s*)([-*+])( \[[ xX]]) /;function Cf(r){return kf.test(r)?"ordered":"bullet"}function Tf(r){for(var e=0;r&&r.type!=="document";)r.type==="list"&&(e+=1),r=r.parent;return e}function Sc(r,e,t,n){for(var a=r.getLineTexts(),i=a.length,o=[],l=e;n?l<i:l>1;){l=n?l+1:l-1;var d=r.findFirstNodeAtLine(l),g=Tf(d);if(g===t)o.push({line:l,depth:t,mdNode:d});else if(g<t)break}return o}function nZ(r){var e=r.toastMark,t=r.mdNode,n=r.line,a=Tf(t),i=Sc(e,n,a,!1).reverse(),o=Sc(e,n,a,!0);return i.concat([{line:n,depth:a,mdNode:t}]).concat(o)}function aZ(r){if(!ui.test(r))return"* "+r;var e=Cf(r);return e==="bullet"&&Ks.test(r)?r=r.replace(rZ,"$1$2 "):e==="ordered"&&(r=r.replace(kf,"$1* ")),r}function iZ(r,e){if(!ui.test(r))return e+". "+r;var t=Cf(r);if(t==="bullet"||t==="ordered"&&Ks.test(r))r=r.replace(Ks,"$1"+e+". ");else if(t==="ordered"){var n=fa.exec(r)[3];Number(n)!==e&&(r=r.replace(kf,"$1"+e+". "))}return r}function Rm(r,e,t,n){n===void 0&&(n=0);var a=Number.MAX_VALUE,i=0,o=e.map(function(l,d){var g=l.line;a=Math.min(g-1,a),i=Math.max(g-1,i);var C=Gr(r,g);return C=t==="bullet"?aZ(C):iZ(C,d+1+n),{text:C,line:g}});return{changedResults:o,firstIndex:a,lastIndex:i}}function Rp(r,e){var t=nZ(e);return Rm(e.doc,t,r)}var oZ={bullet:function(r){return Rp("bullet",r)},ordered:function(r){return Rp("ordered",r)},task:function(r){var e=r.mdNode,t=r.doc,n=r.line,a=Gr(t,n);return e.listData.task?a=a.replace(tZ,"$1$2"):oi(e)&&(a=a.replace(ui,"$1$2[ ] ")),{changedResults:[{text:a,line:n}]}}},sZ={bullet:function(r){var e=r.doc,t=r.line,n=Gr(e,t),a=[{text:"* "+n,line:t}];return{changedResults:a}},ordered:function(r){for(var e=r.toastMark,t=r.doc,n=r.line,a=r.startLine,i=Gr(t,n),o=1,l=a,d=0,g=a-1;g>0;g-=1){var C=e.findFirstNodeAtLine(g),T=Gr(t,g),S=T&&!!$i(C,function(G){return oi(G)}),M=fa.exec(Gr(t,g));if(!M&&!S)break;if(!M&&S){d+=1;continue}var O=M,I=O[1],q=O[3];if(!I){o=Number(q),l=g;break}}var z=o+n-l-d,V=[{text:z+". "+i,line:n}];return{changedResults:V}},task:function(r){var e=r.doc,t=r.line,n=Gr(e,t),a=[{text:"* [ ] "+n,line:t}];return{changedResults:a}}},lZ={bullet:function(r){var e=r.line,t=r.doc,n=Gr(t,e),a=eZ.exec(n),i=a[1],o=a[2];return{listSyntax:""+i+o}},ordered:function(r){var e=r.toastMark,t=r.line,n=r.mdNode,a=r.doc,i=Tf(n),o=Gr(a,t),l=fa.exec(o),d=l[1],g=l[3],C=l[4],T=Number(g)+1,S=""+d+T+C,M=Sc(e,t,i,!0),O=M.filter(function(I){var q=fa.exec(Gr(a,I.line));return q&&q[1].length===d.length&&!!$i(I.mdNode,function(z){return sm(z)})});return ce({listSyntax:S},Rm(a,O,"ordered",T))}};function Im(r,e,t,n,a){for(var i=[],o=Gr(r,t),l=fa.exec(o);l;){var d=l[1],g=l[4],C=l[5],T=d.length;if(T===a)i.push(wr(e,""+d+n+g+C)),n+=1,t+=1;else if(T>a){var S=Im(r,e,t,1,T);t=S.line,i=i.concat(S.nodes)}if(T<a||t>r.childCount)break;o=Gr(r,t),l=fa.exec(o)}return{nodes:i,line:t}}var Ip=/(^\s{1,4})(.*)/;function Pp(r,e,t){return r<e||ui.test(t)||yo.test(t)}function Bp(r,e,t){var n=t.$from;n.depth===0&&(n=r.resolve(n.pos-1));var a=n.node(1),i=n.start(1),o=a.content.size;return a.rangeHasMark(0,o,e.marks.table)&&n.pos-i!==o&&n.pos!==i}function qp(r,e){var t=e.from,n=e.to;if(e.type==="indent"){var a=4;t+=a,n+=(e.lineLen+1)*a}else{var i=e.spaceLenList;t-=i[0];for(var o=0;o<i.length;o+=1)n-=i[o]}return Rt(r,t,n)}var uZ=function(r){Pe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"paragraph"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"inline*",attrs:{className:{default:null},codeStart:{default:null},codeEnd:{default:null}},selectable:!1,group:"block",parseDOM:[{tag:"div"}],toDOM:function(t){var n=t.attrs;return n.className?["div",{class:tr(n.className)},0]:["div",0]}}},enumerable:!1,configurable:!0}),e.prototype.reorderList=function(t,n){for(var a=this.context,i=a.view,o=a.toastMark,l=a.schema,d=i.state,g=d.tr,C=d.selection,T=d.doc,S=o.findFirstNodeAtLine(t),M=S;S&&!qQ(S)&&S.parent.type!=="document";)if(S=S.parent,sm(S)){M=S;break}M&&(t=M.sourcepos[0][0]);var O=fa.exec(Gr(T,t)),I=O[1],q=O[3],z=I.length,V=Im(T,l,t,Number(q),z),G=V.line,Z=V.nodes;n=Math.max(n,G-1);for(var ne=Gs(T,t-1).startOffset,X=t-1;X<=n-1;X+=1){var oe=T.child(X),ve=oe.nodeSize,ye=oe.content,Me=g.mapping.map(ne),Ke=Me+ye.size;g.replaceWith(Me,Ke,Z[X-t+1]),ne+=ve}var Oe=Rt(g,C.from,C.to);i.dispatch(g.setSelection(Oe))},e.prototype.indent=function(t){var n=this;return t===void 0&&(t=!1),function(){return function(a,i){var o=a.schema,l=a.selection,d=a.doc,g=er(l),C=g.from,T=g.to,S=g.startFromOffset,M=g.startIndex,O=g.endIndex;if(t&&Bp(d,o,l))return!1;var I=Na(d,M);if(t&&Pp(C,T,I)||!t&&ui.test(I)){var q=Ws({state:a,from:S,startIndex:M,endIndex:O,createText:function(V){return"    "+V}}),z={type:"indent",from:C,to:T,lineLen:O-M};i(q.setSelection(qp(q,z))),fa.test(I)&&n.reorderList(M+1,O+1)}else t&&i(a.tr.insert(T,wr(o,"    ")));return!0}}},e.prototype.outdent=function(t){var n=this;return t===void 0&&(t=!1),function(){return function(a,i){var o=a.selection,l=a.doc,d=a.schema,g=er(o),C=g.from,T=g.to,S=g.startFromOffset,M=g.startIndex,O=g.endIndex;if(t&&Bp(l,d,o))return!1;var I=Na(l,M);if(t&&Pp(C,T,I)||!t&&ui.test(I)){var q=[],z=Ws({state:a,from:S,startIndex:M,endIndex:O,createText:function(X){var oe=Ip.exec(X);return q.push(oe?oe[1].length:0),X.replace(Ip,"$2")}}),V={type:"outdent",from:C,to:T,spaceLenList:q};i(z.setSelection(qp(z,V))),fa.test(I)&&n.reorderList(M+1,O+1)}else if(t){var G=I.slice(0,T-S),Z=G.replace(/\s{1,4}$/,""),ne=T-(G.length-Z.length);i(a.tr.delete(ne,T))}return!0}}},e.prototype.deleteLines=function(){var t=this;return function(n,a){var i=t.context.view,o=er(n.selection),l=o.startFromOffset,d=o.endToOffset,g=function(){return a(n.tr.deleteRange(l,d)),!0};return sl(g,Kh)(n,a,i)}},e.prototype.moveDown=function(){return function(t,n){var a=t.doc,i=t.tr,o=t.selection,l=t.schema,d=er(o),g=d.startFromOffset,C=d.endToOffset,T=d.endIndex;if(T<a.content.childCount-1){var S=a.child(T+1),M=S.nodeSize,O=S.textContent;return i.delete(C,C+M).split(g).insert(i.mapping.map(g)-2,wr(l,O)),n(i),!0}return!1}},e.prototype.moveUp=function(){return function(t,n){var a=t.tr,i=t.doc,o=t.selection,l=t.schema,d=er(o),g=d.startFromOffset,C=d.endToOffset,T=d.startIndex;if(T>0){var S=i.child(T-1),M=S.nodeSize,O=S.textContent;return a.delete(g-M,g).split(a.mapping.map(C)).insert(a.mapping.map(C),wr(l,O)),n(a),!0}return!1}},e.prototype.commands=function(){return{indent:this.indent(),outdent:this.outdent()}},e.prototype.keymaps=function(){return{Tab:this.indent(!0)(),"Shift-Tab":this.outdent(!0)(),"Mod-d":this.deleteLines(),"Mod-D":this.deleteLines(),"Alt-ArrowUp":this.moveUp(),"Alt-ArrowDown":this.moveDown()}},e}(At),cZ=function(r){Pe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"text"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{group:"inline"}},enumerable:!1,configurable:!0}),e}(At),fZ=/^#{1,6}\s/,vZ=function(r){Pe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"heading"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{level:{default:1},seText:{default:!1}},toDOM:function(t){var n=t.attrs,a=n.level,i=n.seText,o="heading|heading"+a;return i&&(o+="|delimiter|setext"),["span",{class:tr.apply(void 0,o.split("|"))},0]}}},enumerable:!1,configurable:!0}),e.prototype.createHeadingText=function(t,n,a){for(var i=n.replace(a,"").trim(),o="";t>0;)o+="#",t-=1;return o+" "+i},e.prototype.commands=function(){var t=this;return function(n){return function(a,i){var o=n.level,l=er(a.selection),d=l.startFromOffset,g=l.endToOffset,C=l.startIndex,T=l.endIndex,S=Ws({state:a,from:d,startIndex:C,endIndex:T,createText:function(M){var O=M.match(fZ),I=O?O[0]:"";return t.createHeadingText(o,M,I)}});return i(S.setSelection(Rt(S,S.mapping.map(g)))),!0}}},e}(It),tc="```",pZ=function(r){Pe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"codeBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:tr("code-block")},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,n){var a=t.selection,i=t.schema,o=t.tr,l=er(a),d=l.startFromOffset,g=l.endToOffset,C=wr(i,tc);return o.insert(d,C).split(d+tc.length),o.split(o.mapping.map(g)).insert(o.mapping.map(g),C),n(o.setSelection(Rt(o,o.mapping.map(g)-(tc.length+2)))),!0}}},e.prototype.keepIndentation=function(){var t=this;return function(n,a){var i=n.selection,o=n.tr,l=n.doc,d=n.schema,g=t.context.toastMark,C=er(i),T=C.startFromOffset,S=C.endToOffset,M=C.endIndex,O=C.from,I=C.to,q=Na(l,M);if(O===I&&q.trim()){var z=q.match(/^\s+/),V=g.findFirstNodeAtLine(M+1);if(BQ(V)&&z){var G=z[0],Z=q.slice(I-T),ne=wr(d,G+Z);return pf(o,S,Z,ne),a(o),!0}}return!1}},e.prototype.keymaps=function(){var t=this.commands()();return{"Shift-Mod-p":t,"Shift-Mod-P":t,Enter:this.keepIndentation()}},e}(It),dZ=/\||\s/g;function hZ(r){return[Js(r),Js(r,!0)]}function mZ(r,e){for(var t=[],n=0;n<e;n+=1)t.push(Js(r));return t}function Js(r,e){for(var t="|",n=0;n<r;n+=1)t+=e?" --- |":"  |";return t}function gZ(r){return r?{type:"next",parentType:"tableHead",childType:"firstChild"}:{type:"prev",parentType:"tableBody",childType:"lastChild"}}var yZ=function(r){Pe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"table"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:tr("table")},0]}}},enumerable:!1,configurable:!0}),e.prototype.extendTable=function(){var t=this;return function(n,a){var i=n.selection,o=n.doc,l=n.tr,d=n.schema;if(!i.empty)return!1;var g=er(i),C=g.endFromOffset,T=g.endToOffset,S=g.endIndex,M=g.to,O=Na(o,S),I=[S+1,M-C+1],q=t.context.toastMark.findNodeAtPosition(I),z=$i(q,function(X){return xp(X)&&(X.parent.type==="tableDelimRow"||X.parent.parent.type==="tableBody")});if(z){var V=!O.replace(dZ,"").trim(),G=z.parent,Z=G.parent.parent.columns.length,ne=Js(Z);return V?l.deleteRange(C,T).split(l.mapping.map(T)):l.split(T).insert(l.mapping.map(T),wr(d,ne)).setSelection(Rt(l,l.mapping.map(T)-2)),a(l),!0}return!1}},e.prototype.moveTableCell=function(t){var n=this;return function(a,i){var o=a.selection,l=a.tr,d=er(o),g=d.endFromOffset,C=d.endIndex,T=d.to,S=[C+1,T-g],M=n.context.toastMark.findNodeAtPosition(S),O=$i(M,function(oe){return xp(oe)});if(O){var I=O.parent,q=gZ(t),z=q.type,V=q.parentType,G=q.childType,Z=La(O);if(O[z])Z=La(O[z])-1;else{var ne=!I[z]&&I.parent.type===V?I.parent[z][G]:I[z];if(z==="next"){var X=ne?La(ne[G]):0;Z+=X+2}else z==="prev"&&(Z=ne?-4:0)}return i(l.setSelection(Rt(l,g+Z))),!0}return!1}},e.prototype.addTable=function(){return function(t){return function(n,a){var i=n.selection,o=n.tr,l=n.schema,d=t,g=d.columnCount,C=d.rowCount,T=er(i).endToOffset,S=hZ(g),M=mZ(g,C-1),O=Hr(Hr([],S),M);return O.forEach(function(I){o.split(o.mapping.map(T)).insert(o.mapping.map(T),wr(l,I))}),a(o.setSelection(Rt(o,T+4))),!0}}},e.prototype.commands=function(){return{addTable:this.addTable()}},e.prototype.keymaps=function(){return{Enter:this.extendTable(),Tab:this.moveTableCell(!0),"Shift-Tab":this.moveTableCell(!1)}},e}(It),bZ="***",wZ=function(r){Pe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"thematicBreak"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:tr("thematic-break")},0]}}},enumerable:!1,configurable:!0}),e.prototype.hr=function(){return function(){return function(t,n){var a=t.selection,i=t.schema,o=t.tr,l=er(a),d=l.from,g=l.to,C=l.endToOffset,T=wr(i,bZ);return o.split(d).replaceWith(o.mapping.map(d),o.mapping.map(g),T).split(o.mapping.map(g)).setSelection(Rt(o,o.mapping.map(C))),n(o),!0}}},e.prototype.commands=function(){return{hr:this.hr()}},e.prototype.keymaps=function(){var t=this.hr()();return{"Mod-l":t,"Mod-L":t}},e}(It);function kZ(r,e){var t=r.type,n=r.sourcepos,a=n[0][0];return e<=a&&(t==="codeBlock"||t==="heading"||t.match("table"))}var CZ=function(r){Pe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"listItem"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{odd:{default:!1},even:{default:!1},listStyle:{default:!1}},toDOM:function(t){var n=t.attrs,a=n.odd,i=n.even,o=n.listStyle,l="list-item";return o&&(l+="|list-item-style"),a&&(l+="|list-item-odd"),i&&(l+="|list-item-even"),["span",{class:tr.apply(void 0,l.split("|"))},0]}}},enumerable:!1,configurable:!0}),e.prototype.extendList=function(){var t=this;return function(n,a){var i=n.selection,o=n.doc,l=n.schema,d=n.tr,g=t.context.toastMark,C=er(i),T=C.to,S=C.startFromOffset,M=C.endFromOffset,O=C.endIndex,I=C.endToOffset,q=Na(o,O),z=ui.test(q);if(!z||i.from===S||!i.empty)return!1;var V=!q.replace(Ks,"").trim();if(V)d.deleteRange(M,I).split(d.mapping.map(I));else{var G=Cf(q),Z=g.findFirstNodeAtLine(O+1),ne=q.slice(T-M),X={toastMark:g,mdNode:Z,doc:o,line:O+1},oe=lZ[G](X),ve=oe.listSyntax,ye=oe.changedResults;if(ye!=null&&ye.length){d.split(T),ye.unshift({text:ve+ne,line:O+1}),t.changeToListPerLine(d,ye,{from:T,startLine:ye[0].line,endLine:xr(ye).line});var Me=d.mapping.map(I)-ne.length;d.setSelection(Rt(d,Me))}else{var Ke=wr(l,ve+ne);pf(d,I,ne,Ke)}}return a(d),!0}},e.prototype.toList=function(t){var n=this;return function(){return function(a,i){for(var o=a.doc,l=a.tr,d=a.selection,g=n.context.toastMark,C=er(d),T=C.startIndex+1,S=C.endIndex+1,M=C.endToOffset,O=[],I=T;I<=S;I+=1){var q=g.findFirstNodeAtLine(I);if(q&&kZ(q,I))break;if(O.indexOf(I)===-1){var z={toastMark:g,mdNode:q,doc:o,line:I,startLine:T},V=(oi(q)?oZ[t](z):sZ[t](z)).changedResults,G=n.changeToListPerLine(l,V,{from:Gs(o,V[0].line-1).startOffset,startLine:V[0].line,endLine:xr(V).line,indexDiff:1});M=Math.max(G,M),V&&(O=O.concat(V.map(function(Z){return Z.line})))}}return i(l.setSelection(Rt(l,l.mapping.map(M)))),!0}}},e.prototype.changeToListPerLine=function(t,n,a){for(var i=a.from,o=a.startLine,l=a.endLine,d=a.indexDiff,g=d===void 0?0:d,C=0,T=function(O){var I=t.doc.child(O),q=I.nodeSize,z=I.content,V=t.mapping.map(i),G=V+z.size,Z=n.filter(function(ne){return ne.line-g===O})[0];Z&&(t.replaceWith(V,G,wr(S.context.schema,Z.text)),C=Math.max(C,i+z.size)),i+=q},S=this,M=o-g;M<=l-g;M+=1)T(M);return C},e.prototype.toggleTask=function(){var t=this;return function(n,a){for(var i=n.selection,o=n.tr,l=n.doc,d=n.schema,g=t.context.toastMark,C=er(i),T=C.startIndex,S=C.endIndex,M=null,O=T;O<=S;O+=1){var I=g.findFirstNodeAtLine(O+1);if(oi(I)&&I.listData.task){var q=I.listData,z=q.checked,V=q.padding,G=z?" ":"x",Z=I.sourcepos[0],ne=Gs(l,Z[0]-1).startOffset;ne+=Z[1]+V,M=o.replaceWith(ne,ne+1,d.text(G))}}return M?(a(M),!0):!1}},e.prototype.commands=function(){return{bulletList:this.toList("bullet"),orderedList:this.toList("ordered"),taskList:this.toList("task")}},e.prototype.keymaps=function(){var t=this.toList("bullet")(),n=this.toList("ordered")(),a=this.toList("task")(),i=this.toggleTask();return{"Mod-u":t,"Mod-U":t,"Mod-o":n,"Mod-O":n,"alt-t":a,"alt-T":a,"Shift-Ctrl-x":i,"Shift-Ctrl-X":i,Enter:this.extendList()}},e}(It);function dl(r,e){return function(){return function(t,n){var a=t.tr,i=t.selection,o=un(r)?r:function(G){return r.test(G)},l=e.length,d=a.doc,g=Am(i),C=g[0],T=g[1],S=Math.max(C-l,1),M=Math.min(T+l,d.content.size-1),O=i.content(),I=O.content.textBetween(0,O.content.size,`
`),q=d.textBetween(S,C,`
`),z=d.textBetween(T,M,`
`);if(I=""+q+I+z,q&&z&&o(I))a.delete(M-l,M).delete(S,S+l);else{a.insertText(e,T).insertText(e,C);var V=i.empty?Rt(a,C+l):Rt(a,C+l,T+l);a.setSelection(V)}return n(a),!0}}}var TZ=/^(\*{2}|_{2}).*([\s\S]*)\1$/m,EZ="**",xZ=function(r){Pe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"strong"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:tr("strong")},0]}}},enumerable:!1,configurable:!0}),e.prototype.bold=function(){return dl(TZ,EZ)},e.prototype.commands=function(){return{bold:this.bold()}},e.prototype.keymaps=function(){var t=this.bold()();return{"Mod-b":t,"Mod-B":t}},e}(It),SZ=/^(~{2}).*([\s\S]*)\1$/m,MZ="~~",AZ=function(r){Pe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"strike"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:tr("strike")},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return dl(SZ,MZ)},e.prototype.keymaps=function(){var t=this.commands()();return{"Mod-s":t,"Mod-S":t}},e}(It),LZ=/^(\*|_).*([\s\S]*)\1$/m,DZ="*",OZ=function(r){Pe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"emph"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:tr("emph")},0]}}},enumerable:!1,configurable:!0}),e.prototype.italic=function(){return dl(LZ,DZ)},e.prototype.commands=function(){return{italic:this.italic()}},e.prototype.keymaps=function(){var t=this.italic()();return{"Mod-i":t,"Mod-I":t}},e}(It),NZ=/^(`).*([\s\S]*)\1$/m,RZ="`",IZ=function(r){Pe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"code"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{start:{default:!1},end:{default:!1},marked:{default:!1}},toDOM:function(t){var n=t.attrs,a=n.start,i=n.end,o=n.marked,l="code";return a&&(l+="|delimiter|start"),i&&(l+="|delimiter|end"),o&&(l+="|marked-text"),["span",{class:tr.apply(void 0,l.split("|"))},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return dl(NZ,RZ)},e.prototype.keymaps=function(){var t=this.commands()();return{"Shift-Mod-c":t,"Shift-Mod-C":t}},e}(It),PZ=function(r){Pe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"link"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{url:{default:!1},desc:{default:!1}},toDOM:function(t){var n=t.attrs,a=n.url,i=n.desc,o="link";return a&&(o+="|link-url|marked-text"),i&&(o+="|link-desc|marked-text"),["span",{class:tr.apply(void 0,o.split("|"))},0]}}},enumerable:!1,configurable:!0}),e.prototype.addLinkOrImage=function(t){return function(n){return function(a,i){var o=a.selection,l=a.tr,d=a.schema,g=Am(o),C=g[0],T=g[1],S=n,M=S.linkText,O=S.altText,I=S.linkUrl,q=S.imageUrl,z=M,V=I,G="";return t==="image"&&(z=O,V=q,G="!"),z=Vs(z),G+="["+z+"]("+V+")",i(l.replaceWith(C,T,wr(d,G))),!0}}},e.prototype.commands=function(){return{addImage:this.addLinkOrImage("image"),addLink:this.addLinkOrImage("link")}},e}(It),BZ=function(r){Pe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"taskDelimiter"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:tr("delimiter","list-item")},0]}}},enumerable:!1,configurable:!0}),e}(It),qZ=function(r){Pe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"delimiter"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:tr("delimiter")},0]}}},enumerable:!1,configurable:!0}),e}(It),FZ=function(r){Pe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"meta"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:tr("meta")},0]}}},enumerable:!1,configurable:!0}),e}(It),HZ=function(r){Pe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"markedText"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:tr("marked-text")},0]}}},enumerable:!1,configurable:!0}),e}(It),_Z=function(r){Pe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableCell"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:tr("table-cell")},0]}}},enumerable:!1,configurable:!0}),e}(It),zZ=function(r){Pe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"html"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:tr("html")},0]}}},enumerable:!1,configurable:!0}),e}(It),rc="$$",$Z=function(r){Pe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"customBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:tr("custom-block")},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(t){return function(n,a){var i=n.selection,o=n.schema,l=n.tr,d=er(i),g=d.startFromOffset,C=d.endToOffset;if(!(t!=null&&t.info))return!1;var T=""+rc+t.info,S=wr(o,T),M=wr(o,rc);return l.insert(g,S).split(g+T.length),l.split(l.mapping.map(C)).insert(l.mapping.map(C),M),a(l.setSelection(Rt(l,l.mapping.map(C)-(rc.length+2)))),!0}}},e}(It),VZ=/x|backspace/i,UZ=/^\[(\s*)(x?)(\s*)\](?:\s+)/i;function jZ(r){var e=r.schema,t=r.toastMark;return new We.Plugin({props:{handleDOMEvents:{keyup:function(n,a){var i,o=n.state,l=o.doc,d=o.tr,g=o.selection;if(g.empty&&VZ.test(a.key)){var C=er(g),T=C.startIndex,S=C.startFromOffset,M=C.from,O=[T+1,M-S+1],I=t.findNodeAtPosition(O),q=$i(I,function(Ke){var Oe;return Ke.type==="paragraph"&&((Oe=Ke.parent)===null||Oe===void 0?void 0:Oe.type)==="item"});if(!((i=q==null?void 0:q.firstChild)===null||i===void 0)&&i.literal){var z=q.firstChild,V=z.literal.match(UZ);if(V){var G=z.sourcepos[0],Z=V[1],ne=V[2],X=V[3],oe=Z.length+X.length,ve=Gs(l,G[0]-1).startOffset,ye=G[1]+ve;if(ne){var Me=oe?oe+1:0;d.replaceWith(ye,Me+ye,e.text(ne)),n.dispatch(d)}else oe||(d.insertText(" ",ye),n.dispatch(d))}}}return!1}}}})}var nc="cut",Fp=/\r\n|\n|\r/,WZ=function(r){Pe(e,r);function e(t,n){var a=r.call(this,t)||this,i=n.toastMark,o=n.useCommandShortcut,l=o===void 0?!0:o,d=n.mdPlugins,g=d===void 0?[]:d;return a.editorType="markdown",a.el.classList.add("md-mode"),a.toastMark=i,a.extraPlugins=g,a.specs=a.createSpecs(),a.schema=a.createSchema(),a.context=a.createContext(),a.keymaps=a.createKeymaps(l),a.view=a.createView(),a.commands=a.createCommands(),a.specs.setContext(ce(ce({},a.context),{view:a.view})),a.createClipboard(),a.eventEmitter.listen("changePreviewTabWrite",function(C){return a.toggleActive(!0,C)}),a.eventEmitter.listen("changePreviewTabPreview",function(){return a.toggleActive(!1)}),a.initEvent(),a}return e.prototype.toggleActive=function(t,n){hf(this.el,"active",t),t?n||this.focus():this.blur()},e.prototype.createClipboard=function(){var t=this;this.clipboard=document.createElement("textarea"),this.clipboard.className=Fe("pseudo-clipboard"),this.clipboard.addEventListener("paste",function(n){var a=n.clipboardData||window.clipboardData,i=a&&a.items;if(i){var o=jn(i).some(function(d){return d.kind==="string"&&d.type==="text/rtf"});if(!o){var l=Tm(i);l&&(n.preventDefault(),bf(t.eventEmitter,l,n.type))}}}),this.clipboard.addEventListener("input",function(n){var a=n.target.value;t.replaceSelection(a),n.preventDefault(),n.target.value=""}),this.el.insertBefore(this.clipboard,this.view.dom)},e.prototype.createContext=function(){return{toastMark:this.toastMark,schema:this.schema,eventEmitter:this.eventEmitter}},e.prototype.createSpecs=function(){return new Mm([new ZX,new uZ,new xm,new cZ,new vZ,new YX,new pZ,new $Z,new yZ,new _Z,new wZ,new CZ,new xZ,new AZ,new OZ,new IZ,new PZ,new qZ,new BZ,new HZ,new FZ,new zZ])},e.prototype.createPlugins=function(){return Hr([_X(this.context),XX(this.context),jZ(this.context)],this.createPluginProps()).concat(this.defaultPlugins)},e.prototype.createView=function(){var t=this;return new pa.EditorView(this.el,{state:this.createState(),dispatchTransaction:function(n){t.updateMarkdown(n);var a=t.view.state.applyTransaction(n).state;t.view.updateState(a),t.emitChangeEvent(n)},handleKeyDown:function(n,a){return(a.metaKey||a.ctrlKey)&&a.key.toUpperCase()==="V"&&t.clipboard.focus(),t.eventEmitter.emit("keydown",t.editorType,a),!1},handleDOMEvents:{copy:function(n,a){return t.captureCopy(a)},cut:function(n,a){return t.captureCopy(a,nc)},scroll:function(){return t.eventEmitter.emit("scroll","editor"),!0},keyup:function(n,a){return t.eventEmitter.emit("keyup",t.editorType,a),!1}},nodeViews:{widget:Em}})},e.prototype.createCommands=function(){return this.specs.commands(this.view)},e.prototype.captureCopy=function(t,n){t.preventDefault();var a=this.view.state,i=a.selection,o=a.tr;if(i.empty)return!0;var l=this.getChanged(i.content());return t.clipboardData?t.clipboardData.setData("text/plain",l):window.clipboardData.setData("Text",l),n===nc&&this.view.dispatch(o.deleteSelection().scrollIntoView().setMeta("uiEvent",nc)),!0},e.prototype.updateMarkdown=function(t){var n=this;t.docChanged&&t.steps.forEach(function(a,i){if(a.slice&&!(a instanceof ur)){var o=t.docs[i],l=[a.from,a.to],d=l[0],g=l[1],C=Ns(o,d,g),T=C[0],S=C[1],M=n.getChanged(a.slice);T[0]===S[0]&&T[1]===S[1]&&M===""&&(M=`
`);var O=n.toastMark.editMarkdown(T,S,M);n.eventEmitter.emit("updatePreview",O),t.setMeta("editResult",O).scrollIntoView()}})},e.prototype.getChanged=function(t){var n="",a=0,i=t.content.size;return t.content.nodesBetween(a,i,function(o,l){o.isText?n+=o.text.slice(Math.max(a,l)-l,i-l):o.isBlock&&l>0&&(n+=`
`)}),n},e.prototype.setSelection=function(t,n){n===void 0&&(n=t);var a=this.view.state.tr,i=ei(a.doc,t,n),o=i[0],l=i[1];this.view.dispatch(a.setSelection(Rt(a,o,l)).scrollIntoView())},e.prototype.replaceSelection=function(t,n,a){var i,o=this.view.state,l=o.tr,d=o.schema,g=o.doc,C=t.split(Fp),T=C.map(function(q){return js(d,ni(q,d))}),S=new pe.Slice(pe.Fragment.from(T),1,1);if(this.focus(),n&&a){var M=ei(g,n,a),O=M[0],I=M[1];i=l.replaceRange(O,I,S)}else i=l.replaceSelection(S);this.view.dispatch(i.scrollIntoView())},e.prototype.deleteSelection=function(t,n){var a,i=this.view.state,o=i.tr,l=i.doc;if(t&&n){var d=ei(l,t,n),g=d[0],C=d[1];a=o.deleteRange(g,C)}else a=o.deleteSelection();this.view.dispatch(a.scrollIntoView())},e.prototype.getSelectedText=function(t,n){var a=this.view.state,i=a.doc,o=a.selection,l=o.from,d=o.to;if(t&&n){var g=ei(i,t,n);l=g[0],d=g[1]}return i.textBetween(l,d,`
`)},e.prototype.getSelection=function(){var t=this.view.state.selection,n=t.from,a=t.to;return Ns(this.view.state.tr.doc,n,a)},e.prototype.setMarkdown=function(t,n){n===void 0&&(n=!0);var a=t.split(Fp),i=this.view.state,o=i.tr,l=i.doc,d=i.schema,g=a.map(function(C){return js(d,ni(C,d))});this.view.dispatch(o.replaceWith(0,l.content.size,g)),n&&this.moveCursorToEnd(!0)},e.prototype.addWidget=function(t,n,a){var i=this.view.state,o=i.tr,l=i.doc,d=i.selection,g=a?ei(l,a,a)[0]:d.to;this.view.dispatch(o.setMeta("widget",{pos:g,node:t,style:n}))},e.prototype.replaceWithWidget=function(t,n,a){var i=this.view.state,o=i.tr,l=i.schema,d=i.doc,g=ei(d,t,n),C=ni(a,l);this.view.dispatch(o.replaceWith(g[0],g[1],C))},e.prototype.getRangeInfoOfNode=function(t){var n=this.view.state,a=n.doc,i=n.selection,o=t||Ns(a,i.from)[0],l=this.toastMark.findNodeAtPosition(o);return l.type==="text"&&l.parent.type!=="paragraph"&&(l=l.parent),l.sourcepos[1][1]+=1,{range:l.sourcepos,type:l.type}},e.prototype.getMarkdown=function(){return this.toastMark.getLineTexts().map(function(t){return fl(t)}).join(`
`)},e.prototype.getToastMark=function(){return this.toastMark},e}(Sm),Hp="_feEventKey";function GZ(r,e){var t=r[Hp],n;return t||(t=r[Hp]={}),n=t[e],n||(n=t[e]=[]),n}var Pm=GZ,KZ=ha,Qs=ll,JZ=Pm;function QZ(r,e,t){if(KZ(e)){Qs(e.split(/\s+/g),function(n){_p(r,n,t)});return}Qs(e,function(n,a){_p(r,a,n)})}function _p(r,e,t){var n=JZ(r,e),a;t?(Qs(n,function(i,o){return t===i.handler?(zp(r,e,i.wrappedHandler),a=o,!1):!0}),n.splice(a,1)):(Qs(n,function(i){zp(r,e,i.wrappedHandler)}),n.splice(0,n.length))}function zp(r,e,t){"removeEventListener"in r?r.removeEventListener(e,t):"detachEvent"in r&&r.detachEvent("on"+e,t)}var Bm=QZ,XZ=ha,Mc=ll,ZZ=Pm;function YZ(r,e,t,n){if(XZ(e)){Mc(e.split(/\s+/g),function(a){$p(r,a,t,n)});return}Mc(e,function(a,i){$p(r,i,a,t)})}function $p(r,e,t,n){function a(i){t.call(n||r,i||window.event)}"addEventListener"in r?r.addEventListener(e,a):"attachEvent"in r&&r.attachEvent("on"+e,a),eY(r,e,t,a)}function eY(r,e,t,n){var a=ZZ(r,e),i=!1;Mc(a,function(o){return o.handler===t?(i=!0,!1):!0}),i||a.push({handler:t,wrappedHandler:n})}var qm=YZ;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ac=function(r,e){return Ac=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},Ac(r,e)};function cn(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Ac(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var br=function(){return br=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},br.apply(this,arguments)};function Lc(r,e,t){if(arguments.length===2)for(var n=0,a=e.length,i;n<a;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return r.concat(i||Array.prototype.slice.call(e))}var ji=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Vp={};function tY(r){var e,t,n=Vp[r];if(n)return n;for(n=Vp[r]=[],e=0;e<128;e++)t=String.fromCharCode(e),/^[0-9a-z]$/i.test(t)?n.push(t):n.push("%"+("0"+e.toString(16).toUpperCase()).slice(-2));for(e=0;e<r.length;e++)n[r.charCodeAt(e)]=r[e];return n}function hl(r,e,t){var n,a,i,o,l,d="";for(typeof e!="string"&&(t=e,e=hl.defaultChars),typeof t>"u"&&(t=!0),l=tY(e),n=0,a=r.length;n<a;n++){if(i=r.charCodeAt(n),t&&i===37&&n+2<a&&/^[0-9a-f]{2}$/i.test(r.slice(n+1,n+3))){d+=r.slice(n,n+3),n+=2;continue}if(i<128){d+=l[i];continue}if(i>=55296&&i<=57343){if(i>=55296&&i<=56319&&n+1<a&&(o=r.charCodeAt(n+1),o>=56320&&o<=57343)){d+=encodeURIComponent(r[n]+r[n+1]),n++;continue}d+="%EF%BF%BD";continue}d+=encodeURIComponent(r[n])}return d}hl.defaultChars=";/?:@&=+$,-_.!~*'()#";hl.componentChars="-_.!~*'()";var rY=hl,Ef={},va={},nY="",aY="",iY="",oY="",sY="",lY="",uY="",cY="",fY="",vY="",pY="",dY="",hY="",mY="",gY="",yY="",bY="",wY="",kY="",CY="",TY="",EY="",xY="",SY="",MY="",AY="",LY="&",DY="&",OY="",NY="",RY="",IY="",PY="",BY="",qY="",FY="",HY="",_Y="",zY="",$Y="",VY="",UY="",jY="",WY="",GY="",KY="",JY="",QY="",XY="",ZY="",YY="",eee="",tee="",ree="",nee="",aee="",iee="",oee="",see="",lee="",uee="",cee="'",fee="",vee="",pee="",dee="",hee="",mee="",gee="",yee="",bee="*",wee="",kee="",Cee="",Tee="",Eee="",xee="",See="",Mee="",Aee="",Lee="",Dee="",Oee="",Nee="",Ree="",Iee="",Pee="",Bee="",qee="",Fee="",Hee="",_ee="",zee="",$ee="",Vee="",Uee="",jee="",Wee="",Gee="",Kee="",Jee="",Qee="",Xee="",Zee="",Yee="",ete="",tte="",rte="",nte="",ate="",ite="",ote="",ste="",lte="",ute="",cte="",fte="",vte="",pte="",dte="",hte="",mte="",gte="",yte="",bte="",wte="",kte="",Cte="",Tte="",Ete="",xte="",Ste="",Mte="",Ate="",Lte="=",Dte="",Ote="",Nte="",Rte="",Ite="",Pte="",Bte="",qte="",Fte="",Hte="",_te="",zte="",$te="",Vte="",Ute="",jte="",Wte="",Gte="",Kte="",Jte="",Qte="",Xte="",Zte="",Yte="",ere="",tre="",rre="",nre="",are="",ire="",ore="",sre="",lre="",ure="",cre="",fre="",vre="",pre="",dre="",hre="",mre="",gre="",yre="",bre="",wre="",kre="",Cre="",Tre="",Ere="",xre="",Sre="",Mre="",Are="",Lre="",Dre="",Ore="",Nre="",Rre="",Ire="",Pre="",Bre="",qre="",Fre="\\",Hre="",_re="",zre="",$re="",Vre="",Ure="",jre="",Wre="",Gre="",Kre="",Jre="",Qre="",Xre="",Zre="",Yre="",ene="",tne="",rne="",nne="",ane="",ine="",one="",sne="",lne="",une="",cne="",fne="",vne="",pne="",dne="",hne="",mne="",gne="",yne="",bne="",wne="",kne="",Cne="",Tne="",Ene="",xne="",Sne="",Mne="",Ane="",Lne="",Dne="",One="",Nne="",Rne="",Ine="",Pne="",Bne="",qne="",Fne="",Hne="",_ne="",zne="",$ne="",Vne="",Une="",jne="",Wne="",Gne="",Kne="",Jne="",Qne="",Xne="",Zne="",Yne="",eae="",tae="",rae="",nae=":",aae="",iae="",oae="",sae="",lae=",",uae="@",cae="",fae="",vae="",pae="",dae="",hae="",mae="",gae="",yae="",bae="",wae="",kae="",Cae="",Tae="",Eae="",xae="",Sae="",Mae="",Aae="",Lae="",Dae="",Oae="",Nae="",Rae="",Iae="",Pae="",Bae="",qae="",Fae="",Hae="",_ae="",zae="",$ae="",Vae="",Uae="",jae="",Wae="",Gae="",Kae="",Jae="",Qae="",Xae="",Zae="",Yae="",eie="",tie="",rie="",nie="",aie="",iie="",oie="",sie="",lie="",uie="",cie="",fie="",vie="",pie="",die="",hie="",mie="",gie="",yie="",bie="",wie="",kie="",Cie="",Tie="",Eie="",xie="",Sie="",Mie="",Aie="",Lie="",Die="",Oie="",Nie="",Rie="",Iie="",Pie="",Bie="",qie="",Fie="",Hie="",_ie="",zie="",$ie="",Vie="",Uie="",jie="",Wie="",Gie="",Kie="`",Jie="",Qie="",Xie="",Zie="",Yie="",eoe="",toe="",roe="",noe="",aoe="",ioe="",ooe="",soe="",loe="",uoe="",coe="",foe="",voe="",poe="$",doe="",hoe="",moe="",goe="",yoe="",boe="",woe="",koe="",Coe="",Toe="",Eoe="",xoe="",Soe="",Moe="",Aoe="",Loe="",Doe="",Ooe="",Noe="",Roe="",Ioe="",Poe="",Boe="",qoe="",Foe="",Hoe="",_oe="",zoe="",$oe="",Voe="",Uoe="",joe="",Woe="",Goe="",Koe="",Joe="",Qoe="",Xoe="",Zoe="",Yoe="",ese="",tse="",rse="",nse="",ase="",ise="",ose="",sse="",lse="",use="",cse="",fse="",vse="",pse="",dse="",hse="",mse="",gse="",yse="",bse="",wse="",kse="",Cse="",Tse="",Ese="",xse="",Sse="",Mse="",Ase="",Lse="",Dse="",Ose="",Nse="",Rse="",Ise="",Pse="",Bse="",qse="",Fse="",Hse="",_se="",zse="",$se="",Vse="",Use="",jse="",Wse="",Gse="",Kse="",Jse="",Qse="",Xse="",Zse="",Yse="",ele="",tle="",rle="",nle="",ale="",ile="",ole="",sle="",lle="",ule="",cle="",fle="",vle="",ple="",dle="",hle="",mle="",gle="",yle="",ble="",wle="",kle="",Cle="",Tle="",Ele="",xle="",Sle="",Mle="",Ale="",Lle="=",Dle="",Ole="",Nle="",Rle="",Ile="",Ple="",Ble="",qle="",Fle="",Hle="",_le="",zle="",$le="",Vle="",Ule="",jle="",Wle="",Gle="",Kle="",Jle="",Qle="!",Xle="",Zle="",Yle="",eue="",tue="",rue="",nue="",aue="",iue="",oue="",sue="",lue="",uue="",cue="",fue="",vue="",pue="",due="fj",hue="",mue="",gue="",yue="",bue="",wue="",kue="",Cue="",Tue="",Eue="",xue="",Sue="",Mue="",Aue="",Lue="",Due="",Oue="",Nue="",Rue="",Iue="",Pue="",Bue="",que="",Fue="",Hue="",_ue="",zue="",$ue="",Vue="",Uue="",jue="",Wue="",Gue="",Kue="",Jue="",Que="",Xue="",Zue="",Yue="",ece="",tce="",rce="",nce="",ace="",ice="",oce="",sce="",lce="",uce="",cce="",fce="",vce="",pce="",dce="",hce="",mce="",gce="",yce="",bce="",wce="",kce="",Cce="",Tce="",Ece="",xce="",Sce="",Mce="",Ace="",Lce="",Dce="",Oce="",Nce="",Rce="",Ice="",Pce="",Bce="",qce="",Fce="",Hce="",_ce="",zce="",$ce="`",Vce="",Uce="",jce="",Wce="",Gce="",Kce="",Jce="",Qce="",Xce="",Zce="",Yce="",efe="",tfe="",rfe="",nfe=">",afe=">",ife="",ofe="",sfe="",lfe="",ufe="",cfe="",ffe="",vfe="",pfe="",dfe="",hfe="",mfe="",gfe="",yfe="",bfe="",wfe="",kfe="",Cfe="",Tfe="",Efe="",xfe="",Sfe="",Mfe="",Afe="^",Lfe="",Dfe="",Ofe="",Nfe="",Rfe="",Ife="",Pfe="",Bfe="",qfe="",Ffe="",Hfe="",_fe="",zfe="",$fe="",Vfe="",Ufe="",jfe="",Wfe="",Gfe="",Kfe="",Jfe="",Qfe="",Xfe="",Zfe="",Yfe="",eve="",tve="",rve="",nve="",ave="",ive="",ove="",sve="",lve="",uve="",cve="",fve="",vve="",pve="",dve="",hve="",mve="",gve="",yve="",bve="",wve="",kve="",Cve="",Tve="",Eve="",xve="",Sve="",Mve="",Ave="",Lve="",Dve="",Ove="",Nve="",Rve="",Ive="",Pve="",Bve="",qve="",Fve="",Hve="",_ve="",zve="",$ve="",Vve="",Uve="",jve="",Wve="",Gve="",Kve="",Jve="",Qve="",Xve="",Zve="",Yve="",epe="",tpe="",rpe="",npe="",ape="",ipe="",ope="",spe="",lpe="",upe="",cpe="",fpe="",vpe="",ppe="",dpe="",hpe="",mpe="",gpe="",ype="",bpe="",wpe="",kpe="",Cpe="",Tpe="",Epe="",xpe="",Spe="",Mpe="",Ape="",Lpe="",Dpe="",Ope="",Npe="",Rpe="",Ipe="",Ppe="",Bpe="",qpe="",Fpe="",Hpe="",_pe="",zpe="",$pe="",Vpe="",Upe="",jpe="",Wpe="",Gpe="",Kpe="",Jpe="",Qpe="",Xpe="",Zpe="",Ype="",ede="",tde="",rde="",nde="",ade="",ide="",ode="",sde="",lde="",ude="",cde="",fde="",vde="",pde="",dde="",hde="",mde="",gde="",yde="",bde="",wde="",kde="",Cde="",Tde="",Ede="",xde="",Sde="",Mde="",Ade="",Lde="",Dde="",Ode="",Nde="",Rde="",Ide="",Pde="",Bde="{",qde="[",Fde="",Hde="",_de="",zde="",$de="",Vde="",Ude="",jde="",Wde="{",Gde="",Kde="",Jde="",Qde="",Xde="",Zde="",Yde="",ehe="",the="",rhe="",nhe="",ahe="",ihe="",ohe="",she="",lhe="",uhe="",che="",fhe="",vhe="",phe="",dhe="",hhe="",mhe="",ghe="",yhe="",bhe="",whe="",khe="",Che="",The="",Ehe="",xhe="",She="",Mhe="",Ahe="",Lhe="",Dhe="",Ohe="",Nhe="",Rhe="",Ihe="",Phe="",Bhe="",qhe="",Fhe="",Hhe="",_he="",zhe="",$he="",Vhe="",Uhe="",jhe="",Whe="",Ghe="",Khe="",Jhe="",Qhe="",Xhe="",Zhe="",Yhe="",eme="",tme="",rme="",nme="",ame="",ime="",ome="",sme="",lme="",ume="",cme="",fme="",vme="",pme="",dme="",hme="",mme="",gme="",yme="",bme="",wme="",kme="",Cme="",Tme="",Eme="",xme="",Sme="",Mme="",Ame="",Lme="",Dme="",Ome="",Nme="",Rme="",Ime="",Pme="",Bme="",qme="",Fme="",Hme="",_me="",zme="",$me="",Vme="",Ume="",jme="",Wme="",Gme="",Kme="",Jme="",Qme="",Xme="",Zme="",Yme="",ege="",tge="",rge="",nge="",age="",ige="",oge="",sge="_",lge="",uge="",cge="",fge="",vge="",pge="(",dge="",hge="",mge="",gge="",yge="",bge="",wge="",kge="",Cge="",Tge="",Ege="",xge="",Sge="",Mge="",Age="",Lge="[",Dge="",Oge="",Nge="",Rge="",Ige="",Pge="",Bge="<",qge="<",Fge="",Hge="",_ge="",zge="",$ge="",Vge="",Uge="",jge="",Wge="",Gge="",Kge="",Jge="",Qge="",Xge="",Zge="",Yge="",eye="",tye="",rye="",nye="",aye="",iye="",oye="",sye="",lye="",uye="",cye="",fye="",vye="",pye="",dye="",hye="",mye="",gye="",yye="",bye="",wye="*",kye="",Cye="",Tye="",Eye="",xye="",Sye="",Mye="",Aye="",Lye="",Dye="",Oye="",Nye="",Rye="",Iye="",Pye="",Bye="",qye="",Fye="",Hye="",_ye="",zye="",$ye="",Vye="",Uye="",jye="",Wye="",Gye="",Kye="",Jye="",Qye="",Xye="",Zye="",Yye="",ebe="",tbe="",rbe="",nbe="",abe="",ibe="",obe="",sbe="",lbe="",ube="",cbe="",fbe="",vbe="",pbe="",dbe="",hbe="",mbe="",gbe="",ybe="",bbe="",wbe="",kbe="",Cbe="",Tbe="",Ebe="",xbe="",Sbe="",Mbe="",Abe="",Lbe="",Dbe=`
`,Obe="",Nbe="",Rbe="",Ibe="",Pbe="",Bbe="",qbe="",Fbe="",Hbe="",_be="",zbe="",$be="",Vbe="",Ube="",jbe="",Wbe="",Gbe="",Kbe="",Jbe="",Qbe="",Xbe="",Zbe="",Ybe="",ewe="",twe="",rwe="",nwe="",awe="",iwe="",owe="",swe="",lwe="",uwe="",cwe="",fwe="",vwe="",pwe="",dwe="",hwe="",mwe="",gwe="",ywe="",bwe="",wwe="",kwe="",Cwe="",Twe="",Ewe="",xwe="",Swe="",Mwe="",Awe="",Lwe="",Dwe="",Owe="",Nwe="",Rwe="",Iwe="",Pwe="",Bwe="",qwe="",Fwe="",Hwe="",_we="",zwe="",$we="",Vwe="",Uwe="",jwe="",Wwe="",Gwe="",Kwe="",Jwe="",Qwe="",Xwe="",Zwe="",Ywe="",eke="",tke="",rke="",nke="",ake="",ike="",oke="",ske="",lke="",uke="",cke="",fke="",vke="",pke="",dke="",hke="",mke="",gke="",yke="",bke="",wke="",kke="",Cke="",Tke="",Eke="",xke="",Ske="",Mke="",Ake="",Lke="",Dke="",Oke="",Nke="",Rke="",Ike="",Pke="",Bke="",qke="",Fke="",Hke="",_ke="",zke="",$ke="",Vke="",Uke="",jke="",Wke="",Gke="",Kke="",Jke="",Qke="",Xke="",Zke="",Yke="",eCe="",tCe="",rCe="",nCe="",aCe="",iCe="",oCe="",sCe="",lCe="",uCe="",cCe="",fCe="",vCe="",pCe="",dCe="",hCe="",mCe="",gCe="",yCe="",bCe="",wCe="",kCe="",CCe="",TCe="",ECe="",xCe="",SCe="",MCe="",ACe="",LCe="",DCe="",OCe="",NCe="",RCe="",ICe="",PCe="",BCe="",qCe="",FCe="",HCe="#",_Ce="",zCe="",$Ce="",VCe="",UCe="",jCe="",WCe="",GCe="",KCe=">",JCe="",QCe="",XCe="",ZCe="",YCe="<",e0e="",t0e="",r0e="",n0e="",a0e="",i0e="",o0e="",s0e="",l0e="",u0e="",c0e="",f0e="",v0e="",p0e="",d0e="",h0e="",m0e="",g0e="",y0e="",b0e="",w0e="",k0e="",C0e="",T0e="",E0e="",x0e="",S0e="",M0e="",A0e="",L0e="",D0e="",O0e="",N0e="",R0e="",I0e="",P0e="",B0e="",q0e="",F0e="",H0e="",_0e="",z0e="",$0e="",V0e="",U0e="",j0e="",W0e="",G0e="",K0e="",J0e="",Q0e="",X0e="",Z0e="",Y0e="",eTe="",tTe="",rTe="",nTe="",aTe="",iTe="",oTe="",sTe="",lTe="",uTe="",cTe="",fTe="",vTe="",pTe="",dTe="",hTe="",mTe="",gTe="",yTe="",bTe="",wTe="",kTe="",CTe="",TTe="",ETe="",xTe="",STe="",MTe="",ATe="",LTe="",DTe="",OTe="",NTe="",RTe="",ITe="",PTe="",BTe="",qTe="",FTe="",HTe="",_Te="%",zTe=".",$Te="",VTe="",UTe="",jTe="",WTe="",GTe="",KTe="",JTe="",QTe="",XTe="",ZTe="",YTe="",e1e="",t1e="",r1e="",n1e="",a1e="",i1e="",o1e="",s1e="",l1e="+",u1e="",c1e="",f1e="",v1e="",p1e="",d1e="",h1e="",m1e="",g1e="",y1e="",b1e="",w1e="",k1e="",C1e="",T1e="",E1e="",x1e="",S1e="",M1e="",A1e="",L1e="",D1e="",O1e="",N1e="",R1e="",I1e="",P1e="",B1e="",q1e="",F1e="",H1e="",_1e="",z1e="",$1e="",V1e="",U1e="",j1e="",W1e="",G1e="",K1e="",J1e="",Q1e="",X1e="",Z1e="",Y1e="",eEe="",tEe="",rEe="",nEe="",aEe="",iEe="",oEe="",sEe="",lEe="",uEe="",cEe="",fEe="",vEe="",pEe="",dEe="",hEe="",mEe="",gEe="",yEe="?",bEe="",wEe='"',kEe='"',CEe="",TEe="",EEe="",xEe="",SEe="",MEe="",AEe="",LEe="",DEe="",OEe="",NEe="",REe="",IEe="",PEe="",BEe="",qEe="",FEe="",HEe="",_Ee="",zEe="",$Ee="",VEe="",UEe="",jEe="",WEe="",GEe="",KEe="",JEe="",QEe="",XEe="",ZEe="",YEe="",exe="",txe="",rxe="",nxe="}",axe="]",ixe="",oxe="",sxe="",lxe="",uxe="",cxe="",fxe="",vxe="",pxe="}",dxe="",hxe="",mxe="",gxe="",yxe="",bxe="",wxe="",kxe="",Cxe="",Txe="",Exe="",xxe="",Sxe="",Mxe="",Axe="",Lxe="",Dxe="",Oxe="",Nxe="",Rxe="",Ixe="",Pxe="",Bxe="",qxe="",Fxe="",Hxe="",_xe="",zxe="",$xe="",Vxe="",Uxe="",jxe="",Wxe="",Gxe="",Kxe="",Jxe="",Qxe="",Xxe="",Zxe="",Yxe="",eSe="",tSe="",rSe="",nSe="",aSe="",iSe="",oSe="",sSe="",lSe="",uSe="",cSe="",fSe="",vSe="",pSe="",dSe="",hSe="",mSe="",gSe="",ySe="",bSe="",wSe="",kSe="",CSe="",TSe="",ESe="",xSe="",SSe="",MSe="",ASe="",LSe="",DSe="",OSe="",NSe="",RSe="",ISe="",PSe="",BSe="",qSe="",FSe=")",HSe="",_Se="",zSe="",$Se="",VSe="",USe="",jSe="",WSe="",GSe="",KSe="]",JSe="",QSe="",XSe="",ZSe="",YSe="",eMe="",tMe="",rMe="",nMe="",aMe="",iMe="",oMe="",sMe="",lMe="",uMe="",cMe="",fMe="",vMe="",pMe="",dMe="",hMe="",mMe="",gMe="",yMe="",bMe="",wMe="",kMe="",CMe="",TMe="",EMe="",xMe="",SMe="",MMe="",AMe="",LMe="",DMe="",OMe="",NMe="",RMe="",IMe="",PMe="",BMe=";",qMe="",FMe="",HMe="",_Me="",zMe="",$Me="",VMe="",UMe="",jMe="",WMe="",GMe="",KMe="",JMe="",QMe="",XMe="",ZMe="",YMe="",eAe="",tAe="",rAe="",nAe="",aAe="",iAe="",oAe="",sAe="",lAe="",uAe="",cAe="",fAe="",vAe="",pAe="",dAe="",hAe="",mAe="",gAe="",yAe="",bAe="",wAe="",kAe="",CAe="",TAe="",EAe="",xAe="",SAe="",MAe="",AAe="",LAe="",DAe="",OAe="/",NAe="",RAe="",IAe="",PAe="",BAe="",qAe="",FAe="",HAe="",_Ae="",zAe="",$Ae="",VAe="",UAe="",jAe="",WAe="",GAe="",KAe="",JAe="",QAe="",XAe="",ZAe="",YAe="",eLe="",tLe="",rLe="",nLe="",aLe="",iLe="",oLe="",sLe="",lLe="",uLe="",cLe="",fLe="",vLe="",pLe="",dLe="",hLe="",mLe="",gLe="",yLe="",bLe="",wLe="",kLe="",CLe="",TLe="",ELe="",xLe="",SLe="",MLe="",ALe="",LLe="",DLe="",OLe="",NLe="",RLe="",ILe="",PLe="",BLe="",qLe="",FLe="",HLe="",_Le="",zLe="",$Le="",VLe="",ULe="",jLe="",WLe="",GLe="",KLe="",JLe="",QLe="",XLe="",ZLe="",YLe="",eDe="",tDe="",rDe="",nDe="",aDe="",iDe="",oDe="",sDe="",lDe="",uDe="",cDe="",fDe="",vDe="",pDe="",dDe="",hDe="",mDe="",gDe="",yDe="",bDe="",wDe="",kDe="",CDe="",TDe="",EDe="",xDe="",SDe="",MDe="",ADe="",LDe="",DDe="",ODe="",NDe="",RDe="",IDe="",PDe="",BDe="	",qDe="",FDe="",HDe="",_De="",zDe="",$De="",VDe="",UDe="",jDe="",WDe="",GDe="",KDe="",JDe="",QDe="",XDe="",ZDe="",YDe="",eOe="",tOe="",rOe="",nOe="",aOe="",iOe="",oOe="",sOe="",lOe="",uOe="",cOe="",fOe="",vOe="",pOe="",dOe="",hOe="",mOe="",gOe="",yOe="",bOe="",wOe="",kOe="",COe="",TOe="",EOe="",xOe="",SOe="",MOe="",AOe="",LOe="",DOe="",OOe="",NOe="",ROe="",IOe="",POe="",BOe="",qOe="",FOe="",HOe="",_Oe="",zOe="",$Oe="",VOe="",UOe="",jOe="",WOe="",GOe="",KOe="",JOe="",QOe="",XOe="",ZOe="",YOe="",eNe="",tNe="",rNe="",nNe="",aNe="",iNe="",oNe="",sNe="",lNe="",uNe="",cNe="",fNe="",vNe="",pNe="",dNe="",hNe="",mNe="",gNe="",yNe="",bNe="",wNe="",kNe="",CNe="",TNe="",ENe="",xNe="",SNe="",MNe="",ANe="",LNe="",DNe="",ONe="",NNe="",RNe="",INe="",PNe="",BNe="",qNe="",FNe="",HNe="",_Ne="_",zNe="",$Ne="",VNe="",UNe="",jNe="",WNe="",GNe="",KNe="",JNe="",QNe="",XNe="",ZNe="",YNe="",eRe="",tRe="",rRe="",nRe="",aRe="",iRe="",oRe="",sRe="",lRe="",uRe="",cRe="",fRe="",vRe="",pRe="",dRe="",hRe="",mRe="",gRe="",yRe="",bRe="",wRe="",kRe="",CRe="",TRe="",ERe="",xRe="",SRe="",MRe="",ARe="",LRe="",DRe="",ORe="",NRe="",RRe="",IRe="",PRe="",BRe="",qRe="",FRe="",HRe="",_Re="",zRe="",$Re="",VRe="",URe="",jRe="",WRe="",GRe="",KRe="",JRe="",QRe="",XRe="",ZRe="",YRe="",eIe="",tIe="",rIe="",nIe="",aIe="",iIe="",oIe="",sIe="",lIe="",uIe="",cIe="",fIe="",vIe="",pIe="",dIe="|",hIe="",mIe="|",gIe="",yIe="",bIe="|",wIe="",kIe="",CIe="",TIe="",EIe="",xIe="",SIe="",MIe="",AIe="",LIe="",DIe="",OIe="",NIe="",RIe="",IIe="",PIe="",BIe="",qIe="",FIe="",HIe="",_Ie="",zIe="",$Ie="",VIe="",UIe="",jIe="",WIe="",GIe="",KIe="",JIe="",QIe="",XIe="",ZIe="",YIe="",ePe="",tPe="",rPe="",nPe="",aPe="",iPe="",oPe="",sPe="",lPe="",uPe="",cPe="",fPe="",vPe="",pPe="",dPe="",hPe="",mPe="",gPe="",yPe="",bPe="",wPe="",kPe="",CPe="",TPe="",EPe="",xPe="",SPe="",MPe="",APe="",LPe="",DPe="",OPe="",NPe="",RPe="",IPe="",PPe="",BPe="",qPe="",FPe="",HPe="",_Pe="",zPe="",$Pe="",VPe="",UPe="",jPe="",WPe="",GPe="",KPe="",JPe="",QPe="",XPe="",ZPe="",YPe="",eBe="",tBe="",rBe="",nBe="",aBe="",iBe="",oBe="",sBe="",lBe="",uBe="",cBe="",fBe="",vBe="",pBe="",dBe="",hBe="",mBe="",gBe="",yBe="",bBe="",Fm={Aacute:nY,aacute:aY,Abreve:iY,abreve:oY,ac:sY,acd:lY,acE:uY,Acirc:cY,acirc:fY,acute:vY,Acy:pY,acy:dY,AElig:hY,aelig:mY,af:gY,Afr:yY,afr:bY,Agrave:wY,agrave:kY,alefsym:CY,aleph:TY,Alpha:EY,alpha:xY,Amacr:SY,amacr:MY,amalg:AY,amp:LY,AMP:DY,andand:OY,And:NY,and:RY,andd:IY,andslope:PY,andv:BY,ang:qY,ange:FY,angle:HY,angmsdaa:_Y,angmsdab:zY,angmsdac:$Y,angmsdad:VY,angmsdae:UY,angmsdaf:jY,angmsdag:WY,angmsdah:GY,angmsd:KY,angrt:JY,angrtvb:QY,angrtvbd:XY,angsph:ZY,angst:YY,angzarr:eee,Aogon:tee,aogon:ree,Aopf:nee,aopf:aee,apacir:iee,ap:oee,apE:see,ape:lee,apid:uee,apos:cee,ApplyFunction:fee,approx:vee,approxeq:pee,Aring:dee,aring:hee,Ascr:mee,ascr:gee,Assign:yee,ast:bee,asymp:wee,asympeq:kee,Atilde:Cee,atilde:Tee,Auml:Eee,auml:xee,awconint:See,awint:Mee,backcong:Aee,backepsilon:Lee,backprime:Dee,backsim:Oee,backsimeq:Nee,Backslash:Ree,Barv:Iee,barvee:Pee,barwed:Bee,Barwed:qee,barwedge:Fee,bbrk:Hee,bbrktbrk:_ee,bcong:zee,Bcy:$ee,bcy:Vee,bdquo:Uee,becaus:jee,because:Wee,Because:Gee,bemptyv:Kee,bepsi:Jee,bernou:Qee,Bernoullis:Xee,Beta:Zee,beta:Yee,beth:ete,between:tte,Bfr:rte,bfr:nte,bigcap:ate,bigcirc:ite,bigcup:ote,bigodot:ste,bigoplus:lte,bigotimes:ute,bigsqcup:cte,bigstar:fte,bigtriangledown:vte,bigtriangleup:pte,biguplus:dte,bigvee:hte,bigwedge:mte,bkarow:gte,blacklozenge:yte,blacksquare:bte,blacktriangle:wte,blacktriangledown:kte,blacktriangleleft:Cte,blacktriangleright:Tte,blank:Ete,blk12:xte,blk14:Ste,blk34:Mte,block:Ate,bne:Lte,bnequiv:Dte,bNot:Ote,bnot:Nte,Bopf:Rte,bopf:Ite,bot:Pte,bottom:Bte,bowtie:qte,boxbox:Fte,boxdl:Hte,boxdL:_te,boxDl:zte,boxDL:$te,boxdr:Vte,boxdR:Ute,boxDr:jte,boxDR:Wte,boxh:Gte,boxH:Kte,boxhd:Jte,boxHd:Qte,boxhD:Xte,boxHD:Zte,boxhu:Yte,boxHu:ere,boxhU:tre,boxHU:rre,boxminus:nre,boxplus:are,boxtimes:ire,boxul:ore,boxuL:sre,boxUl:lre,boxUL:ure,boxur:cre,boxuR:fre,boxUr:vre,boxUR:pre,boxv:dre,boxV:hre,boxvh:mre,boxvH:gre,boxVh:yre,boxVH:bre,boxvl:wre,boxvL:kre,boxVl:Cre,boxVL:Tre,boxvr:Ere,boxvR:xre,boxVr:Sre,boxVR:Mre,bprime:Are,breve:Lre,Breve:Dre,brvbar:Ore,bscr:Nre,Bscr:Rre,bsemi:Ire,bsim:Pre,bsime:Bre,bsolb:qre,bsol:Fre,bsolhsub:Hre,bull:_re,bullet:zre,bump:$re,bumpE:Vre,bumpe:Ure,Bumpeq:jre,bumpeq:Wre,Cacute:Gre,cacute:Kre,capand:Jre,capbrcup:Qre,capcap:Xre,cap:Zre,Cap:Yre,capcup:ene,capdot:tne,CapitalDifferentialD:rne,caps:nne,caret:ane,caron:ine,Cayleys:one,ccaps:sne,Ccaron:lne,ccaron:une,Ccedil:cne,ccedil:fne,Ccirc:vne,ccirc:pne,Cconint:dne,ccups:hne,ccupssm:mne,Cdot:gne,cdot:yne,cedil:bne,Cedilla:wne,cemptyv:kne,cent:Cne,centerdot:Tne,CenterDot:Ene,cfr:xne,Cfr:Sne,CHcy:Mne,chcy:Ane,check:Lne,checkmark:Dne,Chi:One,chi:Nne,circ:Rne,circeq:Ine,circlearrowleft:Pne,circlearrowright:Bne,circledast:qne,circledcirc:Fne,circleddash:Hne,CircleDot:_ne,circledR:zne,circledS:$ne,CircleMinus:Vne,CirclePlus:Une,CircleTimes:jne,cir:Wne,cirE:Gne,cire:Kne,cirfnint:Jne,cirmid:Qne,cirscir:Xne,ClockwiseContourIntegral:Zne,CloseCurlyDoubleQuote:Yne,CloseCurlyQuote:eae,clubs:tae,clubsuit:rae,colon:nae,Colon:aae,Colone:iae,colone:oae,coloneq:sae,comma:lae,commat:uae,comp:cae,compfn:fae,complement:vae,complexes:pae,cong:dae,congdot:hae,Congruent:mae,conint:gae,Conint:yae,ContourIntegral:bae,copf:wae,Copf:kae,coprod:Cae,Coproduct:Tae,copy:Eae,COPY:xae,copysr:Sae,CounterClockwiseContourIntegral:Mae,crarr:Aae,cross:Lae,Cross:Dae,Cscr:Oae,cscr:Nae,csub:Rae,csube:Iae,csup:Pae,csupe:Bae,ctdot:qae,cudarrl:Fae,cudarrr:Hae,cuepr:_ae,cuesc:zae,cularr:$ae,cularrp:Vae,cupbrcap:Uae,cupcap:jae,CupCap:Wae,cup:Gae,Cup:Kae,cupcup:Jae,cupdot:Qae,cupor:Xae,cups:Zae,curarr:Yae,curarrm:eie,curlyeqprec:tie,curlyeqsucc:rie,curlyvee:nie,curlywedge:aie,curren:iie,curvearrowleft:oie,curvearrowright:sie,cuvee:lie,cuwed:uie,cwconint:cie,cwint:fie,cylcty:vie,dagger:pie,Dagger:die,daleth:hie,darr:mie,Darr:gie,dArr:yie,dash:bie,Dashv:wie,dashv:kie,dbkarow:Cie,dblac:Tie,Dcaron:Eie,dcaron:xie,Dcy:Sie,dcy:Mie,ddagger:Aie,ddarr:Lie,DD:Die,dd:Oie,DDotrahd:Nie,ddotseq:Rie,deg:Iie,Del:Pie,Delta:Bie,delta:qie,demptyv:Fie,dfisht:Hie,Dfr:_ie,dfr:zie,dHar:$ie,dharl:Vie,dharr:Uie,DiacriticalAcute:jie,DiacriticalDot:Wie,DiacriticalDoubleAcute:Gie,DiacriticalGrave:Kie,DiacriticalTilde:Jie,diam:Qie,diamond:Xie,Diamond:Zie,diamondsuit:Yie,diams:eoe,die:toe,DifferentialD:roe,digamma:noe,disin:aoe,div:ioe,divide:ooe,divideontimes:soe,divonx:loe,DJcy:uoe,djcy:coe,dlcorn:foe,dlcrop:voe,dollar:poe,Dopf:doe,dopf:hoe,Dot:moe,dot:goe,DotDot:yoe,doteq:boe,doteqdot:woe,DotEqual:koe,dotminus:Coe,dotplus:Toe,dotsquare:Eoe,doublebarwedge:xoe,DoubleContourIntegral:Soe,DoubleDot:Moe,DoubleDownArrow:Aoe,DoubleLeftArrow:Loe,DoubleLeftRightArrow:Doe,DoubleLeftTee:Ooe,DoubleLongLeftArrow:Noe,DoubleLongLeftRightArrow:Roe,DoubleLongRightArrow:Ioe,DoubleRightArrow:Poe,DoubleRightTee:Boe,DoubleUpArrow:qoe,DoubleUpDownArrow:Foe,DoubleVerticalBar:Hoe,DownArrowBar:_oe,downarrow:zoe,DownArrow:$oe,Downarrow:Voe,DownArrowUpArrow:Uoe,DownBreve:joe,downdownarrows:Woe,downharpoonleft:Goe,downharpoonright:Koe,DownLeftRightVector:Joe,DownLeftTeeVector:Qoe,DownLeftVectorBar:Xoe,DownLeftVector:Zoe,DownRightTeeVector:Yoe,DownRightVectorBar:ese,DownRightVector:tse,DownTeeArrow:rse,DownTee:nse,drbkarow:ase,drcorn:ise,drcrop:ose,Dscr:sse,dscr:lse,DScy:use,dscy:cse,dsol:fse,Dstrok:vse,dstrok:pse,dtdot:dse,dtri:hse,dtrif:mse,duarr:gse,duhar:yse,dwangle:bse,DZcy:wse,dzcy:kse,dzigrarr:Cse,Eacute:Tse,eacute:Ese,easter:xse,Ecaron:Sse,ecaron:Mse,Ecirc:Ase,ecirc:Lse,ecir:Dse,ecolon:Ose,Ecy:Nse,ecy:Rse,eDDot:Ise,Edot:Pse,edot:Bse,eDot:qse,ee:Fse,efDot:Hse,Efr:_se,efr:zse,eg:$se,Egrave:Vse,egrave:Use,egs:jse,egsdot:Wse,el:Gse,Element:Kse,elinters:Jse,ell:Qse,els:Xse,elsdot:Zse,Emacr:Yse,emacr:ele,empty:tle,emptyset:rle,EmptySmallSquare:nle,emptyv:ale,EmptyVerySmallSquare:ile,emsp13:ole,emsp14:sle,emsp:lle,ENG:ule,eng:cle,ensp:fle,Eogon:vle,eogon:ple,Eopf:dle,eopf:hle,epar:mle,eparsl:gle,eplus:yle,epsi:ble,Epsilon:wle,epsilon:kle,epsiv:Cle,eqcirc:Tle,eqcolon:Ele,eqsim:xle,eqslantgtr:Sle,eqslantless:Mle,Equal:Ale,equals:Lle,EqualTilde:Dle,equest:Ole,Equilibrium:Nle,equiv:Rle,equivDD:Ile,eqvparsl:Ple,erarr:Ble,erDot:qle,escr:Fle,Escr:Hle,esdot:_le,Esim:zle,esim:$le,Eta:Vle,eta:Ule,ETH:jle,eth:Wle,Euml:Gle,euml:Kle,euro:Jle,excl:Qle,exist:Xle,Exists:Zle,expectation:Yle,exponentiale:eue,ExponentialE:tue,fallingdotseq:rue,Fcy:nue,fcy:aue,female:iue,ffilig:oue,fflig:sue,ffllig:lue,Ffr:uue,ffr:cue,filig:fue,FilledSmallSquare:vue,FilledVerySmallSquare:pue,fjlig:due,flat:hue,fllig:mue,fltns:gue,fnof:yue,Fopf:bue,fopf:wue,forall:kue,ForAll:Cue,fork:Tue,forkv:Eue,Fouriertrf:xue,fpartint:Sue,frac12:Mue,frac13:Aue,frac14:Lue,frac15:Due,frac16:Oue,frac18:Nue,frac23:Rue,frac25:Iue,frac34:Pue,frac35:Bue,frac38:que,frac45:Fue,frac56:Hue,frac58:_ue,frac78:zue,frasl:$ue,frown:Vue,fscr:Uue,Fscr:jue,gacute:Wue,Gamma:Gue,gamma:Kue,Gammad:Jue,gammad:Que,gap:Xue,Gbreve:Zue,gbreve:Yue,Gcedil:ece,Gcirc:tce,gcirc:rce,Gcy:nce,gcy:ace,Gdot:ice,gdot:oce,ge:sce,gE:lce,gEl:uce,gel:cce,geq:fce,geqq:vce,geqslant:pce,gescc:dce,ges:hce,gesdot:mce,gesdoto:gce,gesdotol:yce,gesl:bce,gesles:wce,Gfr:kce,gfr:Cce,gg:Tce,Gg:Ece,ggg:xce,gimel:Sce,GJcy:Mce,gjcy:Ace,gla:Lce,gl:Dce,glE:Oce,glj:Nce,gnap:Rce,gnapprox:Ice,gne:Pce,gnE:Bce,gneq:qce,gneqq:Fce,gnsim:Hce,Gopf:_ce,gopf:zce,grave:$ce,GreaterEqual:Vce,GreaterEqualLess:Uce,GreaterFullEqual:jce,GreaterGreater:Wce,GreaterLess:Gce,GreaterSlantEqual:Kce,GreaterTilde:Jce,Gscr:Qce,gscr:Xce,gsim:Zce,gsime:Yce,gsiml:efe,gtcc:tfe,gtcir:rfe,gt:nfe,GT:afe,Gt:ife,gtdot:ofe,gtlPar:sfe,gtquest:lfe,gtrapprox:ufe,gtrarr:cfe,gtrdot:ffe,gtreqless:vfe,gtreqqless:pfe,gtrless:dfe,gtrsim:hfe,gvertneqq:mfe,gvnE:gfe,Hacek:yfe,hairsp:bfe,half:wfe,hamilt:kfe,HARDcy:Cfe,hardcy:Tfe,harrcir:Efe,harr:xfe,hArr:Sfe,harrw:Mfe,Hat:Afe,hbar:Lfe,Hcirc:Dfe,hcirc:Ofe,hearts:Nfe,heartsuit:Rfe,hellip:Ife,hercon:Pfe,hfr:Bfe,Hfr:qfe,HilbertSpace:Ffe,hksearow:Hfe,hkswarow:_fe,hoarr:zfe,homtht:$fe,hookleftarrow:Vfe,hookrightarrow:Ufe,hopf:jfe,Hopf:Wfe,horbar:Gfe,HorizontalLine:Kfe,hscr:Jfe,Hscr:Qfe,hslash:Xfe,Hstrok:Zfe,hstrok:Yfe,HumpDownHump:eve,HumpEqual:tve,hybull:rve,hyphen:nve,Iacute:ave,iacute:ive,ic:ove,Icirc:sve,icirc:lve,Icy:uve,icy:cve,Idot:fve,IEcy:vve,iecy:pve,iexcl:dve,iff:hve,ifr:mve,Ifr:gve,Igrave:yve,igrave:bve,ii:wve,iiiint:kve,iiint:Cve,iinfin:Tve,iiota:Eve,IJlig:xve,ijlig:Sve,Imacr:Mve,imacr:Ave,image:Lve,ImaginaryI:Dve,imagline:Ove,imagpart:Nve,imath:Rve,Im:Ive,imof:Pve,imped:Bve,Implies:qve,incare:Fve,in:"",infin:Hve,infintie:_ve,inodot:zve,intcal:$ve,int:Vve,Int:Uve,integers:jve,Integral:Wve,intercal:Gve,Intersection:Kve,intlarhk:Jve,intprod:Qve,InvisibleComma:Xve,InvisibleTimes:Zve,IOcy:Yve,iocy:epe,Iogon:tpe,iogon:rpe,Iopf:npe,iopf:ape,Iota:ipe,iota:ope,iprod:spe,iquest:lpe,iscr:upe,Iscr:cpe,isin:fpe,isindot:vpe,isinE:ppe,isins:dpe,isinsv:hpe,isinv:mpe,it:gpe,Itilde:ype,itilde:bpe,Iukcy:wpe,iukcy:kpe,Iuml:Cpe,iuml:Tpe,Jcirc:Epe,jcirc:xpe,Jcy:Spe,jcy:Mpe,Jfr:Ape,jfr:Lpe,jmath:Dpe,Jopf:Ope,jopf:Npe,Jscr:Rpe,jscr:Ipe,Jsercy:Ppe,jsercy:Bpe,Jukcy:qpe,jukcy:Fpe,Kappa:Hpe,kappa:_pe,kappav:zpe,Kcedil:$pe,kcedil:Vpe,Kcy:Upe,kcy:jpe,Kfr:Wpe,kfr:Gpe,kgreen:Kpe,KHcy:Jpe,khcy:Qpe,KJcy:Xpe,kjcy:Zpe,Kopf:Ype,kopf:ede,Kscr:tde,kscr:rde,lAarr:nde,Lacute:ade,lacute:ide,laemptyv:ode,lagran:sde,Lambda:lde,lambda:ude,lang:cde,Lang:fde,langd:vde,langle:pde,lap:dde,Laplacetrf:hde,laquo:mde,larrb:gde,larrbfs:yde,larr:bde,Larr:wde,lArr:kde,larrfs:Cde,larrhk:Tde,larrlp:Ede,larrpl:xde,larrsim:Sde,larrtl:Mde,latail:Ade,lAtail:Lde,lat:Dde,late:Ode,lates:Nde,lbarr:Rde,lBarr:Ide,lbbrk:Pde,lbrace:Bde,lbrack:qde,lbrke:Fde,lbrksld:Hde,lbrkslu:_de,Lcaron:zde,lcaron:$de,Lcedil:Vde,lcedil:Ude,lceil:jde,lcub:Wde,Lcy:Gde,lcy:Kde,ldca:Jde,ldquo:Qde,ldquor:Xde,ldrdhar:Zde,ldrushar:Yde,ldsh:ehe,le:the,lE:rhe,LeftAngleBracket:nhe,LeftArrowBar:ahe,leftarrow:ihe,LeftArrow:ohe,Leftarrow:she,LeftArrowRightArrow:lhe,leftarrowtail:uhe,LeftCeiling:che,LeftDoubleBracket:fhe,LeftDownTeeVector:vhe,LeftDownVectorBar:phe,LeftDownVector:dhe,LeftFloor:hhe,leftharpoondown:mhe,leftharpoonup:ghe,leftleftarrows:yhe,leftrightarrow:bhe,LeftRightArrow:whe,Leftrightarrow:khe,leftrightarrows:Che,leftrightharpoons:The,leftrightsquigarrow:Ehe,LeftRightVector:xhe,LeftTeeArrow:She,LeftTee:Mhe,LeftTeeVector:Ahe,leftthreetimes:Lhe,LeftTriangleBar:Dhe,LeftTriangle:Ohe,LeftTriangleEqual:Nhe,LeftUpDownVector:Rhe,LeftUpTeeVector:Ihe,LeftUpVectorBar:Phe,LeftUpVector:Bhe,LeftVectorBar:qhe,LeftVector:Fhe,lEg:Hhe,leg:_he,leq:zhe,leqq:$he,leqslant:Vhe,lescc:Uhe,les:jhe,lesdot:Whe,lesdoto:Ghe,lesdotor:Khe,lesg:Jhe,lesges:Qhe,lessapprox:Xhe,lessdot:Zhe,lesseqgtr:Yhe,lesseqqgtr:eme,LessEqualGreater:tme,LessFullEqual:rme,LessGreater:nme,lessgtr:ame,LessLess:ime,lesssim:ome,LessSlantEqual:sme,LessTilde:lme,lfisht:ume,lfloor:cme,Lfr:fme,lfr:vme,lg:pme,lgE:dme,lHar:hme,lhard:mme,lharu:gme,lharul:yme,lhblk:bme,LJcy:wme,ljcy:kme,llarr:Cme,ll:Tme,Ll:Eme,llcorner:xme,Lleftarrow:Sme,llhard:Mme,lltri:Ame,Lmidot:Lme,lmidot:Dme,lmoustache:Ome,lmoust:Nme,lnap:Rme,lnapprox:Ime,lne:Pme,lnE:Bme,lneq:qme,lneqq:Fme,lnsim:Hme,loang:_me,loarr:zme,lobrk:$me,longleftarrow:Vme,LongLeftArrow:Ume,Longleftarrow:jme,longleftrightarrow:Wme,LongLeftRightArrow:Gme,Longleftrightarrow:Kme,longmapsto:Jme,longrightarrow:Qme,LongRightArrow:Xme,Longrightarrow:Zme,looparrowleft:Yme,looparrowright:ege,lopar:tge,Lopf:rge,lopf:nge,loplus:age,lotimes:ige,lowast:oge,lowbar:sge,LowerLeftArrow:lge,LowerRightArrow:uge,loz:cge,lozenge:fge,lozf:vge,lpar:pge,lparlt:dge,lrarr:hge,lrcorner:mge,lrhar:gge,lrhard:yge,lrm:bge,lrtri:wge,lsaquo:kge,lscr:Cge,Lscr:Tge,lsh:Ege,Lsh:xge,lsim:Sge,lsime:Mge,lsimg:Age,lsqb:Lge,lsquo:Dge,lsquor:Oge,Lstrok:Nge,lstrok:Rge,ltcc:Ige,ltcir:Pge,lt:Bge,LT:qge,Lt:Fge,ltdot:Hge,lthree:_ge,ltimes:zge,ltlarr:$ge,ltquest:Vge,ltri:Uge,ltrie:jge,ltrif:Wge,ltrPar:Gge,lurdshar:Kge,luruhar:Jge,lvertneqq:Qge,lvnE:Xge,macr:Zge,male:Yge,malt:eye,maltese:tye,Map:"",map:rye,mapsto:nye,mapstodown:aye,mapstoleft:iye,mapstoup:oye,marker:sye,mcomma:lye,Mcy:uye,mcy:cye,mdash:fye,mDDot:vye,measuredangle:pye,MediumSpace:dye,Mellintrf:hye,Mfr:mye,mfr:gye,mho:yye,micro:bye,midast:wye,midcir:kye,mid:Cye,middot:Tye,minusb:Eye,minus:xye,minusd:Sye,minusdu:Mye,MinusPlus:Aye,mlcp:Lye,mldr:Dye,mnplus:Oye,models:Nye,Mopf:Rye,mopf:Iye,mp:Pye,mscr:Bye,Mscr:qye,mstpos:Fye,Mu:Hye,mu:_ye,multimap:zye,mumap:$ye,nabla:Vye,Nacute:Uye,nacute:jye,nang:Wye,nap:Gye,napE:Kye,napid:Jye,napos:Qye,napprox:Xye,natural:Zye,naturals:Yye,natur:ebe,nbsp:tbe,nbump:rbe,nbumpe:nbe,ncap:abe,Ncaron:ibe,ncaron:obe,Ncedil:sbe,ncedil:lbe,ncong:ube,ncongdot:cbe,ncup:fbe,Ncy:vbe,ncy:pbe,ndash:dbe,nearhk:hbe,nearr:mbe,neArr:gbe,nearrow:ybe,ne:bbe,nedot:wbe,NegativeMediumSpace:kbe,NegativeThickSpace:Cbe,NegativeThinSpace:Tbe,NegativeVeryThinSpace:Ebe,nequiv:xbe,nesear:Sbe,nesim:Mbe,NestedGreaterGreater:Abe,NestedLessLess:Lbe,NewLine:Dbe,nexist:Obe,nexists:Nbe,Nfr:Rbe,nfr:Ibe,ngE:Pbe,nge:Bbe,ngeq:qbe,ngeqq:Fbe,ngeqslant:Hbe,nges:_be,nGg:zbe,ngsim:$be,nGt:Vbe,ngt:Ube,ngtr:jbe,nGtv:Wbe,nharr:Gbe,nhArr:Kbe,nhpar:Jbe,ni:Qbe,nis:Xbe,nisd:Zbe,niv:Ybe,NJcy:ewe,njcy:twe,nlarr:rwe,nlArr:nwe,nldr:awe,nlE:iwe,nle:owe,nleftarrow:swe,nLeftarrow:lwe,nleftrightarrow:uwe,nLeftrightarrow:cwe,nleq:fwe,nleqq:vwe,nleqslant:pwe,nles:dwe,nless:hwe,nLl:mwe,nlsim:gwe,nLt:ywe,nlt:bwe,nltri:wwe,nltrie:kwe,nLtv:Cwe,nmid:Twe,NoBreak:Ewe,NonBreakingSpace:xwe,nopf:Swe,Nopf:Mwe,Not:Awe,not:Lwe,NotCongruent:Dwe,NotCupCap:Owe,NotDoubleVerticalBar:Nwe,NotElement:Rwe,NotEqual:Iwe,NotEqualTilde:Pwe,NotExists:Bwe,NotGreater:qwe,NotGreaterEqual:Fwe,NotGreaterFullEqual:Hwe,NotGreaterGreater:_we,NotGreaterLess:zwe,NotGreaterSlantEqual:$we,NotGreaterTilde:Vwe,NotHumpDownHump:Uwe,NotHumpEqual:jwe,notin:Wwe,notindot:Gwe,notinE:Kwe,notinva:Jwe,notinvb:Qwe,notinvc:Xwe,NotLeftTriangleBar:Zwe,NotLeftTriangle:Ywe,NotLeftTriangleEqual:eke,NotLess:tke,NotLessEqual:rke,NotLessGreater:nke,NotLessLess:ake,NotLessSlantEqual:ike,NotLessTilde:oke,NotNestedGreaterGreater:ske,NotNestedLessLess:lke,notni:uke,notniva:cke,notnivb:fke,notnivc:vke,NotPrecedes:pke,NotPrecedesEqual:dke,NotPrecedesSlantEqual:hke,NotReverseElement:mke,NotRightTriangleBar:gke,NotRightTriangle:yke,NotRightTriangleEqual:bke,NotSquareSubset:wke,NotSquareSubsetEqual:kke,NotSquareSuperset:Cke,NotSquareSupersetEqual:Tke,NotSubset:Eke,NotSubsetEqual:xke,NotSucceeds:Ske,NotSucceedsEqual:Mke,NotSucceedsSlantEqual:Ake,NotSucceedsTilde:Lke,NotSuperset:Dke,NotSupersetEqual:Oke,NotTilde:Nke,NotTildeEqual:Rke,NotTildeFullEqual:Ike,NotTildeTilde:Pke,NotVerticalBar:Bke,nparallel:qke,npar:Fke,nparsl:Hke,npart:_ke,npolint:zke,npr:$ke,nprcue:Vke,nprec:Uke,npreceq:jke,npre:Wke,nrarrc:Gke,nrarr:Kke,nrArr:Jke,nrarrw:Qke,nrightarrow:Xke,nRightarrow:Zke,nrtri:Yke,nrtrie:eCe,nsc:tCe,nsccue:rCe,nsce:nCe,Nscr:aCe,nscr:iCe,nshortmid:oCe,nshortparallel:sCe,nsim:lCe,nsime:uCe,nsimeq:cCe,nsmid:fCe,nspar:vCe,nsqsube:pCe,nsqsupe:dCe,nsub:hCe,nsubE:mCe,nsube:gCe,nsubset:yCe,nsubseteq:bCe,nsubseteqq:wCe,nsucc:kCe,nsucceq:CCe,nsup:TCe,nsupE:ECe,nsupe:xCe,nsupset:SCe,nsupseteq:MCe,nsupseteqq:ACe,ntgl:LCe,Ntilde:DCe,ntilde:OCe,ntlg:NCe,ntriangleleft:RCe,ntrianglelefteq:ICe,ntriangleright:PCe,ntrianglerighteq:BCe,Nu:qCe,nu:FCe,num:HCe,numero:_Ce,numsp:zCe,nvap:$Ce,nvdash:VCe,nvDash:UCe,nVdash:jCe,nVDash:WCe,nvge:GCe,nvgt:KCe,nvHarr:JCe,nvinfin:QCe,nvlArr:XCe,nvle:ZCe,nvlt:YCe,nvltrie:e0e,nvrArr:t0e,nvrtrie:r0e,nvsim:n0e,nwarhk:a0e,nwarr:i0e,nwArr:o0e,nwarrow:s0e,nwnear:l0e,Oacute:u0e,oacute:c0e,oast:f0e,Ocirc:v0e,ocirc:p0e,ocir:d0e,Ocy:h0e,ocy:m0e,odash:g0e,Odblac:y0e,odblac:b0e,odiv:w0e,odot:k0e,odsold:C0e,OElig:T0e,oelig:E0e,ofcir:x0e,Ofr:S0e,ofr:M0e,ogon:A0e,Ograve:L0e,ograve:D0e,ogt:O0e,ohbar:N0e,ohm:R0e,oint:I0e,olarr:P0e,olcir:B0e,olcross:q0e,oline:F0e,olt:H0e,Omacr:_0e,omacr:z0e,Omega:$0e,omega:V0e,Omicron:U0e,omicron:j0e,omid:W0e,ominus:G0e,Oopf:K0e,oopf:J0e,opar:Q0e,OpenCurlyDoubleQuote:X0e,OpenCurlyQuote:Z0e,operp:Y0e,oplus:eTe,orarr:tTe,Or:rTe,or:nTe,ord:aTe,order:iTe,orderof:oTe,ordf:sTe,ordm:lTe,origof:uTe,oror:cTe,orslope:fTe,orv:vTe,oS:pTe,Oscr:dTe,oscr:hTe,Oslash:mTe,oslash:gTe,osol:yTe,Otilde:bTe,otilde:wTe,otimesas:kTe,Otimes:CTe,otimes:TTe,Ouml:ETe,ouml:xTe,ovbar:STe,OverBar:MTe,OverBrace:ATe,OverBracket:LTe,OverParenthesis:DTe,para:OTe,parallel:NTe,par:RTe,parsim:ITe,parsl:PTe,part:BTe,PartialD:qTe,Pcy:FTe,pcy:HTe,percnt:_Te,period:zTe,permil:$Te,perp:VTe,pertenk:UTe,Pfr:jTe,pfr:WTe,Phi:GTe,phi:KTe,phiv:JTe,phmmat:QTe,phone:XTe,Pi:ZTe,pi:YTe,pitchfork:e1e,piv:t1e,planck:r1e,planckh:n1e,plankv:a1e,plusacir:i1e,plusb:o1e,pluscir:s1e,plus:l1e,plusdo:u1e,plusdu:c1e,pluse:f1e,PlusMinus:v1e,plusmn:p1e,plussim:d1e,plustwo:h1e,pm:m1e,Poincareplane:g1e,pointint:y1e,popf:b1e,Popf:w1e,pound:k1e,prap:C1e,Pr:T1e,pr:E1e,prcue:x1e,precapprox:S1e,prec:M1e,preccurlyeq:A1e,Precedes:L1e,PrecedesEqual:D1e,PrecedesSlantEqual:O1e,PrecedesTilde:N1e,preceq:R1e,precnapprox:I1e,precneqq:P1e,precnsim:B1e,pre:q1e,prE:F1e,precsim:H1e,prime:_1e,Prime:z1e,primes:$1e,prnap:V1e,prnE:U1e,prnsim:j1e,prod:W1e,Product:G1e,profalar:K1e,profline:J1e,profsurf:Q1e,prop:X1e,Proportional:Z1e,Proportion:Y1e,propto:eEe,prsim:tEe,prurel:rEe,Pscr:nEe,pscr:aEe,Psi:iEe,psi:oEe,puncsp:sEe,Qfr:lEe,qfr:uEe,qint:cEe,qopf:fEe,Qopf:vEe,qprime:pEe,Qscr:dEe,qscr:hEe,quaternions:mEe,quatint:gEe,quest:yEe,questeq:bEe,quot:wEe,QUOT:kEe,rAarr:CEe,race:TEe,Racute:EEe,racute:xEe,radic:SEe,raemptyv:MEe,rang:AEe,Rang:LEe,rangd:DEe,range:OEe,rangle:NEe,raquo:REe,rarrap:IEe,rarrb:PEe,rarrbfs:BEe,rarrc:qEe,rarr:FEe,Rarr:HEe,rArr:_Ee,rarrfs:zEe,rarrhk:$Ee,rarrlp:VEe,rarrpl:UEe,rarrsim:jEe,Rarrtl:WEe,rarrtl:GEe,rarrw:KEe,ratail:JEe,rAtail:QEe,ratio:XEe,rationals:ZEe,rbarr:YEe,rBarr:exe,RBarr:txe,rbbrk:rxe,rbrace:nxe,rbrack:axe,rbrke:ixe,rbrksld:oxe,rbrkslu:sxe,Rcaron:lxe,rcaron:uxe,Rcedil:cxe,rcedil:fxe,rceil:vxe,rcub:pxe,Rcy:dxe,rcy:hxe,rdca:mxe,rdldhar:gxe,rdquo:yxe,rdquor:bxe,rdsh:wxe,real:kxe,realine:Cxe,realpart:Txe,reals:Exe,Re:xxe,rect:Sxe,reg:Mxe,REG:Axe,ReverseElement:Lxe,ReverseEquilibrium:Dxe,ReverseUpEquilibrium:Oxe,rfisht:Nxe,rfloor:Rxe,rfr:Ixe,Rfr:Pxe,rHar:Bxe,rhard:qxe,rharu:Fxe,rharul:Hxe,Rho:_xe,rho:zxe,rhov:$xe,RightAngleBracket:Vxe,RightArrowBar:Uxe,rightarrow:jxe,RightArrow:Wxe,Rightarrow:Gxe,RightArrowLeftArrow:Kxe,rightarrowtail:Jxe,RightCeiling:Qxe,RightDoubleBracket:Xxe,RightDownTeeVector:Zxe,RightDownVectorBar:Yxe,RightDownVector:eSe,RightFloor:tSe,rightharpoondown:rSe,rightharpoonup:nSe,rightleftarrows:aSe,rightleftharpoons:iSe,rightrightarrows:oSe,rightsquigarrow:sSe,RightTeeArrow:lSe,RightTee:uSe,RightTeeVector:cSe,rightthreetimes:fSe,RightTriangleBar:vSe,RightTriangle:pSe,RightTriangleEqual:dSe,RightUpDownVector:hSe,RightUpTeeVector:mSe,RightUpVectorBar:gSe,RightUpVector:ySe,RightVectorBar:bSe,RightVector:wSe,ring:kSe,risingdotseq:CSe,rlarr:TSe,rlhar:ESe,rlm:xSe,rmoustache:SSe,rmoust:MSe,rnmid:ASe,roang:LSe,roarr:DSe,robrk:OSe,ropar:NSe,ropf:RSe,Ropf:ISe,roplus:PSe,rotimes:BSe,RoundImplies:qSe,rpar:FSe,rpargt:HSe,rppolint:_Se,rrarr:zSe,Rrightarrow:$Se,rsaquo:VSe,rscr:USe,Rscr:jSe,rsh:WSe,Rsh:GSe,rsqb:KSe,rsquo:JSe,rsquor:QSe,rthree:XSe,rtimes:ZSe,rtri:YSe,rtrie:eMe,rtrif:tMe,rtriltri:rMe,RuleDelayed:nMe,ruluhar:aMe,rx:iMe,Sacute:oMe,sacute:sMe,sbquo:lMe,scap:uMe,Scaron:cMe,scaron:fMe,Sc:vMe,sc:pMe,sccue:dMe,sce:hMe,scE:mMe,Scedil:gMe,scedil:yMe,Scirc:bMe,scirc:wMe,scnap:kMe,scnE:CMe,scnsim:TMe,scpolint:EMe,scsim:xMe,Scy:SMe,scy:MMe,sdotb:AMe,sdot:LMe,sdote:DMe,searhk:OMe,searr:NMe,seArr:RMe,searrow:IMe,sect:PMe,semi:BMe,seswar:qMe,setminus:FMe,setmn:HMe,sext:_Me,Sfr:zMe,sfr:$Me,sfrown:VMe,sharp:UMe,SHCHcy:jMe,shchcy:WMe,SHcy:GMe,shcy:KMe,ShortDownArrow:JMe,ShortLeftArrow:QMe,shortmid:XMe,shortparallel:ZMe,ShortRightArrow:YMe,ShortUpArrow:eAe,shy:tAe,Sigma:rAe,sigma:nAe,sigmaf:aAe,sigmav:iAe,sim:oAe,simdot:sAe,sime:lAe,simeq:uAe,simg:cAe,simgE:fAe,siml:vAe,simlE:pAe,simne:dAe,simplus:hAe,simrarr:mAe,slarr:gAe,SmallCircle:yAe,smallsetminus:bAe,smashp:wAe,smeparsl:kAe,smid:CAe,smile:TAe,smt:EAe,smte:xAe,smtes:SAe,SOFTcy:MAe,softcy:AAe,solbar:LAe,solb:DAe,sol:OAe,Sopf:NAe,sopf:RAe,spades:IAe,spadesuit:PAe,spar:BAe,sqcap:qAe,sqcaps:FAe,sqcup:HAe,sqcups:_Ae,Sqrt:zAe,sqsub:$Ae,sqsube:VAe,sqsubset:UAe,sqsubseteq:jAe,sqsup:WAe,sqsupe:GAe,sqsupset:KAe,sqsupseteq:JAe,square:QAe,Square:XAe,SquareIntersection:ZAe,SquareSubset:YAe,SquareSubsetEqual:eLe,SquareSuperset:tLe,SquareSupersetEqual:rLe,SquareUnion:nLe,squarf:aLe,squ:iLe,squf:oLe,srarr:sLe,Sscr:lLe,sscr:uLe,ssetmn:cLe,ssmile:fLe,sstarf:vLe,Star:pLe,star:dLe,starf:hLe,straightepsilon:mLe,straightphi:gLe,strns:yLe,sub:bLe,Sub:wLe,subdot:kLe,subE:CLe,sube:TLe,subedot:ELe,submult:xLe,subnE:SLe,subne:MLe,subplus:ALe,subrarr:LLe,subset:DLe,Subset:OLe,subseteq:NLe,subseteqq:RLe,SubsetEqual:ILe,subsetneq:PLe,subsetneqq:BLe,subsim:qLe,subsub:FLe,subsup:HLe,succapprox:_Le,succ:zLe,succcurlyeq:$Le,Succeeds:VLe,SucceedsEqual:ULe,SucceedsSlantEqual:jLe,SucceedsTilde:WLe,succeq:GLe,succnapprox:KLe,succneqq:JLe,succnsim:QLe,succsim:XLe,SuchThat:ZLe,sum:YLe,Sum:eDe,sung:tDe,sup1:rDe,sup2:nDe,sup3:aDe,sup:iDe,Sup:oDe,supdot:sDe,supdsub:lDe,supE:uDe,supe:cDe,supedot:fDe,Superset:vDe,SupersetEqual:pDe,suphsol:dDe,suphsub:hDe,suplarr:mDe,supmult:gDe,supnE:yDe,supne:bDe,supplus:wDe,supset:kDe,Supset:CDe,supseteq:TDe,supseteqq:EDe,supsetneq:xDe,supsetneqq:SDe,supsim:MDe,supsub:ADe,supsup:LDe,swarhk:DDe,swarr:ODe,swArr:NDe,swarrow:RDe,swnwar:IDe,szlig:PDe,Tab:BDe,target:qDe,Tau:FDe,tau:HDe,tbrk:_De,Tcaron:zDe,tcaron:$De,Tcedil:VDe,tcedil:UDe,Tcy:jDe,tcy:WDe,tdot:GDe,telrec:KDe,Tfr:JDe,tfr:QDe,there4:XDe,therefore:ZDe,Therefore:YDe,Theta:eOe,theta:tOe,thetasym:rOe,thetav:nOe,thickapprox:aOe,thicksim:iOe,ThickSpace:oOe,ThinSpace:sOe,thinsp:lOe,thkap:uOe,thksim:cOe,THORN:fOe,thorn:vOe,tilde:pOe,Tilde:dOe,TildeEqual:hOe,TildeFullEqual:mOe,TildeTilde:gOe,timesbar:yOe,timesb:bOe,times:wOe,timesd:kOe,tint:COe,toea:TOe,topbot:EOe,topcir:xOe,top:SOe,Topf:MOe,topf:AOe,topfork:LOe,tosa:DOe,tprime:OOe,trade:NOe,TRADE:ROe,triangle:IOe,triangledown:POe,triangleleft:BOe,trianglelefteq:qOe,triangleq:FOe,triangleright:HOe,trianglerighteq:_Oe,tridot:zOe,trie:$Oe,triminus:VOe,TripleDot:UOe,triplus:jOe,trisb:WOe,tritime:GOe,trpezium:KOe,Tscr:JOe,tscr:QOe,TScy:XOe,tscy:ZOe,TSHcy:YOe,tshcy:eNe,Tstrok:tNe,tstrok:rNe,twixt:nNe,twoheadleftarrow:aNe,twoheadrightarrow:iNe,Uacute:oNe,uacute:sNe,uarr:lNe,Uarr:uNe,uArr:cNe,Uarrocir:fNe,Ubrcy:vNe,ubrcy:pNe,Ubreve:dNe,ubreve:hNe,Ucirc:mNe,ucirc:gNe,Ucy:yNe,ucy:bNe,udarr:wNe,Udblac:kNe,udblac:CNe,udhar:TNe,ufisht:ENe,Ufr:xNe,ufr:SNe,Ugrave:MNe,ugrave:ANe,uHar:LNe,uharl:DNe,uharr:ONe,uhblk:NNe,ulcorn:RNe,ulcorner:INe,ulcrop:PNe,ultri:BNe,Umacr:qNe,umacr:FNe,uml:HNe,UnderBar:_Ne,UnderBrace:zNe,UnderBracket:$Ne,UnderParenthesis:VNe,Union:UNe,UnionPlus:jNe,Uogon:WNe,uogon:GNe,Uopf:KNe,uopf:JNe,UpArrowBar:QNe,uparrow:XNe,UpArrow:ZNe,Uparrow:YNe,UpArrowDownArrow:eRe,updownarrow:tRe,UpDownArrow:rRe,Updownarrow:nRe,UpEquilibrium:aRe,upharpoonleft:iRe,upharpoonright:oRe,uplus:sRe,UpperLeftArrow:lRe,UpperRightArrow:uRe,upsi:cRe,Upsi:fRe,upsih:vRe,Upsilon:pRe,upsilon:dRe,UpTeeArrow:hRe,UpTee:mRe,upuparrows:gRe,urcorn:yRe,urcorner:bRe,urcrop:wRe,Uring:kRe,uring:CRe,urtri:TRe,Uscr:ERe,uscr:xRe,utdot:SRe,Utilde:MRe,utilde:ARe,utri:LRe,utrif:DRe,uuarr:ORe,Uuml:NRe,uuml:RRe,uwangle:IRe,vangrt:PRe,varepsilon:BRe,varkappa:qRe,varnothing:FRe,varphi:HRe,varpi:_Re,varpropto:zRe,varr:$Re,vArr:VRe,varrho:URe,varsigma:jRe,varsubsetneq:WRe,varsubsetneqq:GRe,varsupsetneq:KRe,varsupsetneqq:JRe,vartheta:QRe,vartriangleleft:XRe,vartriangleright:ZRe,vBar:YRe,Vbar:eIe,vBarv:tIe,Vcy:rIe,vcy:nIe,vdash:aIe,vDash:iIe,Vdash:oIe,VDash:sIe,Vdashl:lIe,veebar:uIe,vee:cIe,Vee:fIe,veeeq:vIe,vellip:pIe,verbar:dIe,Verbar:hIe,vert:mIe,Vert:gIe,VerticalBar:yIe,VerticalLine:bIe,VerticalSeparator:wIe,VerticalTilde:kIe,VeryThinSpace:CIe,Vfr:TIe,vfr:EIe,vltri:xIe,vnsub:SIe,vnsup:MIe,Vopf:AIe,vopf:LIe,vprop:DIe,vrtri:OIe,Vscr:NIe,vscr:RIe,vsubnE:IIe,vsubne:PIe,vsupnE:BIe,vsupne:qIe,Vvdash:FIe,vzigzag:HIe,Wcirc:_Ie,wcirc:zIe,wedbar:$Ie,wedge:VIe,Wedge:UIe,wedgeq:jIe,weierp:WIe,Wfr:GIe,wfr:KIe,Wopf:JIe,wopf:QIe,wp:XIe,wr:ZIe,wreath:YIe,Wscr:ePe,wscr:tPe,xcap:rPe,xcirc:nPe,xcup:aPe,xdtri:iPe,Xfr:oPe,xfr:sPe,xharr:lPe,xhArr:uPe,Xi:cPe,xi:fPe,xlarr:vPe,xlArr:pPe,xmap:dPe,xnis:hPe,xodot:mPe,Xopf:gPe,xopf:yPe,xoplus:bPe,xotime:wPe,xrarr:kPe,xrArr:CPe,Xscr:TPe,xscr:EPe,xsqcup:xPe,xuplus:SPe,xutri:MPe,xvee:APe,xwedge:LPe,Yacute:DPe,yacute:OPe,YAcy:NPe,yacy:RPe,Ycirc:IPe,ycirc:PPe,Ycy:BPe,ycy:qPe,yen:FPe,Yfr:HPe,yfr:_Pe,YIcy:zPe,yicy:$Pe,Yopf:VPe,yopf:UPe,Yscr:jPe,yscr:WPe,YUcy:GPe,yucy:KPe,yuml:JPe,Yuml:QPe,Zacute:XPe,zacute:ZPe,Zcaron:YPe,zcaron:eBe,Zcy:tBe,zcy:rBe,Zdot:nBe,zdot:aBe,zeetrf:iBe,ZeroWidthSpace:oBe,Zeta:sBe,zeta:lBe,zfr:uBe,Zfr:cBe,ZHcy:fBe,zhcy:vBe,zigrarr:pBe,zopf:dBe,Zopf:hBe,Zscr:mBe,zscr:gBe,zwj:yBe,zwnj:bBe},wBe="",kBe="",CBe="",TBe="",EBe="",xBe="",SBe="",MBe="",ABe="",LBe="&",DBe="&",OBe="",NBe="",RBe="",IBe="",PBe="",BBe="",qBe="",FBe="",HBe="",_Be="",zBe="",$Be="",VBe="",UBe="",jBe="",WBe="",GBe="",KBe="",JBe="",QBe="",XBe="",ZBe="",YBe="",eqe="",tqe="",rqe="",nqe="",aqe="",iqe="",oqe=">",sqe=">",lqe="",uqe="",cqe="",fqe="",vqe="",pqe="",dqe="",hqe="",mqe="",gqe="",yqe="",bqe="<",wqe="<",kqe="",Cqe="",Tqe="",Eqe="",xqe="",Sqe="",Mqe="",Aqe="",Lqe="",Dqe="",Oqe="",Nqe="",Rqe="",Iqe="",Pqe="",Bqe="",qqe="",Fqe="",Hqe="",_qe="",zqe="",$qe="",Vqe="",Uqe="",jqe='"',Wqe='"',Gqe="",Kqe="",Jqe="",Qqe="",Xqe="",Zqe="",Yqe="",eFe="",tFe="",rFe="",nFe="",aFe="",iFe="",oFe="",sFe="",lFe="",uFe="",cFe="",fFe="",vFe="",pFe="",dFe="",hFe="",mFe="",gFe="",yFe={Aacute:wBe,aacute:kBe,Acirc:CBe,acirc:TBe,acute:EBe,AElig:xBe,aelig:SBe,Agrave:MBe,agrave:ABe,amp:LBe,AMP:DBe,Aring:OBe,aring:NBe,Atilde:RBe,atilde:IBe,Auml:PBe,auml:BBe,brvbar:qBe,Ccedil:FBe,ccedil:HBe,cedil:_Be,cent:zBe,copy:$Be,COPY:VBe,curren:UBe,deg:jBe,divide:WBe,Eacute:GBe,eacute:KBe,Ecirc:JBe,ecirc:QBe,Egrave:XBe,egrave:ZBe,ETH:YBe,eth:eqe,Euml:tqe,euml:rqe,frac12:nqe,frac14:aqe,frac34:iqe,gt:oqe,GT:sqe,Iacute:lqe,iacute:uqe,Icirc:cqe,icirc:fqe,iexcl:vqe,Igrave:pqe,igrave:dqe,iquest:hqe,Iuml:mqe,iuml:gqe,laquo:yqe,lt:bqe,LT:wqe,macr:kqe,micro:Cqe,middot:Tqe,nbsp:Eqe,not:xqe,Ntilde:Sqe,ntilde:Mqe,Oacute:Aqe,oacute:Lqe,Ocirc:Dqe,ocirc:Oqe,Ograve:Nqe,ograve:Rqe,ordf:Iqe,ordm:Pqe,Oslash:Bqe,oslash:qqe,Otilde:Fqe,otilde:Hqe,Ouml:_qe,ouml:zqe,para:$qe,plusmn:Vqe,pound:Uqe,quot:jqe,QUOT:Wqe,raquo:Gqe,reg:Kqe,REG:Jqe,sect:Qqe,shy:Xqe,sup1:Zqe,sup2:Yqe,sup3:eFe,szlig:tFe,THORN:rFe,thorn:nFe,times:aFe,Uacute:iFe,uacute:oFe,Ucirc:sFe,ucirc:lFe,Ugrave:uFe,ugrave:cFe,uml:fFe,Uuml:vFe,uuml:pFe,Yacute:dFe,yacute:hFe,yen:mFe,yuml:gFe},bFe="&",wFe="'",kFe=">",CFe="<",TFe='"',Hm={amp:bFe,apos:wFe,gt:kFe,lt:CFe,quot:TFe},xf={},EFe={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376},xFe=ji&&ji.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(xf,"__esModule",{value:!0});var Up=xFe(EFe),SFe=String.fromCodePoint||function(r){var e="";return r>65535&&(r-=65536,e+=String.fromCharCode(r>>>10&1023|55296),r=56320|r&1023),e+=String.fromCharCode(r),e};function MFe(r){return r>=55296&&r<=57343||r>1114111?"":(r in Up.default&&(r=Up.default[r]),SFe(r))}xf.default=MFe;var ml=ji&&ji.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(va,"__esModule",{value:!0});va.decodeHTML=va.decodeHTMLStrict=va.decodeXML=void 0;var Dc=ml(Fm),AFe=ml(yFe),LFe=ml(Hm),jp=ml(xf),DFe=/&(?:[a-zA-Z0-9]+|#[xX][\da-fA-F]+|#\d+);/g;va.decodeXML=_m(LFe.default);va.decodeHTMLStrict=_m(Dc.default);function _m(r){var e=zm(r);return function(t){return String(t).replace(DFe,e)}}var Wp=function(r,e){return r<e?1:-1};va.decodeHTML=function(){for(var r=Object.keys(AFe.default).sort(Wp),e=Object.keys(Dc.default).sort(Wp),t=0,n=0;t<e.length;t++)r[n]===e[t]?(e[t]+=";?",n++):e[t]+=";";var a=new RegExp("&(?:"+e.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),i=zm(Dc.default);function o(l){return l.substr(-1)!==";"&&(l+=";"),i(l)}return function(l){return String(l).replace(a,o)}}();function zm(r){return function(t){if(t.charAt(1)==="#"){var n=t.charAt(2);return n==="X"||n==="x"?jp.default(parseInt(t.substr(3),16)):jp.default(parseInt(t.substr(2),10))}return r[t.slice(1,-1)]||t}}var Kr={},$m=ji&&ji.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Kr,"__esModule",{value:!0});Kr.escapeUTF8=Kr.escape=Kr.encodeNonAsciiHTML=Kr.encodeHTML=Kr.encodeXML=void 0;var OFe=$m(Hm),Vm=jm(OFe.default),Um=Wm(Vm);Kr.encodeXML=Jm(Vm);var NFe=$m(Fm),Sf=jm(NFe.default),RFe=Wm(Sf);Kr.encodeHTML=PFe(Sf,RFe);Kr.encodeNonAsciiHTML=Jm(Sf);function jm(r){return Object.keys(r).sort().reduce(function(e,t){return e[r[t]]="&"+t+";",e},{})}function Wm(r){for(var e=[],t=[],n=0,a=Object.keys(r);n<a.length;n++){var i=a[n];i.length===1?e.push("\\"+i):t.push(i)}e.sort();for(var o=0;o<e.length-1;o++){for(var l=o;l<e.length-1&&e[l].charCodeAt(1)+1===e[l+1].charCodeAt(1);)l+=1;var d=1+l-o;d<3||e.splice(o,d,e[o]+"-"+e[l])}return t.unshift("["+e.join("")+"]"),new RegExp(t.join("|"),"g")}var Gm=/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,IFe=String.prototype.codePointAt!=null?function(r){return r.codePointAt(0)}:function(r){return(r.charCodeAt(0)-55296)*1024+r.charCodeAt(1)-56320+65536};function gl(r){return"&#x"+(r.length>1?IFe(r):r.charCodeAt(0)).toString(16).toUpperCase()+";"}function PFe(r,e){return function(t){return t.replace(e,function(n){return r[n]}).replace(Gm,gl)}}var Km=new RegExp(Um.source+"|"+Gm.source,"g");function BFe(r){return r.replace(Km,gl)}Kr.escape=BFe;function qFe(r){return r.replace(Um,gl)}Kr.escapeUTF8=qFe;function Jm(r){return function(e){return e.replace(Km,function(t){return r[t]||gl(t)})}}(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.decodeXMLStrict=r.decodeHTML5Strict=r.decodeHTML4Strict=r.decodeHTML5=r.decodeHTML4=r.decodeHTMLStrict=r.decodeHTML=r.decodeXML=r.encodeHTML5=r.encodeHTML4=r.escapeUTF8=r.escape=r.encodeNonAsciiHTML=r.encodeHTML=r.encodeXML=r.encode=r.decodeStrict=r.decode=void 0;var e=va,t=Kr;function n(d,g){return(!g||g<=0?e.decodeXML:e.decodeHTML)(d)}r.decode=n;function a(d,g){return(!g||g<=0?e.decodeXML:e.decodeHTMLStrict)(d)}r.decodeStrict=a;function i(d,g){return(!g||g<=0?t.encodeXML:t.encodeHTML)(d)}r.encode=i;var o=Kr;Object.defineProperty(r,"encodeXML",{enumerable:!0,get:function(){return o.encodeXML}}),Object.defineProperty(r,"encodeHTML",{enumerable:!0,get:function(){return o.encodeHTML}}),Object.defineProperty(r,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return o.encodeNonAsciiHTML}}),Object.defineProperty(r,"escape",{enumerable:!0,get:function(){return o.escape}}),Object.defineProperty(r,"escapeUTF8",{enumerable:!0,get:function(){return o.escapeUTF8}}),Object.defineProperty(r,"encodeHTML4",{enumerable:!0,get:function(){return o.encodeHTML}}),Object.defineProperty(r,"encodeHTML5",{enumerable:!0,get:function(){return o.encodeHTML}});var l=va;Object.defineProperty(r,"decodeXML",{enumerable:!0,get:function(){return l.decodeXML}}),Object.defineProperty(r,"decodeHTML",{enumerable:!0,get:function(){return l.decodeHTML}}),Object.defineProperty(r,"decodeHTMLStrict",{enumerable:!0,get:function(){return l.decodeHTMLStrict}}),Object.defineProperty(r,"decodeHTML4",{enumerable:!0,get:function(){return l.decodeHTML}}),Object.defineProperty(r,"decodeHTML5",{enumerable:!0,get:function(){return l.decodeHTML}}),Object.defineProperty(r,"decodeHTML4Strict",{enumerable:!0,get:function(){return l.decodeHTMLStrict}}),Object.defineProperty(r,"decodeHTML5Strict",{enumerable:!0,get:function(){return l.decodeHTMLStrict}}),Object.defineProperty(r,"decodeXMLStrict",{enumerable:!0,get:function(){return l.decodeXML}})})(Ef);var Qm="&(?:#x[a-f0-9]{1,6}|#[0-9]{1,7}|[a-z][a-z0-9]{1,31});",FFe=92,HFe=/[\\&]/,Mf="[!\"#$%&'()*+,./:;<=>?@[\\\\\\]^_`{|}~-]",_Fe=new RegExp("\\\\"+Mf+"|"+Qm,"gi"),zFe='[&<>"]',Gp=new RegExp(zFe,"g"),$Fe=function(r){return r.charCodeAt(0)===FFe?r.charAt(1):Ef.decodeHTML(r)};function Co(r){return HFe.test(r)?r.replace(_Fe,$Fe):r}function Cs(r){try{return rY(r)}catch{return r}}function VFe(r){switch(r){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";default:return r}}function Ri(r){return Gp.test(r)?r.replace(Gp,VFe):r}function Oc(r,e){for(var t=[],n=0;n<e;n++)t.push(r);return t.join("")}function Kp(r){return r?!/[^ \t]+/.test(r):!0}var UFe=function(){function r(e){this.current=e,this.root=e,this.entering=!0}return r.prototype.next=function(){var e=this.current,t=this.entering;if(e===null)return null;var n=Af(e);return t&&n?e.firstChild?(this.current=e.firstChild,this.entering=!0):this.entering=!1:e===this.root?this.current=null:e.next===null?(this.current=e.parent,this.entering=!1):(this.current=e.next,this.entering=!0),{entering:t,node:e}},r.prototype.resumeAt=function(e,t){this.current=e,this.entering=t===!0},r}();function Af(r){switch(r.type){case"document":case"blockQuote":case"list":case"item":case"paragraph":case"heading":case"emph":case"strong":case"strike":case"link":case"image":case"table":case"tableHead":case"tableBody":case"tableRow":case"tableCell":case"tableDelimRow":case"customInline":return!0;default:return!1}}var jFe=1,yl={};function WFe(r){return yl[r]}function Nc(r){delete yl[r]}function GFe(){yl={}}var Do=function(){function r(e,t){this.parent=null,this.prev=null,this.next=null,this.firstChild=null,this.lastChild=null,this.literal=null,e==="document"?this.id=-1:this.id=jFe++,this.type=e,this.sourcepos=t,yl[this.id]=this}return r.prototype.isContainer=function(){return Af(this)},r.prototype.unlink=function(){this.prev?this.prev.next=this.next:this.parent&&(this.parent.firstChild=this.next),this.next?this.next.prev=this.prev:this.parent&&(this.parent.lastChild=this.prev),this.parent=null,this.next=null,this.prev=null},r.prototype.replaceWith=function(e){this.insertBefore(e),this.unlink()},r.prototype.insertAfter=function(e){e.unlink(),e.next=this.next,e.next&&(e.next.prev=e),e.prev=this,this.next=e,this.parent&&(e.parent=this.parent,e.next||(e.parent.lastChild=e))},r.prototype.insertBefore=function(e){e.unlink(),e.prev=this.prev,e.prev&&(e.prev.next=e),e.next=this,this.prev=e,e.parent=this.parent,e.prev||(e.parent.firstChild=e)},r.prototype.appendChild=function(e){e.unlink(),e.parent=this,this.lastChild?(this.lastChild.next=e,e.prev=this.lastChild,this.lastChild=e):(this.firstChild=e,this.lastChild=e)},r.prototype.prependChild=function(e){e.unlink(),e.parent=this,this.firstChild?(this.firstChild.prev=e,e.next=this.firstChild,this.firstChild=e):(this.firstChild=e,this.lastChild=e)},r.prototype.walker=function(){return new UFe(this)},r}(),ma=function(r){cn(e,r);function e(t,n){var a=r.call(this,t,n)||this;return a.open=!0,a.lineOffsets=null,a.stringContent=null,a.lastLineBlank=!1,a.lastLineChecked=!1,a.type=t,a}return e}(Do),KFe=function(r){cn(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.listData=null,t}return e}(ma),JFe=function(r){cn(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.level=0,t.headingType="atx",t}return e}(ma),QFe=function(r){cn(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.isFenced=!1,t.fenceChar=null,t.fenceLength=0,t.fenceOffset=-1,t.info=null,t.infoPadding=0,t}return e}(ma),XFe=function(r){cn(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.columns=[],t}return e}(ma),ZFe=function(r){cn(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.startIdx=0,t.endIdx=0,t.paddingLeft=0,t.paddingRight=0,t.ignored=!1,t}return e}(ma),YFe=function(r){cn(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.title="",t.dest="",t.label="",t}return e}(ma),eHe=function(r){cn(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.syntaxLength=0,t.offset=-1,t.info="",t}return e}(ma),tHe=function(r){cn(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.htmlBlockType=-1,t}return e}(ma),rHe=function(r){cn(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.destination=null,t.title=null,t.extendedAutolink=!1,t}return e}(Do),nHe=function(r){cn(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.tickCount=0,t}return e}(Do),aHe=function(r){cn(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.info="",t}return e}(Do);function jt(r,e){switch(r){case"heading":return new JFe(r,e);case"list":case"item":return new KFe(r,e);case"link":case"image":return new rHe(r,e);case"codeBlock":return new QFe(r,e);case"htmlBlock":return new tHe(r,e);case"table":return new XFe(r,e);case"tableCell":return new ZFe(r,e);case"document":case"paragraph":case"blockQuote":case"thematicBreak":case"tableRow":case"tableBody":case"tableHead":case"frontMatter":return new ma(r,e);case"code":return new nHe(r,e);case"refDef":return new YFe(r,e);case"customBlock":return new eHe(r,e);case"customInline":return new aHe(r,e);default:return new Do(r,e)}}function Xm(r){return r.type==="codeBlock"}function iHe(r){return r.type==="htmlBlock"}function oHe(r){return r.type==="heading"}function Jp(r){return r.type==="list"}function sHe(r){return r.type==="table"}function Di(r){return r.type==="refDef"}function Zm(r){return r.type==="customBlock"}function lHe(r){return r.type==="customInline"}function Yt(r,e){var t=jt("text",e);return t.literal=r,t}var Ym="[A-Za-z][A-Za-z0-9-]*",uHe="[a-zA-Z_:][a-zA-Z0-9:._-]*",cHe="[^\"'=<>`\\x00-\\x20]+",fHe="'[^']*'",vHe='"[^"]*"',pHe="(?:"+cHe+"|"+fHe+"|"+vHe+")",dHe="(?:\\s*=\\s*"+pHe+")",hHe="(?:\\s+"+uHe+dHe+"?)",eg="<"+Ym+hHe+"*\\s*/?>",tg="</"+Ym+"\\s*[>]",mHe="<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->",gHe="[<][?].*?[?][>]",yHe="<![A-Z]+\\s+[^>]*>",bHe="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",wHe="(?:"+eg+"|"+tg+"|"+mHe+"|"+gHe+"|"+yHe+"|"+bHe+")",kHe=new RegExp("^"+wHe,"i");/*! http://mths.be/fromcodepoint v0.2.1 by @mathias */var Rc;if(String.fromCodePoint)Rc=function(r){try{return String.fromCodePoint(r)}catch(e){if(e instanceof RangeError)return"";throw e}};else{var CHe=String.fromCharCode,THe=Math.floor;Rc=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=16384,n=[],a,i,o=-1,l=r.length;if(!l)return"";for(var d="";++o<l;){var g=Number(r[o]);if(!isFinite(g)||g<0||g>1114111||THe(g)!==g)return"";g<=65535?n.push(g):(g-=65536,a=(g>>10)+55296,i=g%1024+56320,n.push(a,i)),(o+1===l||n.length>t)&&(d+=CHe.apply(void 0,n),n.length=0)}return d}}var ac=Rc,EHe="(?:[w-]+.)*[A-Za-z0-9-]+.[A-Za-z0-9-]+",xHe="[^<\\s]*[^<?!.,:*_?~\\s]",SHe="[\\w.+-]+@(?:[\\w-]+\\.)+[\\w-]+";function MHe(r){var e=/\)+$/.exec(r);if(e){for(var t=0,n=0,a=r;n<a.length;n++){var i=a[n];i==="("?t<0?t=1:t+=1:i===")"&&(t-=1)}if(t<0){var o=Math.min(-t,e[0].length);return r.substring(0,r.length-o)}}return r}function AHe(r){return r.replace(/&[A-Za-z0-9]+;$/,"")}function LHe(r){for(var e=new RegExp(SHe,"g"),t=[],n;n=e.exec(r);){var a=n[0];/[_-]+$/.test(a)||t.push({text:a,range:[n.index,n.index+a.length-1],url:"mailto:"+a})}return t}function DHe(r){for(var e=new RegExp("(www|https?://)."+EHe+xHe,"g"),t=[],n;n=e.exec(r);){var a=AHe(MHe(n[0])),i=n[1]==="www"?"http://":"";t.push({text:a,range:[n.index,n.index+a.length-1],url:""+i+a})}return t}function OHe(r){return Lc(Lc([],DHe(r)),LHe(r)).sort(function(e,t){return e.range[0]-t.range[0]})}function NHe(r,e){typeof e=="boolean"&&(e=OHe);for(var t,n=function(){var a=t.entering,i=t.node;if(a&&i.type==="text"&&i.parent.type!=="link"){var o=i.literal,l=e(o);if(!l||!l.length)return"continue";for(var d=0,g=i.sourcepos[0],C=g[0],T=g[1],S=function(ve,ye){return[[C,T+ve],[C,T+ye]]},M=[],O=0,I=l;O<I.length;O++){var q=I[O],z=q.range,V=q.url,G=q.text;z[0]>d&&M.push(Yt(o.substring(d,z[0]),S(d,z[0]-1)));var Z=jt("link",S.apply(void 0,z));Z.appendChild(Yt(G,S.apply(void 0,z))),Z.destination=V,Z.extendedAutolink=!0,M.push(Z),d=z[1]+1}d<o.length&&M.push(Yt(o.substring(d),S(d,o.length-1)));for(var ne=0,X=M;ne<X.length;ne++){var oe=X[ne];i.insertBefore(oe)}i.unlink()}};t=r.next();)n()}function Xs(r){return r[r.length-1]}function Qp(r){return r.slice(1,r.length-1).trim().replace(/[ \t\r\n]+/," ").toLowerCase().toUpperCase()}function Ts(r,e){Object.keys(r).forEach(function(t){e(t,r[t])})}function RHe(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];var n=br({},r);return e.forEach(function(a){delete n[a]}),n}function Oi(r){return!Object.keys(r).length}function IHe(r){Object.keys(r).forEach(function(e){delete r[e]})}var Ic=10,ic=42,Es=95,PHe=96,Xp=91,BHe=93,xs=126,Zp=60,qHe=33,Yp=92,FHe=38,ed=40,oc=41,HHe=58,Qa=39,Xa=34,Za=36,sc="\\\\"+Mf,td=new RegExp(/[!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/),_He=new RegExp('^(?:"('+sc+'|[^"\\x00])*"|'+("'("+sc+"|[^'\\x00])*'")+"|"+("\\(("+sc+"|[^()\\x00])*\\))")),zHe=/^(?:<(?:[^<>\n\\\x00]|\\.)*>)/,rd=new RegExp("^"+Mf),$He=new RegExp("^"+Qm,"i"),VHe=/`+/,UHe=/^`+/,jHe=/\.\.\./g,WHe=/--+/g,GHe=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,KHe=/^<[A-Za-z][A-Za-z0-9.+-]{1,31}:[^<>\x00-\x20]*>/i,JHe=/^ *(?:\n *)?/,lc=/^[ \t\n\x0b\x0c\x0d]/,nd=/^\s/,QHe=/ *$/,XHe=/^ */,ad=/^ *(?:\n|$)/,ZHe=/^\[(?:[^\\\[\]]|\\.){0,1000}\]/,YHe=/^[^\n`\[\]\\!<&*_'"~$]+/m,e_e=function(){function r(e){this.subject="",this.delimiters=null,this.brackets=null,this.pos=0,this.lineStartNum=0,this.lineIdx=0,this.lineOffsets=[0],this.linePosOffset=0,this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.options=e}return r.prototype.sourcepos=function(e,t){var n=this.linePosOffset+this.lineOffsets[this.lineIdx],a=this.lineStartNum+this.lineIdx,i=[a,e+n];return typeof t=="number"?[i,[a,t+n]]:i},r.prototype.nextLine=function(){this.lineIdx+=1,this.linePosOffset=-this.pos},r.prototype.match=function(e){var t=e.exec(this.subject.slice(this.pos));return t===null?null:(this.pos+=t.index+t[0].length,t[0])},r.prototype.peek=function(){return this.pos<this.subject.length?this.subject.charCodeAt(this.pos):-1},r.prototype.spnl=function(){return this.match(JHe),!0},r.prototype.parseBackticks=function(e){var t=this.pos+1,n=this.match(UHe);if(n===null)return!1;for(var a=this.pos,i;(i=this.match(VHe))!==null;)if(i===n){var o=this.subject.slice(a,this.pos-n.length),l=this.sourcepos(t,this.pos),d=o.split(`
`);if(d.length>1){var g=Xs(d);this.lineIdx+=d.length-1,this.linePosOffset=-(this.pos-g.length-n.length),l[1]=this.sourcepos(this.pos),o=d.join(" ")}var C=jt("code",l);return o.length>0&&o.match(/[^ ]/)!==null&&o[0]==" "&&o[o.length-1]==" "?C.literal=o.slice(1,o.length-1):C.literal=o,C.tickCount=n.length,e.appendChild(C),!0}return this.pos=a,e.appendChild(Yt(n,this.sourcepos(t,this.pos-1))),!0},r.prototype.parseBackslash=function(e){var t=this.subject,n;this.pos+=1;var a=this.pos;return this.peek()===Ic?(this.pos+=1,n=jt("linebreak",this.sourcepos(this.pos-1,this.pos)),e.appendChild(n),this.nextLine()):rd.test(t.charAt(this.pos))?(e.appendChild(Yt(t.charAt(this.pos),this.sourcepos(a,this.pos))),this.pos+=1):e.appendChild(Yt("\\",this.sourcepos(a,a))),!0},r.prototype.parseAutolink=function(e){var t,n,a,i=this.pos+1;return(t=this.match(GHe))?(n=t.slice(1,t.length-1),a=jt("link",this.sourcepos(i,this.pos)),a.destination=Cs("mailto:"+n),a.title="",a.appendChild(Yt(n,this.sourcepos(i+1,this.pos-1))),e.appendChild(a),!0):(t=this.match(KHe))?(n=t.slice(1,t.length-1),a=jt("link",this.sourcepos(i,this.pos)),a.destination=Cs(n),a.title="",a.appendChild(Yt(n,this.sourcepos(i+1,this.pos-1))),e.appendChild(a),!0):!1},r.prototype.parseHtmlTag=function(e){var t=this.pos+1,n=this.match(kHe);if(n===null)return!1;var a=jt("htmlInline",this.sourcepos(t,this.pos));return a.literal=n,e.appendChild(a),!0},r.prototype.scanDelims=function(e){var t=0,n=this.pos;if(e===Qa||e===Xa)t++,this.pos++;else for(;this.peek()===e;)t++,this.pos++;if(t===0||t<2&&(e===xs||e===Za))return this.pos=n,null;var a=n===0?`
`:this.subject.charAt(n-1),i=this.peek(),o;i===-1?o=`
`:o=ac(i);var l=nd.test(o),d=td.test(o),g=nd.test(a),C=td.test(a),T=!l&&(!d||g||C),S=!g&&(!C||l||d),M,O;return e===Es?(M=T&&(!S||C),O=S&&(!T||d)):e===Qa||e===Xa?(M=T&&!S,O=S):e===Za?(M=!l,O=!g):(M=T,O=S),this.pos=n,{numdelims:t,canOpen:M,canClose:O}},r.prototype.handleDelim=function(e,t){var n=this.scanDelims(e);if(!n)return!1;var a=n.numdelims,i=this.pos+1,o;this.pos+=a,e===Qa?o="":e===Xa?o="":o=this.subject.slice(i-1,this.pos);var l=Yt(o,this.sourcepos(i,this.pos));return t.appendChild(l),(n.canOpen||n.canClose)&&(this.options.smart||e!==Qa&&e!==Xa)&&(this.delimiters={cc:e,numdelims:a,origdelims:a,node:l,previous:this.delimiters,next:null,canOpen:n.canOpen,canClose:n.canClose},this.delimiters.previous&&(this.delimiters.previous.next=this.delimiters)),!0},r.prototype.removeDelimiter=function(e){e.previous!==null&&(e.previous.next=e.next),e.next===null?this.delimiters=e.previous:e.next.previous=e.previous},r.prototype.removeDelimitersBetween=function(e,t){e.next!==t&&(e.next=t,t.previous=e)},r.prototype.processEmphasis=function(e){var t,n,a,i,o,l,d,g=!1,C=(t={},t[Es]=[e,e,e],t[ic]=[e,e,e],t[Qa]=[e],t[Xa]=[e],t[xs]=[e],t[Za]=[e],t);for(a=this.delimiters;a!==null&&a.previous!==e;)a=a.previous;for(;a!==null;){var T=a.cc,S=T===Es||T===ic;if(!a.canClose)a=a.next;else{for(n=a.previous,d=!1;n!==null&&n!==e&&n!==C[T][S?a.origdelims%3:0];){if(g=S&&(a.canOpen||n.canClose)&&a.origdelims%3!==0&&(n.origdelims+a.origdelims)%3===0,n.cc===a.cc&&n.canOpen&&!g){d=!0;break}n=n.previous}if(i=a,S||T===xs||T===Za){if(!d)a=a.next;else if(n){var M=a.numdelims>=2&&n.numdelims>=2?2:1,O=S?0:1;o=n.node,l=a.node;var I=S?M===1?"emph":"strong":"strike";T===Za&&(I="customInline");var q=jt(I),z=o.sourcepos[1],V=l.sourcepos[0];q.sourcepos=[[z[0],z[1]-M+1],[V[0],V[1]+M-1]],o.sourcepos[1][1]-=M,l.sourcepos[0][1]+=M,o.literal=o.literal.slice(M),l.literal=l.literal.slice(M),n.numdelims-=M,a.numdelims-=M;for(var G=o.next,Z=void 0;G&&G!==l;)Z=G.next,G.unlink(),q.appendChild(G),G=Z;if(T===Za){var ne=q.firstChild,X=ne.literal||"",oe=X.split(/\s/)[0];q.info=oe,X.length<=oe.length?ne.unlink():(ne.sourcepos[0][1]+=oe.length,ne.literal=X.replace(oe+" ",""))}if(o.insertAfter(q),this.removeDelimitersBetween(n,a),n.numdelims<=O&&(n.numdelims===0&&o.unlink(),this.removeDelimiter(n)),a.numdelims<=O){a.numdelims===0&&l.unlink();var ve=a.next;this.removeDelimiter(a),a=ve}}}else T===Qa?(a.node.literal="",d&&(n.node.literal=""),a=a.next):T===Xa&&(a.node.literal="",d&&(n.node.literal=""),a=a.next);d||(C[T][S?i.origdelims%3:0]=i.previous,i.canOpen||this.removeDelimiter(i))}}for(;this.delimiters!==null&&this.delimiters!==e;)this.removeDelimiter(this.delimiters)},r.prototype.parseLinkTitle=function(){var e=this.match(_He);return e===null?null:Co(e.substr(1,e.length-2))},r.prototype.parseLinkDestination=function(){var e=this.match(zHe);if(e===null){if(this.peek()===Zp)return null;for(var t=this.pos,n=0,a=void 0;(a=this.peek())!==-1;)if(a===Yp&&rd.test(this.subject.charAt(this.pos+1)))this.pos+=1,this.peek()!==-1&&(this.pos+=1);else if(a===ed)this.pos+=1,n+=1;else if(a===oc){if(n<1)break;this.pos+=1,n-=1}else{if(lc.exec(ac(a))!==null)break;this.pos+=1}return this.pos===t&&a!==oc||n!==0?null:(e=this.subject.substr(t,this.pos-t),Cs(Co(e)))}return Cs(Co(e.substr(1,e.length-2)))},r.prototype.parseLinkLabel=function(){var e=this.match(ZHe);return e===null||e.length>1001?0:e.length},r.prototype.parseOpenBracket=function(e){var t=this.pos;this.pos+=1;var n=Yt("[",this.sourcepos(this.pos,this.pos));return e.appendChild(n),this.addBracket(n,t,!1),!0},r.prototype.parseBang=function(e){var t=this.pos;if(this.pos+=1,this.peek()===Xp){this.pos+=1;var n=Yt("![",this.sourcepos(this.pos-1,this.pos));e.appendChild(n),this.addBracket(n,t+1,!0)}else{var n=Yt("!",this.sourcepos(this.pos,this.pos));e.appendChild(n)}return!0},r.prototype.parseCloseBracket=function(e){var t=null,n=null,a=!1;this.pos+=1;var i=this.pos,o=this.brackets;if(o===null)return e.appendChild(Yt("]",this.sourcepos(i,i))),!0;if(!o.active)return e.appendChild(Yt("]",this.sourcepos(i,i))),this.removeBracket(),!0;var l=o.image,d=this.pos;this.peek()===ed&&(this.pos++,this.spnl()&&(t=this.parseLinkDestination())!==null&&this.spnl()&&(lc.test(this.subject.charAt(this.pos-1))&&(n=this.parseLinkTitle())||!0)&&this.spnl()&&this.peek()===oc?(this.pos+=1,a=!0):this.pos=d);var g="";if(!a){var C=this.pos,T=this.parseLinkLabel();if(T>2?g=this.subject.slice(C,C+T):o.bracketAfter||(g=this.subject.slice(o.index,i)),T===0&&(this.pos=d),g){g=Qp(g);var S=this.refMap[g];S&&(t=S.destination,n=S.title,a=!0)}}if(a){var M=jt(l?"image":"link");M.destination=t,M.title=n||"",M.sourcepos=[o.startpos,this.sourcepos(this.pos)];for(var O=o.node.next,I=void 0;O;)I=O.next,O.unlink(),M.appendChild(O),O=I;if(e.appendChild(M),this.processEmphasis(o.previousDelimiter),this.removeBracket(),o.node.unlink(),!l)for(o=this.brackets;o!==null;)o.image||(o.active=!1),o=o.previous;return this.options.referenceDefinition&&(this.refLinkCandidateMap[e.id]={node:e,refLabel:g}),!0}return this.removeBracket(),this.pos=i,e.appendChild(Yt("]",this.sourcepos(i,i))),this.options.referenceDefinition&&(this.refLinkCandidateMap[e.id]={node:e,refLabel:g}),!0},r.prototype.addBracket=function(e,t,n){this.brackets!==null&&(this.brackets.bracketAfter=!0),this.brackets={node:e,startpos:this.sourcepos(t+(n?0:1)),previous:this.brackets,previousDelimiter:this.delimiters,index:t,image:n,active:!0}},r.prototype.removeBracket=function(){this.brackets&&(this.brackets=this.brackets.previous)},r.prototype.parseEntity=function(e){var t,n=this.pos+1;return(t=this.match($He))?(e.appendChild(Yt(Ef.decodeHTML(t),this.sourcepos(n,this.pos))),!0):!1},r.prototype.parseString=function(e){var t,n=this.pos+1;if(t=this.match(YHe)){if(this.options.smart){var a=t.replace(jHe,"").replace(WHe,function(o){var l=0,d=0;return o.length%3===0?d=o.length/3:o.length%2===0?l=o.length/2:o.length%3===2?(l=1,d=(o.length-2)/3):(l=2,d=(o.length-4)/3),Oc("",d)+Oc("",l)});e.appendChild(Yt(a,this.sourcepos(n,this.pos)))}else{var i=Yt(t,this.sourcepos(n,this.pos));e.appendChild(i)}return!0}return!1},r.prototype.parseNewline=function(e){this.pos+=1;var t=e.lastChild;if(t&&t.type==="text"&&t.literal[t.literal.length-1]===" "){var n=t.literal[t.literal.length-2]===" ",a=t.literal.length;t.literal=t.literal.replace(QHe,"");var i=a-t.literal.length;t.sourcepos[1][1]-=i,e.appendChild(jt(n?"linebreak":"softbreak",this.sourcepos(this.pos-i,this.pos)))}else e.appendChild(jt("softbreak",this.sourcepos(this.pos,this.pos)));return this.nextLine(),this.match(XHe),!0},r.prototype.parseReference=function(e,t){if(!this.options.referenceDefinition)return 0;this.subject=e.stringContent,this.pos=0;var n=null,a=this.pos,i=this.parseLinkLabel();if(i===0)return 0;var o=this.subject.substr(0,i);if(this.peek()===HHe)this.pos++;else return this.pos=a,0;this.spnl();var l=this.parseLinkDestination();if(l===null)return this.pos=a,0;var d=this.pos;this.spnl(),this.pos!==d&&(n=this.parseLinkTitle()),n===null&&(n="",this.pos=d);var g=!0;if(this.match(ad)===null&&(n===""?g=!1:(n="",this.pos=d,g=this.match(ad)!==null)),!g)return this.pos=a,0;var C=Qp(o);if(C==="")return this.pos=a,0;var T=this.getReferenceDefSourcepos(e);e.sourcepos[0][0]=T[1][0]+1;var S=jt("refDef",T);return S.title=n,S.dest=l,S.label=C,e.insertBefore(S),t[C]?this.refDefCandidateMap[S.id]=S:t[C]=qc(S),this.pos-a},r.prototype.mergeTextNodes=function(e){for(var t,n=[];t=e.next();){var a=t.entering,i=t.node;if(a&&i.type==="text")n.push(i);else if(n.length===1)n=[];else if(n.length>1){var o=n[0],l=n[n.length-1];o.sourcepos&&l.sourcepos&&(o.sourcepos[1]=l.sourcepos[1]),o.next=l.next,o.next&&(o.next.prev=o);for(var d=1;d<n.length;d+=1)o.literal+=n[d].literal,n[d].unlink();n=[]}}},r.prototype.getReferenceDefSourcepos=function(e){for(var t=e.stringContent.split(/\n|\r\n/),n=!1,a=0,i={line:0,ch:0},o=0;o<t.length;o+=1){var l=t[o];if(lc.test(l))break;if(/\:/.test(l)&&a===0){if(n)break;var d=l.indexOf(":")===l.length-1?o+1:o;i={line:d,ch:t[d].length},n=!0}var g=l.match(/'|"/g);if(g&&(a+=g.length),a===2){i={line:o,ch:l.length};break}}return[[e.sourcepos[0][0],e.sourcepos[0][1]],[e.sourcepos[0][0]+i.line,i.ch]]},r.prototype.parseInline=function(e){var t,n=!1,a=this.peek();if(a===-1)return!1;switch(a){case Ic:n=this.parseNewline(e);break;case Yp:n=this.parseBackslash(e);break;case PHe:n=this.parseBackticks(e);break;case ic:case Es:case xs:case Za:n=this.handleDelim(a,e);break;case Qa:case Xa:n=!!(!((t=this.options)===null||t===void 0)&&t.smart)&&this.handleDelim(a,e);break;case Xp:n=this.parseOpenBracket(e);break;case qHe:n=this.parseBang(e);break;case BHe:n=this.parseCloseBracket(e);break;case Zp:n=this.parseAutolink(e)||this.parseHtmlTag(e);break;case FHe:e.disabledEntityParse||(n=this.parseEntity(e));break;default:n=this.parseString(e);break}return n||(this.pos+=1,e.appendChild(Yt(ac(a),this.sourcepos(this.pos,this.pos+1)))),!0},r.prototype.parse=function(e){for(this.subject=e.stringContent.trim(),this.pos=0,this.delimiters=null,this.brackets=null,this.lineOffsets=e.lineOffsets||[0],this.lineIdx=0,this.linePosOffset=0,this.lineStartNum=e.sourcepos[0][0],oHe(e)&&(this.lineOffsets[0]+=e.level+1);this.parseInline(e););e.stringContent=null,this.processEmphasis(null),this.mergeTextNodes(e.walker());var t=this.options,n=t.extendedAutolinks,a=t.customParser;if(n&&NHe(e.walker(),n),a&&e.firstChild)for(var i,o=e.firstChild.walker();i=o.next();){var l=i.node,d=i.entering;a[l.type]&&a[l.type](l,{entering:d,options:this.options})}},r}(),t_e=/^\[([ \txX])\][ \t]+/;function r_e(r,e){if(e.firstChild&&e.firstChild.type==="paragraph"){var t=e.firstChild,n=t.stringContent.match(t_e);if(n){var a=n[0].length;t.stringContent=t.stringContent.substring(a-1),t.sourcepos[0][1]+=a,t.lineOffsets[0]+=a,e.listData.task=!0,e.listData.checked=/[xX]/.test(n[1])}}}var n_e={continue:function(){return 0},finalize:function(){},canContain:function(r){return r==="tableHead"||r==="tableBody"},acceptsLines:!1},a_e={continue:function(){return 0},finalize:function(){},canContain:function(r){return r==="tableRow"},acceptsLines:!1},i_e={continue:function(){return 1},finalize:function(){},canContain:function(r){return r==="tableRow"||r==="tableDelimRow"},acceptsLines:!1},o_e={continue:function(){return 1},finalize:function(){},canContain:function(r){return r==="tableDelimCell"},acceptsLines:!1},s_e={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},l_e={continue:function(){return 1},finalize:function(){},canContain:function(r){return r==="tableCell"},acceptsLines:!1},u_e={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},Zs=4,rg=9,ng=62,c_e=60,ag=32,ig=91,og=/[^ \t\f\v\r\n]/,f_e=/^(?:`{3,}|~{3,})(?= *$)/;function id(r){for(var e=r;e;){if(e.lastLineBlank)return!0;var t=e.type;if(!e.lastLineChecked&&(t==="list"||t==="item"))e.lastLineChecked=!0,e=e.lastChild;else{e.lastLineChecked=!0;break}}return!1}function Jr(r,e){return e<r.length?r.charCodeAt(e):-1}function sg(r){return!og.test(r)}function Wi(r){return r===ag||r===rg}var v_e=/^\$\$$/,p_e={continue:function(r,e){var t=r.currentLine,n=t.match(v_e);if(n)return r.lastLineLength=n[0].length,r.finalize(e,r.lineNumber),2;for(var a=e.offset;a>0&&Wi(Jr(t,r.offset));)r.advanceOffset(1,!0),a--;return 0},finalize:function(r,e){if(e.stringContent!==null){var t=e.stringContent,n=t.indexOf(`
`),a=t.slice(0,n),i=t.slice(n+1),o=a.match(/^(\s*)(.*)/);e.info=Co(o[2].trim()),e.literal=i,e.stringContent=null}},canContain:function(){return!1},acceptsLines:!0},lg={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!0},d_e={continue:function(){return 0},finalize:function(){},canContain:function(r){return r!=="item"},acceptsLines:!1},h_e={continue:function(){return 0},finalize:function(r,e){for(var t=e.firstChild;t;){if(id(t)&&t.next){e.listData.tight=!1;break}for(var n=t.firstChild;n;){if(id(n)&&(t.next||n.next)){e.listData.tight=!1;break}n=n.next}t=t.next}},canContain:function(r){return r==="item"},acceptsLines:!1},m_e={continue:function(r){var e=r.currentLine;if(!r.indented&&Jr(e,r.nextNonspace)===ng)r.advanceNextNonspace(),r.advanceOffset(1,!1),Wi(Jr(e,r.offset))&&r.advanceOffset(1,!0);else return 1;return 0},finalize:function(){},canContain:function(r){return r!=="item"},acceptsLines:!1},g_e={continue:function(r,e){if(r.blank){if(e.firstChild===null)return 1;r.advanceNextNonspace()}else if(r.indent>=e.listData.markerOffset+e.listData.padding)r.advanceOffset(e.listData.markerOffset+e.listData.padding,!0);else return 1;return 0},finalize:r_e,canContain:function(r){return r!=="item"},acceptsLines:!1},y_e={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},b_e={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},w_e={continue:function(r,e){var t=r.currentLine,n=r.indent;if(e.isFenced){var a=n<=3&&t.charAt(r.nextNonspace)===e.fenceChar&&t.slice(r.nextNonspace).match(f_e);if(a&&a[0].length>=e.fenceLength)return r.lastLineLength=r.offset+n+a[0].length,r.finalize(e,r.lineNumber),2;for(var i=e.fenceOffset;i>0&&Wi(Jr(t,r.offset));)r.advanceOffset(1,!0),i--}else if(n>=Zs)r.advanceOffset(Zs,!0);else if(r.blank)r.advanceNextNonspace();else return 1;return 0},finalize:function(r,e){var t;if(e.stringContent!==null){if(e.isFenced){var n=e.stringContent,a=n.indexOf(`
`),i=n.slice(0,a),o=n.slice(a+1),l=i.match(/^(\s*)(.*)/);e.infoPadding=l[1].length,e.info=Co(l[2].trim()),e.literal=o}else e.literal=(t=e.stringContent)===null||t===void 0?void 0:t.replace(/(\n *)+$/,`
`);e.stringContent=null}},canContain:function(){return!1},acceptsLines:!0},k_e={continue:function(r,e){return r.blank&&(e.htmlBlockType===6||e.htmlBlockType===7)?1:0},finalize:function(r,e){var t;e.literal=((t=e.stringContent)===null||t===void 0?void 0:t.replace(/(\n *)+$/,""))||null,e.stringContent=null},canContain:function(){return!1},acceptsLines:!0},C_e={continue:function(r){return r.blank?1:0},finalize:function(r,e){if(e.stringContent!==null){for(var t,n=!1;Jr(e.stringContent,0)===ig&&(t=r.inlineParser.parseReference(e,r.refMap));)e.stringContent=e.stringContent.slice(t),n=!0;n&&sg(e.stringContent)&&e.unlink()}},canContain:function(){return!1},acceptsLines:!0},T_e=lg,E_e=lg,Ni={document:d_e,list:h_e,blockQuote:m_e,item:g_e,heading:y_e,thematicBreak:b_e,codeBlock:w_e,htmlBlock:k_e,paragraph:C_e,table:n_e,tableBody:a_e,tableHead:i_e,tableRow:l_e,tableCell:u_e,tableDelimRow:o_e,tableDelimCell:s_e,refDef:T_e,customBlock:p_e,frontMatter:E_e};function Pc(r){for(var e=0,t=0,n=[],a=0;a<r.length;a+=1)if(r[a]==="|"&&r[a-1]!=="\\"){var i=r.substring(e,a);e===0&&Kp(i)?t=a+1:n.push(i),e=a+1}if(e<r.length){var i=r.substring(e,r.length);Kp(i)||n.push(i)}return[t,n]}function Bc(r,e,t,n){for(var a=[],i=0,o=e;i<o.length;i++){var l=o[i],d=l.match(/^[ \t]+/),g=d?d[0].length:0,C=void 0,T=void 0;if(g===l.length)g=0,C=0,T="";else{var S=l.match(/[ \t]+$/);C=S?S[0].length:0,T=l.slice(g,l.length-C)}var M=n+g,O=jt(r,[[t,n],[t,n+l.length-1]]);O.stringContent=T.replace(/\\\|/g,"|"),O.startIdx=a.length,O.endIdx=a.length,O.lineOffsets=[M-1],O.paddingLeft=g,O.paddingRight=C,a.push(O),n+=l.length+1}return a}function x_e(r){var e=null,t=r.stringContent,n=t[0],a=t[t.length-1];return a===":"?e=n===":"?"center":"right":n===":"&&(e="left"),{align:e}}var S_e=function(r,e){var t=e.stringContent;if(e.type==="paragraph"&&!r.indented&&!r.blank){var n=t.length-1,a=t.lastIndexOf(`
`,n-1)+1,i=t.slice(a,n),o=r.currentLine.slice(r.nextNonspace),l=Pc(i),d=l[0],g=l[1],C=Pc(o),T=C[0],S=C[1],M=/^[ \t]*:?-+:?[ \t]*$/;if(!g.length||!S.length||S.some(function(ve){return!M.test(ve)})||S.length===1&&o.indexOf("|")!==0)return 0;var O=e.lineOffsets,I=r.lineNumber-1,q=Xs(O)+1,z=jt("table",[[I,q],[r.lineNumber,r.offset]]);if(z.columns=S.map(function(){return{align:null}}),e.insertAfter(z),O.length===1)e.unlink();else{e.stringContent=t.slice(0,a);var V=t.lastIndexOf(`
`,a-2)+1,G=a-V-1;r.lastLineLength=O[O.length-2]+G,r.finalize(e,I-1)}r.advanceOffset(r.currentLine.length-r.offset,!1);var Z=jt("tableHead",[[I,q],[r.lineNumber,r.offset]]);z.appendChild(Z);var ne=jt("tableRow",[[I,q],[I,q+i.length-1]]),X=jt("tableDelimRow",[[r.lineNumber,r.nextNonspace+1],[r.lineNumber,r.offset]]);Z.appendChild(ne),Z.appendChild(X),Bc("tableCell",g,I,q+d).forEach(function(ve){ne.appendChild(ve)});var oe=Bc("tableDelimCell",S,r.lineNumber,r.nextNonspace+1+T);return oe.forEach(function(ve){X.appendChild(ve)}),z.columns=oe.map(x_e),r.tip=z,2}return 0},M_e=function(r,e){if(e.type!=="table"&&e.type!=="tableBody"||!r.blank&&r.currentLine.indexOf("|")===-1)return 0;if(r.advanceOffset(r.currentLine.length-r.offset,!1),r.blank){var t=e;return e.type==="tableBody"&&(t=e.parent,r.finalize(e,r.lineNumber-1)),r.finalize(t,r.lineNumber-1),0}var n=e;e.type==="table"&&(n=r.addChild("tableBody",r.nextNonspace),n.stringContent=null);var a=jt("tableRow",[[r.lineNumber,r.nextNonspace+1],[r.lineNumber,r.currentLine.length]]);n.appendChild(a);var i=n.parent,o=r.currentLine.slice(r.nextNonspace),l=Pc(o),d=l[0],g=l[1];return Bc("tableCell",g,r.lineNumber,r.nextNonspace+1+d).forEach(function(C,T){T>=i.columns.length&&(C.ignored=!0),a.appendChild(C)}),2},A_e=/^(\$\$)(\s*[a-zA-Z])+/,L_e=/^(\$\$)(\s*[a-zA-Z])+.*(\$\$)/,D_e=function(r){var e;if(!r.indented&&!L_e.test(r.currentLine)&&(e=r.currentLine.match(A_e))){var t=e[1].length;r.closeUnmatchedBlocks();var n=r.addChild("customBlock",r.nextNonspace);return n.syntaxLength=t,n.offset=r.indent,r.advanceNextNonspace(),r.advanceOffset(t,!1),2}return 0},O_e=/^`{3,}(?!.*`)|^~{3,}/,N_e=[/./,/^<(?:script|pre|style)(?:\s|>|$)/i,/^<!--/,/^<[?]/,/^<![A-Z]/,/^<!\[CDATA\[/,/^<[/]?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[123456]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|[/]?[>]|$)/i,new RegExp("^(?:"+eg+"|"+tg+")\\s*$","i")],R_e=/^(?:=+|-+)[ \t]*$/,I_e=/^#{1,6}(?:[ \t]+|$)/,P_e=/^(?:(?:\*[ \t]*){3,}|(?:_[ \t]*){3,}|(?:-[ \t]*){3,})[ \t]*$/,ug=/^[*+-]/,cg=/^(\d{1,9})([.)])/;function B_e(r,e){var t=r.currentLine.slice(r.nextNonspace),n,a,i={type:"bullet",tight:!0,bulletChar:"",start:0,delimiter:"",padding:0,markerOffset:r.indent,task:!1,checked:!1};if(r.indent>=4)return null;if(n=t.match(ug))i.type="bullet",i.bulletChar=n[0][0];else if((n=t.match(cg))&&(e.type!=="paragraph"||n[1]==="1"))i.type="ordered",i.start=parseInt(n[1],10),i.delimiter=n[2];else return null;if(a=Jr(r.currentLine,r.nextNonspace+n[0].length),!(a===-1||a===rg||a===ag)||e.type==="paragraph"&&!r.currentLine.slice(r.nextNonspace+n[0].length).match(og))return null;r.advanceNextNonspace(),r.advanceOffset(n[0].length,!0);var o=r.column,l=r.offset;do r.advanceOffset(1,!0),a=Jr(r.currentLine,r.offset);while(r.column-o<5&&Wi(a));var d=Jr(r.currentLine,r.offset)===-1,g=r.column-o;return g>=5||g<1||d?(i.padding=n[0].length+1,r.column=o,r.offset=l,Wi(Jr(r.currentLine,r.offset))&&r.advanceOffset(1,!0)):i.padding=n[0].length+g,i}function q_e(r,e){return r.type===e.type&&r.delimiter===e.delimiter&&r.bulletChar===e.bulletChar}function fg(r,e){return r.options.disallowDeepHeading&&(e.type==="blockQuote"||e.type==="item")}var F_e=function(r){return!r.indented&&Jr(r.currentLine,r.nextNonspace)===ng?(r.advanceNextNonspace(),r.advanceOffset(1,!1),Wi(Jr(r.currentLine,r.offset))&&r.advanceOffset(1,!0),r.closeUnmatchedBlocks(),r.addChild("blockQuote",r.nextNonspace),1):0},H_e=function(r,e){var t;if(!r.indented&&!fg(r,e)&&(t=r.currentLine.slice(r.nextNonspace).match(I_e))){r.advanceNextNonspace(),r.advanceOffset(t[0].length,!1),r.closeUnmatchedBlocks();var n=r.addChild("heading",r.nextNonspace);return n.level=t[0].trim().length,n.headingType="atx",n.stringContent=r.currentLine.slice(r.offset).replace(/^[ \t]*#+[ \t]*$/,"").replace(/[ \t]+#+[ \t]*$/,""),r.advanceOffset(r.currentLine.length-r.offset),2}return 0},__e=function(r){var e;if(!r.indented&&(e=r.currentLine.slice(r.nextNonspace).match(O_e))){var t=e[0].length;r.closeUnmatchedBlocks();var n=r.addChild("codeBlock",r.nextNonspace);return n.isFenced=!0,n.fenceLength=t,n.fenceChar=e[0][0],n.fenceOffset=r.indent,r.advanceNextNonspace(),r.advanceOffset(t,!1),2}return 0},z_e=function(r,e){if(!r.indented&&Jr(r.currentLine,r.nextNonspace)===c_e){var t=r.currentLine.slice(r.nextNonspace),n=r.options.disallowedHtmlBlockTags,a=void 0;for(a=1;a<=7;a++){var i=t.match(N_e[a]);if(i){if(a===7){if(e.type==="paragraph")return 0;if(n.length>0){var o=new RegExp("</?(?:"+n.join("|")+")","i");if(o.test(i[0]))return 0}}r.closeUnmatchedBlocks();var l=r.addChild("htmlBlock",r.offset);return l.htmlBlockType=a,2}}}return 0},$_e=function(r,e){var t;if(e.stringContent!==null&&!r.indented&&e.type==="paragraph"&&!fg(r,e.parent)&&(t=r.currentLine.slice(r.nextNonspace).match(R_e))){r.closeUnmatchedBlocks();for(var n=void 0;Jr(e.stringContent,0)===ig&&(n=r.inlineParser.parseReference(e,r.refMap));)e.stringContent=e.stringContent.slice(n);if(e.stringContent.length>0){var a=jt("heading",e.sourcepos);return a.level=t[0][0]==="="?1:2,a.headingType="setext",a.stringContent=e.stringContent,e.insertAfter(a),e.unlink(),r.tip=a,r.advanceOffset(r.currentLine.length-r.offset,!1),2}return 0}return 0},V_e=function(r){return!r.indented&&P_e.test(r.currentLine.slice(r.nextNonspace))?(r.closeUnmatchedBlocks(),r.addChild("thematicBreak",r.nextNonspace),r.advanceOffset(r.currentLine.length-r.offset,!1),2):0},U_e=function(r,e){var t,n=e;return(!r.indented||e.type==="list")&&(t=B_e(r,n))?(r.closeUnmatchedBlocks(),(r.tip.type!=="list"||!q_e(n.listData,t))&&(n=r.addChild("list",r.nextNonspace),n.listData=t),n=r.addChild("item",r.nextNonspace),n.listData=t,1):0},j_e=function(r){return r.indented&&r.tip.type!=="paragraph"&&!r.blank?(r.advanceOffset(Zs,!0),r.closeUnmatchedBlocks(),r.addChild("codeBlock",r.offset),2):0},uc=[F_e,H_e,__e,z_e,$_e,V_e,U_e,j_e,S_e,M_e,D_e],vg=/^(-{3}|\+{3}|;{3})$/,W_e=function(r,e){var t=r.currentLine,n=r.lineNumber,a=r.indented;if(n===1&&!a&&e.type==="document"&&vg.test(t)){r.closeUnmatchedBlocks();var i=r.addChild("frontMatter",r.nextNonspace);return i.stringContent=t,r.advanceNextNonspace(),r.advanceOffset(t.length,!1),2}return 0},G_e={continue:function(r,e){var t=r.currentLine,n=t.match(vg);return e.type==="frontMatter"&&n?(e.stringContent+=t,r.lastLineLength=n[0].length,r.finalize(e,r.lineNumber),2):0},finalize:function(r,e){e.stringContent!==null&&(e.literal=e.stringContent,e.stringContent=null)},canContain:function(){return!1},acceptsLines:!0},K_e=[/./,/<\/(?:script|pre|style)>/i,/-->/,/\?>/,/>/,/\]\]>/],J_e=/^[#`~*+_=<>0-9-;$]/,Q_e=/\r\n|\n|\r/;function cc(){return jt("document",[[1,1],[0,0]])}var X_e={smart:!1,tagFilter:!1,extendedAutolinks:!1,disallowedHtmlBlockTags:[],referenceDefinition:!1,disallowDeepHeading:!1,customParser:null,frontMatter:!1},Z_e=function(){function r(e){this.options=br(br({},X_e),e),this.doc=cc(),this.tip=this.doc,this.oldtip=this.doc,this.lineNumber=0,this.offset=0,this.column=0,this.nextNonspace=0,this.nextNonspaceColumn=0,this.indent=0,this.currentLine="",this.indented=!1,this.blank=!1,this.partiallyConsumedTab=!1,this.allClosed=!0,this.lastMatchedContainer=this.doc,this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.lastLineLength=0,this.lines=[],this.options.frontMatter&&(Ni.frontMatter=G_e,uc.unshift(W_e)),this.inlineParser=new e_e(this.options)}return r.prototype.advanceOffset=function(e,t){t===void 0&&(t=!1);for(var n=this.currentLine,a,i,o;e>0&&(o=n[this.offset]);)o==="	"?(a=4-this.column%4,t?(this.partiallyConsumedTab=a>e,i=a>e?e:a,this.column+=i,this.offset+=this.partiallyConsumedTab?0:1,e-=i):(this.partiallyConsumedTab=!1,this.column+=a,this.offset+=1,e-=1)):(this.partiallyConsumedTab=!1,this.offset+=1,this.column+=1,e-=1)},r.prototype.advanceNextNonspace=function(){this.offset=this.nextNonspace,this.column=this.nextNonspaceColumn,this.partiallyConsumedTab=!1},r.prototype.findNextNonspace=function(){for(var e=this.currentLine,t=this.offset,n=this.column,a;(a=e.charAt(t))!=="";)if(a===" ")t++,n++;else if(a==="	")t++,n+=4-n%4;else break;this.blank=a===`
`||a==="\r"||a==="",this.nextNonspace=t,this.nextNonspaceColumn=n,this.indent=this.nextNonspaceColumn-this.column,this.indented=this.indent>=Zs},r.prototype.addLine=function(){if(this.partiallyConsumedTab){this.offset+=1;var e=4-this.column%4;this.tip.stringContent+=Oc(" ",e)}this.tip.lineOffsets?this.tip.lineOffsets.push(this.offset):this.tip.lineOffsets=[this.offset],this.tip.stringContent+=this.currentLine.slice(this.offset)+`
`},r.prototype.addChild=function(e,t){for(;!Ni[this.tip.type].canContain(e);)this.finalize(this.tip,this.lineNumber-1);var n=t+1,a=jt(e,[[this.lineNumber,n],[0,0]]);return a.stringContent="",this.tip.appendChild(a),this.tip=a,a},r.prototype.closeUnmatchedBlocks=function(){if(!this.allClosed){for(;this.oldtip!==this.lastMatchedContainer;){var e=this.oldtip.parent;this.finalize(this.oldtip,this.lineNumber-1),this.oldtip=e}this.allClosed=!0}},r.prototype.finalize=function(e,t){var n=e.parent;e.open=!1,e.sourcepos[1]=[t,this.lastLineLength],Ni[e.type].finalize(this,e),this.tip=n},r.prototype.processInlines=function(e){var t,n=this.options.customParser,a=e.walker();for(this.inlineParser.refMap=this.refMap,this.inlineParser.refLinkCandidateMap=this.refLinkCandidateMap,this.inlineParser.refDefCandidateMap=this.refDefCandidateMap,this.inlineParser.options=this.options;t=a.next();){var i=t.node,o=t.entering,l=i.type;n&&n[l]&&n[l](i,{entering:o,options:this.options}),!o&&(l==="paragraph"||l==="heading"||l==="tableCell"&&!i.ignored)&&this.inlineParser.parse(i)}},r.prototype.incorporateLine=function(e){var t=this.doc;this.oldtip=this.tip,this.offset=0,this.column=0,this.blank=!1,this.partiallyConsumedTab=!1,this.lineNumber+=1,e.indexOf("\0")!==-1&&(e=e.replace(/\0/g,"")),this.currentLine=e;for(var n=!0,a;(a=t.lastChild)&&a.open;){switch(t=a,this.findNextNonspace(),Ni[t.type].continue(this,t)){case 0:break;case 1:n=!1;break;case 2:this.lastLineLength=e.length;return;default:throw new Error("continue returned illegal value, must be 0, 1, or 2")}if(!n){t=t.parent;break}}this.allClosed=t===this.oldtip,this.lastMatchedContainer=t;for(var i=t.type!=="paragraph"&&Ni[t.type].acceptsLines,o=uc.length;!i;){if(this.findNextNonspace(),t.type!=="table"&&t.type!=="tableBody"&&t.type!=="paragraph"&&!this.indented&&!J_e.test(e.slice(this.nextNonspace))){this.advanceNextNonspace();break}for(var l=0;l<o;){var d=uc[l](this,t);if(d===1){t=this.tip;break}else if(d===2){t=this.tip,i=!0;break}else l++}if(l===o){this.advanceNextNonspace();break}}if(!this.allClosed&&!this.blank&&this.tip.type==="paragraph")this.addLine();else{this.closeUnmatchedBlocks(),this.blank&&t.lastChild&&(t.lastChild.lastLineBlank=!0);for(var g=t.type,C=this.blank&&!(g==="blockQuote"||Xm(t)&&t.isFenced||g==="item"&&!t.firstChild&&t.sourcepos[0][0]===this.lineNumber),T=t;T;)T.lastLineBlank=C,T=T.parent;Ni[g].acceptsLines?(this.addLine(),iHe(t)&&t.htmlBlockType>=1&&t.htmlBlockType<=5&&K_e[t.htmlBlockType].test(this.currentLine.slice(this.offset))&&(this.lastLineLength=e.length,this.finalize(t,this.lineNumber))):this.offset<e.length&&!this.blank&&(t=this.addChild("paragraph",this.offset),this.advanceNextNonspace(),this.addLine())}this.lastLineLength=e.length},r.prototype.parse=function(e,t){this.doc=cc(),this.tip=this.doc,this.lineNumber=0,this.lastLineLength=0,this.offset=0,this.column=0,this.lastMatchedContainer=this.doc,this.currentLine="";var n=e.split(Q_e),a=n.length;this.lines=t||n,this.options.referenceDefinition&&this.clearRefMaps(),e.charCodeAt(e.length-1)===Ic&&(a-=1);for(var i=0;i<a;i++)this.incorporateLine(n[i]);for(;this.tip;)this.finalize(this.tip,a);return this.processInlines(this.doc),this.doc},r.prototype.partialParseStart=function(e,t){this.doc=cc(),this.tip=this.doc,this.lineNumber=e-1,this.lastLineLength=0,this.offset=0,this.column=0,this.lastMatchedContainer=this.doc,this.currentLine="";for(var n=t.length,a=0;a<n;a++)this.incorporateLine(t[a]);return this.doc},r.prototype.partialParseExtends=function(e){for(var t=0;t<e.length;t++)this.incorporateLine(e[t])},r.prototype.partialParseFinish=function(){for(;this.tip;)this.finalize(this.tip,this.lineNumber);this.processInlines(this.doc)},r.prototype.setRefMaps=function(e,t,n){this.refMap=e,this.refLinkCandidateMap=t,this.refDefCandidateMap=n},r.prototype.clearRefMaps=function(){[this.refMap,this.refLinkCandidateMap,this.refDefCandidateMap].forEach(function(e){IHe(e)})},r}();function od(r,e){return r[0]<e[0]?1:r[0]>e[0]?-1:r[1]<e[1]?1:r[1]>e[1]?-1:0}function Y_e(r,e){var t=r[0],n=r[1];return od(n,e)===1?1:od(t,e)===-1?-1:0}function e2e(r,e){if(!(r.parent!==e.parent||r===e)){for(var t=r.next;t&&t!==e;){for(var n=t.next,a=0,i=["parent","prev","next"];a<i.length;a++){var o=i[a];t[o]&&(Nc(t[o].id),t[o]=null)}t=n}r.next=e.next,e.next?e.next.prev=r:r.parent.lastChild=r}}function t2e(r){for(var e=[],t=r.firstChild;t;)e.push(t),t=t.next;return e}function sd(r,e){for(var t=0,n=e;t<n.length;t++){var a=n[t];r.insertBefore(a)}}function r2e(r,e){for(var t=e.length-1;t>=0;t-=1)r.prependChild(e[t])}function n2e(r,e){if(!(!r||!r.parent||e===0)){var t=r.parent.walker();t.resumeAt(r,!0);for(var n;n=t.next();){var a=n.node,i=n.entering;i&&(a.sourcepos[0][0]+=e,a.sourcepos[1][0]+=e)}}}function pg(r,e){var t=r[0],n=r[1];return n[0]<e?1:t[0]>e?-1:0}function Ss(r,e){for(var t=r.firstChild;t;){var n=pg(t.sourcepos,e);if(n===0)return t;if(n===-1)return t.prev||t;t=t.next}return r.lastChild}function a2e(r){for(;r.lastChild;)r=r.lastChild;return r}function i2e(r){for(;r.parent&&r.parent.type!=="document"&&r.parent.sourcepos[0][0]===r.sourcepos[0][0];)r=r.parent;return r}function o2e(r,e){for(var t=r.firstChild,n=null;t;){var a=pg(t.sourcepos,e);if(a===0){if(t.sourcepos[0][0]===e||!t.firstChild)return t;n=t,t=t.firstChild}else{if(a===-1)break;n=t,t=t.next}}return n?i2e(a2e(n)):null}function s2e(r,e){for(var t=r,n=null;t;){var a=Y_e(t.sourcepos,e);if(a===0)if(t.firstChild)n=t,t=t.firstChild;else return t;else{if(a===-1)return n;if(t.next)t=t.next;else return n}}return t}function dg(r){return WFe(r)||null}function fc(r,e,t){if(t===void 0&&(t=null),e)for(var n=e.walker();e&&e!==t;){r(e);var a=n.next();if(a)e=a.node;else break}}function l2e(r){var e=dg(r);if(!e)return!0;for(;e&&e.type!=="document";){if(!e.parent&&!e.prev&&!e.next)return!0;e=e.parent}return!1}var ld=/\r\n|\n|\r/;function u2e(r){var e=r.match(/^[ \t]+/);if(e&&(e[0].length>=2||/\t/.test(e[0])))return!0;var t=e?r.slice(e.length):r;return ug.test(t)||cg.test(t)}function c2e(r){return!sg(r)&&r.indexOf("|")!==-1}function qc(r){var e=r.id,t=r.title,n=r.sourcepos,a=r.dest;return{id:e,title:t,sourcepos:n,unlinked:!1,destination:a}}var hg=function(){function r(e,t){this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.referenceDefinition=!!(t!=null&&t.referenceDefinition),this.parser=new Z_e(t),this.parser.setRefMaps(this.refMap,this.refLinkCandidateMap,this.refDefCandidateMap),this.eventHandlerMap={change:[]},e=e||"",this.lineTexts=e.split(ld),this.root=this.parser.parse(e,this.lineTexts)}return r.prototype.updateLineTexts=function(e,t,n){var a,i=e[0],o=e[1],l=t[0],d=t[1],g=n.split(ld),C=g.length,T=this.lineTexts[i-1],S=this.lineTexts[l-1];g[0]=T.slice(0,o-1)+g[0],g[C-1]=g[C-1]+S.slice(d-1);var M=l-i+1;return(a=this.lineTexts).splice.apply(a,Lc([i-1,M],g)),C-M},r.prototype.updateRootNodeState=function(){if(this.lineTexts.length===1&&this.lineTexts[0]===""){this.root.lastLineBlank=!0,this.root.sourcepos=[[1,1],[1,0]];return}this.root.lastChild&&(this.root.lastLineBlank=this.root.lastChild.lastLineBlank);for(var e=this.lineTexts,t=e.length-1;e[t]==="";)t-=1;e.length-2>t&&(t+=1),this.root.sourcepos[1]=[t+1,e[t].length]},r.prototype.replaceRangeNodes=function(e,t,n){e?(sd(e,n),e2e(e,t),[e.id,t.id].forEach(function(a){return Nc(a)}),e.unlink()):t?(sd(t,n),Nc(t.id),t.unlink()):r2e(this.root,n)},r.prototype.getNodeRange=function(e,t){var n=Ss(this.root,e[0]),a=Ss(this.root,t[0]);return a&&a.next&&t[0]+1===a.next.sourcepos[0][0]&&(a=a.next),[n,a]},r.prototype.trigger=function(e,t){this.eventHandlerMap[e].forEach(function(n){n(t)})},r.prototype.extendEndLine=function(e){for(;this.lineTexts[e]==="";)e+=1;return e},r.prototype.parseRange=function(e,t,n,a){e&&e.prev&&(Jp(e.prev)&&u2e(this.lineTexts[n-1])||sHe(e.prev)&&c2e(this.lineTexts[n-1]))&&(e=e.prev,n=e.sourcepos[0][0]);for(var i=this.lineTexts.slice(n-1,a),o=this.parser.partialParseStart(n,i),l=t?t.next:this.root.firstChild,d=o.lastChild,g=d&&Xm(d)&&d.open,C=d&&Zm(d)&&d.open,T=d&&Jp(d);(g||C)&&l||T&&l&&(l.type==="list"||l.sourcepos[0][1]>=2);){var S=this.extendEndLine(l.sourcepos[1][0]);this.parser.partialParseExtends(this.lineTexts.slice(a,S)),e||(e=t),t=l,a=S,l=l.next}this.parser.partialParseFinish();var M=t2e(o);return{newNodes:M,extStartNode:e,extEndNode:t}},r.prototype.getRemovedNodeRange=function(e,t){return!e||e&&Di(e)||t&&Di(t)?null:{id:[e.id,t.id],line:[e.sourcepos[0][0]-1,t.sourcepos[1][0]-1]}},r.prototype.markDeletedRefMap=function(e,t){var n=this;if(!Oi(this.refMap)){var a=function(i){if(Di(i)){var o=n.refMap[i.label];o&&i.id===o.id&&(o.unlinked=!0)}};e&&fc(a,e.parent,t),t&&fc(a,t)}},r.prototype.replaceWithNewRefDefState=function(e){var t=this;if(!Oi(this.refMap)){var n=function(a){if(Di(a)){var i=a.label,o=t.refMap[i];(!o||o.unlinked)&&(t.refMap[i]=qc(a))}};e.forEach(function(a){fc(n,a)})}},r.prototype.replaceWithRefDefCandidate=function(){var e=this;Oi(this.refDefCandidateMap)||Ts(this.refDefCandidateMap,function(t,n){var a=n.label,i=n.sourcepos,o=e.refMap[a];(!o||o.unlinked||o.sourcepos[0][0]>i[0][0])&&(e.refMap[a]=qc(n))})},r.prototype.getRangeWithRefDef=function(e,t,n,a,i){if(this.referenceDefinition&&!Oi(this.refMap)){var o=Ss(this.root,e-1),l=Ss(this.root,t+1);o&&Di(o)&&o!==n&&o!==a&&(n=o,e=n.sourcepos[0][0]),l&&Di(l)&&l!==n&&l!==a&&(a=l,t=this.extendEndLine(a.sourcepos[1][0]+i))}return[n,a,e,t]},r.prototype.parse=function(e,t,n){n===void 0&&(n=0);var a=this.getNodeRange(e,t),i=a[0],o=a[1],l=i?Math.min(i.sourcepos[0][0],e[0]):e[0],d=this.extendEndLine((o?Math.max(o.sourcepos[1][0],t[0]):t[0])+n),g=this.parseRange.apply(this,this.getRangeWithRefDef(l,d,i,o,n)),C=g.newNodes,T=g.extStartNode,S=g.extEndNode,M=this.getRemovedNodeRange(T,S),O=S?S.next:this.root.firstChild;return this.referenceDefinition?(this.markDeletedRefMap(T,S),this.replaceRangeNodes(T,S,C),this.replaceWithNewRefDefState(C)):this.replaceRangeNodes(T,S,C),{nodes:C,removedNodeRange:M,nextNode:O}},r.prototype.parseRefLink=function(){var e=this,t=[];return Oi(this.refMap)||Ts(this.refMap,function(n,a){a.unlinked&&delete e.refMap[n],Ts(e.refLinkCandidateMap,function(i,o){var l=o.node,d=o.refLabel;d===n&&t.push(e.parse(l.sourcepos[0],l.sourcepos[1]))})}),t},r.prototype.removeUnlinkedCandidate=function(){Oi(this.refDefCandidateMap)||[this.refLinkCandidateMap,this.refDefCandidateMap].forEach(function(e){Ts(e,function(t){l2e(t)&&delete e[t]})})},r.prototype.editMarkdown=function(e,t,n){var a=this.updateLineTexts(e,t,n),i=this.parse(e,t,a),o=RHe(i,"nextNode");n2e(i.nextNode,a),this.updateRootNodeState();var l=[o];return this.referenceDefinition&&(this.removeUnlinkedCandidate(),this.replaceWithRefDefCandidate(),l=l.concat(this.parseRefLink())),this.trigger("change",l),l},r.prototype.getLineTexts=function(){return this.lineTexts},r.prototype.getRootNode=function(){return this.root},r.prototype.findNodeAtPosition=function(e){var t=s2e(this.root,e);return!t||t===this.root?null:t},r.prototype.findFirstNodeAtLine=function(e){return o2e(this.root,e)},r.prototype.on=function(e,t){this.eventHandlerMap[e].push(t)},r.prototype.off=function(e,t){var n=this.eventHandlerMap[e],a=n.indexOf(t);n.splice(a,1)},r.prototype.findNodeById=function(e){return dg(e)},r.prototype.removeAllNode=function(){GFe()},r}(),f2e=["title","textarea","style","xmp","iframe","noembed","noframes","script","plaintext"],ud=new RegExp("<(/?(?:"+f2e.join("|")+")[^>]*>)","ig");function cd(r){return ud.test(r)?r.replace(ud,function(e,t){return"&lt;"+t}):r}var fd={heading:function(r,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"h"+r.level,outerNewLine:!0}},text:function(r){return{type:"text",content:r.literal}},softbreak:function(r,e){var t=e.options;return{type:"html",content:t.softbreak}},linebreak:function(){return{type:"html",content:`<br />
`}},emph:function(r,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"em"}},strong:function(r,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"strong"}},paragraph:function(r,e){var t,n=e.entering,a=(t=r.parent)===null||t===void 0?void 0:t.parent;return a&&a.type==="list"&&a.listData.tight?null:{type:n?"openTag":"closeTag",tagName:"p",outerNewLine:!0}},thematicBreak:function(){return{type:"openTag",tagName:"hr",outerNewLine:!0,selfClose:!0}},blockQuote:function(r,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"blockquote",outerNewLine:!0,innerNewLine:!0}},list:function(r,e){var t=e.entering,n=r.listData,a=n.type,i=n.start,o=a==="bullet"?"ul":"ol",l={};return o==="ol"&&i!==null&&i!==1&&(l.start=i.toString()),{type:t?"openTag":"closeTag",tagName:o,attributes:l,outerNewLine:!0}},item:function(r,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"li",outerNewLine:!0}},htmlInline:function(r,e){var t=e.options,n=t.tagFilter?cd(r.literal):r.literal;return{type:"html",content:n}},htmlBlock:function(r,e){var t=e.options,n=t.tagFilter?cd(r.literal):r.literal;return t.nodeId?[{type:"openTag",tagName:"div",outerNewLine:!0},{type:"html",content:n},{type:"closeTag",tagName:"div",outerNewLine:!0}]:{type:"html",content:n,outerNewLine:!0}},code:function(r){return[{type:"openTag",tagName:"code"},{type:"text",content:r.literal},{type:"closeTag",tagName:"code"}]},codeBlock:function(r){var e=r.info,t=e?e.split(/\s+/):[],n=[];return t.length>0&&t[0].length>0&&n.push("language-"+Ri(t[0])),[{type:"openTag",tagName:"pre",outerNewLine:!0},{type:"openTag",tagName:"code",classNames:n},{type:"text",content:r.literal},{type:"closeTag",tagName:"code"},{type:"closeTag",tagName:"pre",outerNewLine:!0}]},link:function(r,e){var t=e.entering;if(t){var n=r,a=n.title,i=n.destination;return{type:"openTag",tagName:"a",attributes:br({href:Ri(i)},a&&{title:Ri(a)})}}return{type:"closeTag",tagName:"a"}},image:function(r,e){var t=e.getChildrenText,n=e.skipChildren,a=r,i=a.title,o=a.destination;return n(),{type:"openTag",tagName:"img",selfClose:!0,attributes:br({src:Ri(o),alt:t(r)},i&&{title:Ri(i)})}},customBlock:function(r,e,t){var n=r.info.trim().toLowerCase(),a=t[n];if(a)try{return a(r,e)}catch(i){console.warn("[@toast-ui/editor] - The error occurred when "+n+" block node was parsed in markdown renderer: "+i)}return[{type:"openTag",tagName:"div",outerNewLine:!0},{type:"text",content:r.literal},{type:"closeTag",tagName:"div",outerNewLine:!0}]},frontMatter:function(r){return[{type:"openTag",tagName:"div",outerNewLine:!0,attributes:{style:"white-space: pre; display: none;"}},{type:"text",content:r.literal},{type:"closeTag",tagName:"div",outerNewLine:!0}]},customInline:function(r,e,t){var n=r,a=n.info,i=n.firstChild,o=a.trim().toLowerCase(),l=t[o],d=e.entering;if(l)try{return l(r,e)}catch(g){console.warn("[@toast-ui/editor] - The error occurred when "+o+" inline node was parsed in markdown renderer: "+g)}return d?[{type:"openTag",tagName:"span"},{type:"text",content:"$$"+a+(i?" ":"")}]:[{type:"text",content:"$$"},{type:"closeTag",tagName:"span"}]}},vd={strike:function(r,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"del"}},item:function(r,e){var t=e.entering,n=r.listData,a=n.checked,i=n.task;if(t){var o={type:"openTag",tagName:"li",outerNewLine:!0};return i?[o,{type:"openTag",tagName:"input",selfClose:!0,attributes:br(br({},a&&{checked:""}),{disabled:"",type:"checkbox"})},{type:"text",content:" "}]:o}return{type:"closeTag",tagName:"li",outerNewLine:!0}},table:function(r,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"table",outerNewLine:!0}},tableHead:function(r,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"thead",outerNewLine:!0}},tableBody:function(r,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"tbody",outerNewLine:!0}},tableRow:function(r,e){var t=e.entering;if(t)return{type:"openTag",tagName:"tr",outerNewLine:!0};var n=[];if(r.lastChild)for(var a=r.parent.parent.columns.length,i=r.lastChild.endIdx,o=i+1;o<a;o+=1)n.push({type:"openTag",tagName:"td",outerNewLine:!0},{type:"closeTag",tagName:"td",outerNewLine:!0});return n.push({type:"closeTag",tagName:"tr",outerNewLine:!0}),n},tableCell:function(r,e){var t=e.entering;if(r.ignored)return{type:"text",content:""};var n=r.parent.parent,a=n.type==="tableHead"?"th":"td",i=n.parent,o=i.columns[r.startIdx],l=o!=null&&o.align?{align:o.align}:null;return t?br({type:"openTag",tagName:a,outerNewLine:!0},l&&{attributes:l}):{type:"closeTag",tagName:a,outerNewLine:!0}}},v2e={softbreak:`
`,gfm:!1,tagFilter:!1,nodeId:!1};function p2e(r){for(var e=[],t=r.walker(),n=null;n=t.next();){var a=n.node;a.type==="text"&&e.push(a.literal)}return e.join("")}var Lf=function(){function r(e){this.buffer=[],this.options=br(br({},v2e),e),this.convertors=this.createConvertors(),delete this.options.convertors}return r.prototype.createConvertors=function(){var e=br({},fd);if(this.options.gfm&&(e=br(br({},e),vd)),this.options.convertors){var t=this.options.convertors,n=Object.keys(t),a=br(br({},fd),vd);n.forEach(function(i){var o=e[i],l=t[i],d=Object.keys(a).indexOf(i)===-1?i.toLowerCase():i;o?e[d]=function(g,C,T){return C.origin=function(){return o(g,C,T)},l(g,C)}:e[d]=l})}return e},r.prototype.getConvertors=function(){return this.convertors},r.prototype.getOptions=function(){return this.options},r.prototype.render=function(e){var t=this;this.buffer=[];for(var n=e.walker(),a=null,i=function(){var l=a.node,d=a.entering,g=o.convertors[l.type];if(!g)return"continue";var C=!1,T={entering:d,leaf:!Af(l),options:o.options,getChildrenText:p2e,skipChildren:function(){C=!0}},S=Zm(l)||lHe(l)?g(l,T,o.convertors):g(l,T);if(S){var M=Array.isArray(S)?S:[S];M.forEach(function(O,I){O.type==="openTag"&&t.options.nodeId&&I===0&&(O.attributes||(O.attributes={}),O.attributes["data-nodeid"]=String(l.id)),t.renderHTMLNode(O)}),C&&(n.resumeAt(l,!1),n.next())}},o=this;a=n.next();)i();return this.addNewLine(),this.buffer.join("")},r.prototype.renderHTMLNode=function(e){switch(e.type){case"openTag":case"closeTag":this.renderElementNode(e);break;case"text":this.renderTextNode(e);break;case"html":this.renderRawHtmlNode(e);break}},r.prototype.generateOpenTagString=function(e){var t=this,n=e.tagName,a=e.classNames,i=e.attributes;this.buffer.push("<"+n),a&&a.length>0&&this.buffer.push(' class="'+a.join(" ")+'"'),i&&Object.keys(i).forEach(function(o){var l=i[o];t.buffer.push(" "+o+'="'+l+'"')}),e.selfClose&&this.buffer.push(" /"),this.buffer.push(">")},r.prototype.generateCloseTagString=function(e){var t=e.tagName;this.buffer.push("</"+t+">")},r.prototype.addNewLine=function(){this.buffer.length&&Xs(Xs(this.buffer))!==`
`&&this.buffer.push(`
`)},r.prototype.addOuterNewLine=function(e){e.outerNewLine&&this.addNewLine()},r.prototype.addInnerNewLine=function(e){e.innerNewLine&&this.addNewLine()},r.prototype.renderTextNode=function(e){this.buffer.push(Ri(e.content))},r.prototype.renderRawHtmlNode=function(e){this.addOuterNewLine(e),this.buffer.push(e.content),this.addOuterNewLine(e)},r.prototype.renderElementNode=function(e){e.type==="openTag"?(this.addOuterNewLine(e),this.generateOpenTagString(e),e.selfClose?this.addOuterNewLine(e):this.addInnerNewLine(e)):(this.addInnerNewLine(e),this.generateCloseTagString(e),this.addOuterNewLine(e))},r}();/*! @license DOMPurify 2.3.3 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.3.3/LICENSE */function d2e(r){if(Array.isArray(r)){for(var e=0,t=Array(r.length);e<r.length;e++)t[e]=r[e];return t}else return Array.from(r)}var h2e=Object.hasOwnProperty,pd=Object.setPrototypeOf,m2e=Object.isFrozen,g2e=Object.getPrototypeOf,y2e=Object.getOwnPropertyDescriptor,Dr=Object.freeze,da=Object.seal,b2e=Object.create,mg=typeof Reflect<"u"&&Reflect,Ys=mg.apply,Fc=mg.construct;Ys||(Ys=function(e,t,n){return e.apply(t,n)});Dr||(Dr=function(e){return e});da||(da=function(e){return e});Fc||(Fc=function(e,t){return new(Function.prototype.bind.apply(e,[null].concat(d2e(t))))});var w2e=Mn(Array.prototype.forEach),dd=Mn(Array.prototype.pop),co=Mn(Array.prototype.push),Is=Mn(String.prototype.toLowerCase),hd=Mn(String.prototype.match),xa=Mn(String.prototype.replace),k2e=Mn(String.prototype.indexOf),C2e=Mn(String.prototype.trim),ia=Mn(RegExp.prototype.test),md=T2e(TypeError);function Mn(r){return function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return Ys(r,e,n)}}function T2e(r){return function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return Fc(r,t)}}function nt(r,e){pd&&pd(r,null);for(var t=e.length;t--;){var n=e[t];if(typeof n=="string"){var a=Is(n);a!==n&&(m2e(e)||(e[t]=a),n=a)}r[n]=!0}return r}function Ya(r){var e=b2e(null),t=void 0;for(t in r)Ys(h2e,r,[t])&&(e[t]=r[t]);return e}function Ms(r,e){for(;r!==null;){var t=y2e(r,e);if(t){if(t.get)return Mn(t.get);if(typeof t.value=="function")return Mn(t.value)}r=g2e(r)}function n(a){return console.warn("fallback value for",a),null}return n}var gd=Dr(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),vc=Dr(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),pc=Dr(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),E2e=Dr(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),dc=Dr(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),x2e=Dr(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),yd=Dr(["#text"]),bd=Dr(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),hc=Dr(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),wd=Dr(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),As=Dr(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),S2e=da(/\{\{[\s\S]*|[\s\S]*\}\}/gm),M2e=da(/<%[\s\S]*|[\s\S]*%>/gm),A2e=da(/^data-[\-\w.\u00B7-\uFFFF]/),L2e=da(/^aria-[\-\w]+$/),D2e=da(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),O2e=da(/^(?:\w+script|data):/i),N2e=da(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),bo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r};function Hn(r){if(Array.isArray(r)){for(var e=0,t=Array(r.length);e<r.length;e++)t[e]=r[e];return t}else return Array.from(r)}var R2e=function(){return typeof window>"u"?null:window},I2e=function(e,t){if((typeof e>"u"?"undefined":bo(e))!=="object"||typeof e.createPolicy!="function")return null;var n=null,a="data-tt-policy-suffix";t.currentScript&&t.currentScript.hasAttribute(a)&&(n=t.currentScript.getAttribute(a));var i="dompurify"+(n?"#"+n:"");try{return e.createPolicy(i,{createHTML:function(l){return l}})}catch{return console.warn("TrustedTypes policy "+i+" could not be created."),null}};function gg(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:R2e(),e=function(Y){return gg(Y)};if(e.version="2.3.3",e.removed=[],!r||!r.document||r.document.nodeType!==9)return e.isSupported=!1,e;var t=r.document,n=r.document,a=r.DocumentFragment,i=r.HTMLTemplateElement,o=r.Node,l=r.Element,d=r.NodeFilter,g=r.NamedNodeMap,C=g===void 0?r.NamedNodeMap||r.MozNamedAttrMap:g,T=r.Text,S=r.Comment,M=r.DOMParser,O=r.trustedTypes,I=l.prototype,q=Ms(I,"cloneNode"),z=Ms(I,"nextSibling"),V=Ms(I,"childNodes"),G=Ms(I,"parentNode");if(typeof i=="function"){var Z=n.createElement("template");Z.content&&Z.content.ownerDocument&&(n=Z.content.ownerDocument)}var ne=I2e(O,t),X=ne&&Je?ne.createHTML(""):"",oe=n,ve=oe.implementation,ye=oe.createNodeIterator,Me=oe.createDocumentFragment,Ke=oe.getElementsByTagName,Oe=t.importNode,st={};try{st=Ya(n).documentMode?n.documentMode:{}}catch{}var Ye={};e.isSupported=typeof G=="function"&&ve&&typeof ve.createHTMLDocument<"u"&&st!==9;var _t=S2e,it=M2e,wt=A2e,Tt=L2e,Kt=O2e,ze=N2e,ot=D2e,rt=null,Et=nt({},[].concat(Hn(gd),Hn(vc),Hn(pc),Hn(dc),Hn(yd))),kt=null,Jt=nt({},[].concat(Hn(bd),Hn(hc),Hn(wd),Hn(As))),Lt=null,rr=null,le=!0,ae=!0,K=!1,Q=!1,U=!1,ue=!1,de=!1,Ne=!1,He=!1,lt=!0,Je=!1,xt=!0,mt=!0,Pt=!1,gt={},nr=null,An=nt({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),fn=null,Qt=nt({},["audio","video","img","source","image","track"]),De=null,Re=nt({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ge="http://www.w3.org/1998/Math/MathML",Qe="http://www.w3.org/2000/svg",pt="http://www.w3.org/1999/xhtml",vr=pt,Bt=!1,Xt=void 0,Qr=["application/xhtml+xml","text/html"],Ln="text/html",pr=void 0,Or=null,Dn=n.createElement("form"),vn=function(Y){Or&&Or===Y||((!Y||(typeof Y>"u"?"undefined":bo(Y))!=="object")&&(Y={}),Y=Ya(Y),rt="ALLOWED_TAGS"in Y?nt({},Y.ALLOWED_TAGS):Et,kt="ALLOWED_ATTR"in Y?nt({},Y.ALLOWED_ATTR):Jt,De="ADD_URI_SAFE_ATTR"in Y?nt(Ya(Re),Y.ADD_URI_SAFE_ATTR):Re,fn="ADD_DATA_URI_TAGS"in Y?nt(Ya(Qt),Y.ADD_DATA_URI_TAGS):Qt,nr="FORBID_CONTENTS"in Y?nt({},Y.FORBID_CONTENTS):An,Lt="FORBID_TAGS"in Y?nt({},Y.FORBID_TAGS):{},rr="FORBID_ATTR"in Y?nt({},Y.FORBID_ATTR):{},gt="USE_PROFILES"in Y?Y.USE_PROFILES:!1,le=Y.ALLOW_ARIA_ATTR!==!1,ae=Y.ALLOW_DATA_ATTR!==!1,K=Y.ALLOW_UNKNOWN_PROTOCOLS||!1,Q=Y.SAFE_FOR_TEMPLATES||!1,U=Y.WHOLE_DOCUMENT||!1,Ne=Y.RETURN_DOM||!1,He=Y.RETURN_DOM_FRAGMENT||!1,lt=Y.RETURN_DOM_IMPORT!==!1,Je=Y.RETURN_TRUSTED_TYPE||!1,de=Y.FORCE_BODY||!1,xt=Y.SANITIZE_DOM!==!1,mt=Y.KEEP_CONTENT!==!1,Pt=Y.IN_PLACE||!1,ot=Y.ALLOWED_URI_REGEXP||ot,vr=Y.NAMESPACE||pt,Xt=Qr.indexOf(Y.PARSER_MEDIA_TYPE)===-1?Xt=Ln:Xt=Y.PARSER_MEDIA_TYPE,pr=Xt==="application/xhtml+xml"?function(we){return we}:Is,Q&&(ae=!1),He&&(Ne=!0),gt&&(rt=nt({},[].concat(Hn(yd))),kt=[],gt.html===!0&&(nt(rt,gd),nt(kt,bd)),gt.svg===!0&&(nt(rt,vc),nt(kt,hc),nt(kt,As)),gt.svgFilters===!0&&(nt(rt,pc),nt(kt,hc),nt(kt,As)),gt.mathMl===!0&&(nt(rt,dc),nt(kt,wd),nt(kt,As))),Y.ADD_TAGS&&(rt===Et&&(rt=Ya(rt)),nt(rt,Y.ADD_TAGS)),Y.ADD_ATTR&&(kt===Jt&&(kt=Ya(kt)),nt(kt,Y.ADD_ATTR)),Y.ADD_URI_SAFE_ATTR&&nt(De,Y.ADD_URI_SAFE_ATTR),Y.FORBID_CONTENTS&&(nr===An&&(nr=Ya(nr)),nt(nr,Y.FORBID_CONTENTS)),mt&&(rt["#text"]=!0),U&&nt(rt,["html","head","body"]),rt.table&&(nt(rt,["tbody"]),delete Lt.tbody),Dr&&Dr(Y),Or=Y)},pn=nt({},["mi","mo","mn","ms","mtext"]),_r=nt({},["foreignobject","desc","title","annotation-xml"]),Nr=nt({},vc);nt(Nr,pc),nt(Nr,E2e);var ar=nt({},dc);nt(ar,x2e);var On=function(Y){var we=G(Y);(!we||!we.tagName)&&(we={namespaceURI:pt,tagName:"template"});var Ae=Is(Y.tagName),et=Is(we.tagName);if(Y.namespaceURI===Qe)return we.namespaceURI===pt?Ae==="svg":we.namespaceURI===Ge?Ae==="svg"&&(et==="annotation-xml"||pn[et]):!!Nr[Ae];if(Y.namespaceURI===Ge)return we.namespaceURI===pt?Ae==="math":we.namespaceURI===Qe?Ae==="math"&&_r[et]:!!ar[Ae];if(Y.namespaceURI===pt){if(we.namespaceURI===Qe&&!_r[et]||we.namespaceURI===Ge&&!pn[et])return!1;var Ct=nt({},["title","style","font","a","script"]);return!ar[Ae]&&(Ct[Ae]||!Nr[Ae])}return!1},St=function(Y){co(e.removed,{element:Y});try{Y.parentNode.removeChild(Y)}catch{try{Y.outerHTML=X}catch{Y.remove()}}},ir=function(Y,we){try{co(e.removed,{attribute:we.getAttributeNode(Y),from:we})}catch{co(e.removed,{attribute:null,from:we})}if(we.removeAttribute(Y),Y==="is"&&!kt[Y])if(Ne||He)try{St(we)}catch{}else try{we.setAttribute(Y,"")}catch{}},Dt=function(Y){var we=void 0,Ae=void 0;if(de)Y="<remove></remove>"+Y;else{var et=hd(Y,/^[\r\n\t ]+/);Ae=et&&et[0]}Xt==="application/xhtml+xml"&&(Y='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Y+"</body></html>");var Ct=ne?ne.createHTML(Y):Y;if(vr===pt)try{we=new M().parseFromString(Ct,Xt)}catch{}if(!we||!we.documentElement){we=ve.createDocument(vr,"template",null);try{we.documentElement.innerHTML=Bt?"":Ct}catch{}}var N=we.body||we.documentElement;return Y&&Ae&&N.insertBefore(n.createTextNode(Ae),N.childNodes[0]||null),vr===pt?Ke.call(we,U?"html":"body")[0]:U?we.documentElement:N},zr=function(Y){return ye.call(Y.ownerDocument||Y,Y,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT,null,!1)},Mr=function(Y){return Y instanceof T||Y instanceof S?!1:typeof Y.nodeName!="string"||typeof Y.textContent!="string"||typeof Y.removeChild!="function"||!(Y.attributes instanceof C)||typeof Y.removeAttribute!="function"||typeof Y.setAttribute!="function"||typeof Y.namespaceURI!="string"||typeof Y.insertBefore!="function"},Tr=function(Y){return(typeof o>"u"?"undefined":bo(o))==="object"?Y instanceof o:Y&&(typeof Y>"u"?"undefined":bo(Y))==="object"&&typeof Y.nodeType=="number"&&typeof Y.nodeName=="string"},dr=function(Y,we,Ae){Ye[Y]&&w2e(Ye[Y],function(et){et.call(e,we,Ae,Or)})},dn=function(Y){var we=void 0;if(dr("beforeSanitizeElements",Y,null),Mr(Y)||hd(Y.nodeName,/[\u0080-\uFFFF]/))return St(Y),!0;var Ae=pr(Y.nodeName);if(dr("uponSanitizeElement",Y,{tagName:Ae,allowedTags:rt}),!Tr(Y.firstElementChild)&&(!Tr(Y.content)||!Tr(Y.content.firstElementChild))&&ia(/<[/\w]/g,Y.innerHTML)&&ia(/<[/\w]/g,Y.textContent)||Ae==="select"&&ia(/<template/i,Y.innerHTML))return St(Y),!0;if(!rt[Ae]||Lt[Ae]){if(mt&&!nr[Ae]){var et=G(Y)||Y.parentNode,Ct=V(Y)||Y.childNodes;if(Ct&&et)for(var N=Ct.length,E=N-1;E>=0;--E)et.insertBefore(q(Ct[E],!0),z(Y))}return St(Y),!0}return Y instanceof l&&!On(Y)||(Ae==="noscript"||Ae==="noembed")&&ia(/<\/no(script|embed)/i,Y.innerHTML)?(St(Y),!0):(Q&&Y.nodeType===3&&(we=Y.textContent,we=xa(we,_t," "),we=xa(we,it," "),Y.textContent!==we&&(co(e.removed,{element:Y.cloneNode()}),Y.textContent=we)),dr("afterSanitizeElements",Y,null),!1)},Xr=function(Y,we,Ae){if(xt&&(we==="id"||we==="name")&&(Ae in n||Ae in Dn))return!1;if(!(ae&&!rr[we]&&ia(wt,we))){if(!(le&&ia(Tt,we))){if(!kt[we]||rr[we])return!1;if(!De[we]){if(!ia(ot,xa(Ae,ze,""))){if(!((we==="src"||we==="xlink:href"||we==="href")&&Y!=="script"&&k2e(Ae,"data:")===0&&fn[Y])){if(!(K&&!ia(Kt,xa(Ae,ze,"")))){if(Ae)return!1}}}}}}return!0},Zr=function(Y){var we=void 0,Ae=void 0,et=void 0,Ct=void 0;dr("beforeSanitizeAttributes",Y,null);var N=Y.attributes;if(N){var E={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:kt};for(Ct=N.length;Ct--;){we=N[Ct];var h=we,w=h.name,L=h.namespaceURI;if(Ae=C2e(we.value),et=pr(w),E.attrName=et,E.attrValue=Ae,E.keepAttr=!0,E.forceKeepAttr=void 0,dr("uponSanitizeAttribute",Y,E),Ae=E.attrValue,!E.forceKeepAttr&&(ir(w,Y),!!E.keepAttr)){if(ia(/\/>/i,Ae)){ir(w,Y);continue}Q&&(Ae=xa(Ae,_t," "),Ae=xa(Ae,it," "));var P=pr(Y.nodeName);if(Xr(P,et,Ae))try{L?Y.setAttributeNS(L,w,Ae):Y.setAttribute(w,Ae),dd(e.removed)}catch{}}}dr("afterSanitizeAttributes",Y,null)}},Nn=function Ee(Y){var we=void 0,Ae=zr(Y);for(dr("beforeSanitizeShadowDOM",Y,null);we=Ae.nextNode();)dr("uponSanitizeShadowNode",we,null),!dn(we)&&(we.content instanceof a&&Ee(we.content),Zr(we));dr("afterSanitizeShadowDOM",Y,null)};return e.sanitize=function(Ee,Y){var we=void 0,Ae=void 0,et=void 0,Ct=void 0,N=void 0;if(Bt=!Ee,Bt&&(Ee="<!-->"),typeof Ee!="string"&&!Tr(Ee)){if(typeof Ee.toString!="function")throw md("toString is not a function");if(Ee=Ee.toString(),typeof Ee!="string")throw md("dirty is not a string, aborting")}if(!e.isSupported){if(bo(r.toStaticHTML)==="object"||typeof r.toStaticHTML=="function"){if(typeof Ee=="string")return r.toStaticHTML(Ee);if(Tr(Ee))return r.toStaticHTML(Ee.outerHTML)}return Ee}if(ue||vn(Y),e.removed=[],typeof Ee=="string"&&(Pt=!1),!Pt)if(Ee instanceof o)we=Dt("<!---->"),Ae=we.ownerDocument.importNode(Ee,!0),Ae.nodeType===1&&Ae.nodeName==="BODY"||Ae.nodeName==="HTML"?we=Ae:we.appendChild(Ae);else{if(!Ne&&!Q&&!U&&Ee.indexOf("<")===-1)return ne&&Je?ne.createHTML(Ee):Ee;if(we=Dt(Ee),!we)return Ne?null:X}we&&de&&St(we.firstChild);for(var E=zr(Pt?Ee:we);et=E.nextNode();)et.nodeType===3&&et===Ct||dn(et)||(et.content instanceof a&&Nn(et.content),Zr(et),Ct=et);if(Ct=null,Pt)return Ee;if(Ne){if(He)for(N=Me.call(we.ownerDocument);we.firstChild;)N.appendChild(we.firstChild);else N=we;return lt&&(N=Oe.call(t,N,!0)),N}var h=U?we.outerHTML:we.innerHTML;return Q&&(h=xa(h,_t," "),h=xa(h,it," ")),ne&&Je?ne.createHTML(h):h},e.setConfig=function(Ee){vn(Ee),ue=!0},e.clearConfig=function(){Or=null,ue=!1},e.isValidAttribute=function(Ee,Y,we){Or||vn({});var Ae=pr(Ee),et=pr(Y);return Xr(Ae,et,we)},e.addHook=function(Ee,Y){typeof Y=="function"&&(Ye[Ee]=Ye[Ee]||[],co(Ye[Ee],Y))},e.removeHook=function(Ee){Ye[Ee]&&dd(Ye[Ee])},e.removeHooks=function(Ee){Ye[Ee]&&(Ye[Ee]=[])},e.removeAllHooks=function(){Ye={}},e}var P2e=gg(),B2e=["iframe","embed"],yg=[];function bg(r){kr(B2e,r)&&yg.push(r.toLowerCase())}function ci(r,e){return P2e.sanitize(r,ce({ADD_TAGS:yg,ADD_ATTR:["rel","target","hreflang","type"],FORBID_TAGS:["input","script","textarea","form","button","select","meta","style","link","title","object","base"]},e))}function wg(r,e){return r.literal.replace(new RegExp("(<\\s*"+e+"[^>]*>)|(</"+e+"\\s*[>])","ig"),"").trim()}function Hc(r){r=r.match(Vi)[0];var e=r.match(new RegExp(hm,"g"));return e?e.reduce(function(t,n){var a=n.trim().split("="),i=a[0],o=a.slice(1);return o.length&&(t[i]=o.join("=").replace(/'|"/g,"").trim()),t},{}):{}}function _c(r){return jn(r.attributes).reduce(function(e,t){return e[t.nodeName]=t.nodeValue,e},{})}function kd(r,e,t,n){var a=n.getToDOMNode(e)(r),i=t(a.outerHTML),o=document.createElement("div");o.innerHTML=i,a=o.firstChild;var l=_c(a);return{dom:a,htmlAttrs:l}}var q2e={htmlBlock:function(r,e,t){return{atom:!0,content:"block+",group:"block",attrs:{htmlAttrs:{default:{}},childrenHTML:{default:""},htmlBlock:{default:!0}},parseDOM:[{tag:r,getAttrs:function(n){return{htmlAttrs:_c(n),childrenHTML:n.innerHTML}}}],toDOM:function(n){var a=kd(n,r,e,t),i=a.dom,o=a.htmlAttrs;return o.class=o.class?o.class+" html-block":"html-block",Hr([r,o],jn(i.childNodes))}}},htmlInline:function(r,e,t){return{attrs:{htmlAttrs:{default:{}},htmlInline:{default:!0}},parseDOM:[{tag:r,getAttrs:function(n){return{htmlAttrs:_c(n)}}}],toDOM:function(n){var a=kd(n,r,e,t).htmlAttrs;return[r,a,0]}}}};function F2e(r,e,t){var n={nodes:{},marks:{}};return["htmlBlock","htmlInline"].forEach(function(a){r[a]&&Object.keys(r[a]).forEach(function(i){var o=a==="htmlBlock"?"nodes":"marks";bg(i),n[o][i]=q2e[a](i,e,t)})}),n}var H2e=/^\s*<\s*\//,_2e={paragraph:function(r,e){var t=e.entering,n=e.origin,a=e.options;return a.nodeId?{type:t?"openTag":"closeTag",outerNewLine:!0,tagName:"p"}:n()},softbreak:function(r){var e=r.prev&&r.prev.type==="htmlInline",t=e&&/<br ?\/?>/.test(r.prev.literal),n=t?`
`:`<br>
`;return{type:"html",content:n}},item:function(r,e){var t=e.entering;if(t){var n={},a=[];return r.listData.task&&(n["data-task"]="",a.push("task-list-item"),r.listData.checked&&(a.push("checked"),n["data-task-checked"]="")),{type:"openTag",tagName:"li",classNames:a,attributes:n,outerNewLine:!0}}return{type:"closeTag",tagName:"li",outerNewLine:!0}},code:function(r){var e={"data-backticks":String(r.tickCount)};return[{type:"openTag",tagName:"code",attributes:e},{type:"text",content:r.literal},{type:"closeTag",tagName:"code"}]},codeBlock:function(r){var e=r,t=e.fenceLength,n=e.info,a=n?n.split(/\s+/):[],i=[],o={};if(t>3&&(o["data-backticks"]=t),a.length>0&&a[0].length>0){var l=a[0];i.push("lang-"+l),o["data-language"]=l}return[{type:"openTag",tagName:"pre",classNames:i},{type:"openTag",tagName:"code",attributes:o},{type:"text",content:r.literal},{type:"closeTag",tagName:"code"},{type:"closeTag",tagName:"pre"}]},customInline:function(r,e){var t=e.origin,n=e.entering,a=e.skipChildren,i=r.info;if(i.indexOf("widget")!==-1&&n){a();var o=fm(r),l=cm(i,o).outerHTML;return[{type:"openTag",tagName:"span",classNames:["tui-widget"]},{type:"html",content:l},{type:"closeTag",tagName:"span"}]}return t()}};function Df(r,e){var t=ce({},_2e);return r&&(t.link=function(n,a){var i=a.entering,o=a.origin,l=o();return i&&(l.attributes=ce(ce({},l.attributes),r)),l}),e&&Object.keys(e).forEach(function(n){var a=t[n],i=e[n];a&&un(i)?t[n]=function(o,l){var d=ce({},l);return d.origin=function(){return a(o,l)},i(o,d)}:kr(["htmlBlock","htmlInline"],n)&&!un(i)?t[n]=function(o,l){var d=o.literal.match(Vi);if(d){var g=d[0],C=d[1],T=d[3],S=(C||T).toLowerCase(),M=i[S],O=wg(o,S);if(M){var I=ce({},o);return I.attrs=Hc(g),I.childrenHTML=O,I.type=S,l.entering=!H2e.test(o.literal),M(I,l)}}return l.origin()}:t[n]=i}),t}var z2e=["list","item","blockQuote"],$2e=["UL","OL","BLOCKQUOTE"];function V2e(r,e){var t,n=r.child(e);return!n.childCount||n.childCount===1&&!(!((t=n.firstChild.text)===null||t===void 0)&&t.trim())}function Cd(r,e,t){var n=Lo(e)-1,a=ul(e)-1,i=t[n].getBoundingClientRect(),o=t[a].offsetTop-t[n].offsetTop+t[a].clientHeight;return{height:o<=0?t[n].clientHeight:o+U2e(r,t,Math.min(a+1,r.childCount-1)),rect:i}}function U2e(r,e,t){for(var n=r.childCount-1,a=0;t<=n&&V2e(r,t);)a+=e[t].clientHeight,t+=1;return a}function j2e(r,e){for(;!r.getAttribute("data-nodeid")&&r.parentElement!==e;)r=r.parentElement;return r}function el(r,e){for(var t=0;r&&r!==e&&(kr($2e,r.tagName)||(t+=r.offsetTop),r.offsetParent!==e.offsetParent);)r=r.parentElement;return t}function W2e(r,e){for(var t=e,n=null;t;){var a=t.firstElementChild;if(!a)break;var i=kg(a,r,el(t,e));n=t,t=i}var o=t||n;return o===e?null:o}function kg(r,e,t){return r&&e>t+r.offsetTop?kg(r.nextElementSibling,e,t)||r:null}function G2e(r,e,t,n){var a=Math.min((r-e)/t,1);return a*n}function mc(r,e){for(var t=r.querySelector('[data-nodeid="'+e.id+'"]');!t||PQ(e);)e=e.parent,t=r.querySelector('[data-nodeid="'+e.id+'"]');return K2e({mdNode:e,el:t})}function K2e(r){for(var e=r.mdNode,t=r.el;(kr(z2e,e.type)||e.type==="table")&&e.firstChild;)e=e.firstChild,t=t.firstElementChild;return{mdNode:e,el:t}}var En={};function J2e(r,e){En[r]=En[r]||{},En[r].height=e}function Q2e(r,e){En[r]=En[r]||{},En[r].offsetTop=e}function X2e(r){return En[r]&&En[r].height}function Z2e(r){return En[r]&&En[r].offsetTop}function zc(r){r&&(delete En[Number(r.getAttribute("data-nodeid"))],jn(r.children).forEach(function(e){zc(e)}))}function Y2e(r,e,t){var n=X2e(t),a=Z2e(t),i=n||r.clientHeight,o=a||el(r,e)||r.offsetTop;return n||J2e(t,i),a||Q2e(t,o),{nodeHeight:i,offsetTop:o}}var gc=Fe("md-preview-highlight");function eze(r,e){for(var t=r.firstChild;t&&t.next&&!(cl(t.next)>e+1);)t=t.next;return t}var Cg=function(){function r(e,t){var n=document.createElement("div");this.el=n,this.eventEmitter=e,this.isViewer=!!t.isViewer,this.el.className=Fe("md-preview");var a=t.linkAttributes,i=t.customHTMLRenderer,o=t.sanitizer,l=t.highlight,d=l===void 0?!1:l;this.renderer=new Lf({gfm:!0,nodeId:!0,convertors:Df(a,i)}),this.cursorNodeId=null,this.sanitizer=o,this.initEvent(d),this.initContentSection(),this.isViewer&&(this.previewContent.style.overflowWrap="break-word")}return r.prototype.initContentSection=function(){this.previewContent=wm('<div class="'+Fe("contents")+'"></div>'),this.isViewer||this.el.appendChild(this.previewContent)},r.prototype.toggleActive=function(e){hf(this.el,"active",e)},r.prototype.initEvent=function(e){var t=this;this.eventEmitter.listen("updatePreview",this.update.bind(this)),!this.isViewer&&(e&&(this.eventEmitter.listen("changeToolbarState",function(n){var a=n.mdNode,i=n.cursorPos;t.updateCursorNode(a,i)}),this.eventEmitter.listen("blur",function(){t.removeHighlight()})),qm(this.el,"scroll",function(n){t.eventEmitter.emit("scroll","preview",W2e(n.target.scrollTop,t.previewContent))}),this.eventEmitter.listen("changePreviewTabPreview",function(){return t.toggleActive(!0)}),this.eventEmitter.listen("changePreviewTabWrite",function(){return t.toggleActive(!1)}))},r.prototype.removeHighlight=function(){if(this.cursorNodeId){var e=this.getElementByNodeId(this.cursorNodeId);e&&Tn(e,gc)}},r.prototype.updateCursorNode=function(e,t){e&&(e=$i(e,function(o){return!FQ(o)}),e.type==="tableRow"?e=eze(e,t[1]):e.type==="tableBody"&&(e=null));var n=e?e.id:null;if(this.cursorNodeId!==n){var a=this.getElementByNodeId(this.cursorNodeId),i=this.getElementByNodeId(n);a&&Tn(a,gc),i&&$n(i,gc),this.cursorNodeId=n}},r.prototype.getElementByNodeId=function(e){return e?this.previewContent.querySelector('[data-nodeid="'+e+'"]'):null},r.prototype.update=function(e){var t=this;e.forEach(function(n){return t.replaceRangeNodes(n)}),this.eventEmitter.emit("afterPreviewRender",this)},r.prototype.replaceRangeNodes=function(e){var t=this,n=e.nodes,a=e.removedNodeRange,i=this.previewContent,o=this.eventEmitter.emitReduce("beforePreviewRender",this.sanitizer(n.map(function(O){return t.renderer.render(O)}).join("")));if(!a)i.insertAdjacentHTML("afterbegin",o);else{var l=a.id,d=l[0],g=l[1],C=this.getElementByNodeId(d),T=this.getElementByNodeId(g);if(C){C.insertAdjacentHTML("beforebegin",o);for(var S=C;S&&S!==T;){var M=S.nextElementSibling;si(S),zc(S),S=M}S!=null&&S.parentNode&&(si(S),zc(S))}}},r.prototype.getRenderer=function(){return this.renderer},r.prototype.destroy=function(){Bm(this.el,"scroll"),this.el=null},r.prototype.getElement=function(){return this.el},r.prototype.getHTML=function(){return yf(this.previewContent.innerHTML)},r.prototype.setHTML=function(e){this.previewContent.innerHTML=e},r.prototype.setHeight=function(e){Un(this.el,{height:e+"px"})},r.prototype.setMinHeight=function(e){Un(this.el,{minHeight:e+"px"})},r}();function ca(r,e){for(var t=r.depth;t;){var n=r.node(t);if(e(n,t))return{node:n,depth:t,offset:t>0?r.before(t):0};t-=1}return null}function Gi(r){return!!ca(r,function(e){var t=e.type;return t.name==="listItem"||t.name==="bulletList"||t.name==="orderedList"})}function tl(r){return!!ca(r,function(e){var t=e.type;return t.name==="tableHeadCell"||t.name==="tableBodyCell"})}function Ki(r){return ca(r,function(e){var t=e.type;return t.name==="listItem"})}function bl(r){return{tag:r,getAttrs:function(e){var t=e.getAttribute("data-raw-html");return ce({},t&&{rawHTML:t})}}}function Tg(r){return Object.keys(r).reduce(function(e,t){return t!=="rawHTML"&&r[t]&&(t=t==="className"?"class":t,e[t]=r[t]),e},{})}function Eg(r){return{tag:r,getAttrs:function(e){return["rawHTML","colspan","rowspan","extended"].reduce(function(t,n){var a=n==="rawHTML"?"data-raw-html":n,i=e.getAttribute(a);return i&&(t[n]=kr(["rawHTML","extended"],n)?i:Number(i)),t},{})}}}function fr(){return{htmlAttrs:{default:null},classNames:{default:null}}}function Gt(r){var e=r.htmlAttrs,t=r.classNames;return ce(ce({},e),{class:t?t.join(" "):null})}function tze(r,e){var t=r.parent,n=r.startIndex,a=r.endIndex,i=t.contentMatchAt(n).findWrapping(e);if(i){var o=i.length?i[0]:e;return t.canReplaceWith(n,a,o)?i:null}return null}function rze(r,e){var t=r.parent,n=r.startIndex,a=r.endIndex,i=t.child(n),o=e.contentMatch.findWrapping(i.type);if(o){for(var l=o.length?o[o.length-1]:e,d=l.contentMatch,g=n;d&&g<a;g+=1)d=d.matchType(t.child(g).type);if(d&&d.validEnd)return o}return null}function nze(r,e,t,n){var a=tze(r,t),i=rze(e,t);if(a&&i){var o=a.map(function(d){return{type:d}}),l=i.map(function(d){return{type:d,attrs:n}});return o.concat({type:t}).concat(l)}return null}function aze(r,e,t,n,a){for(var i=e.start,o=e.end,l=e.startIndex,d=e.endIndex,g=e.parent,C=pe.Fragment.empty,T=t.length-1;T>=0;T-=1)C=pe.Fragment.from(t[T].type.create(t[T].attrs,C));r.step(new ur(i-(n?2:0),o,i,o,new pe.Slice(C,0,0),t.length,!0));for(var S=0,T=0;T<t.length;T+=1)if(t[T].type===a){S=T+1;break}for(var M=t.length-S,O=i+t.length-(n?2:0),T=l,I=d;T<I;T+=1){var q=T===l;!q&&ti(r.doc,O,M)&&(r.split(O,M),O+=M*2),O+=g.child(T).nodeSize}return r}function xg(r,e,t,n){var a=e.$from,i=e.$to,o=e.depth,l=e,d=!1;if(o>=2&&a.node(o-1).type.compatibleContent(t)&&e.startIndex===0&&a.index(o-1)){var g=r.doc.resolve(e.start-2);l=new pe.NodeRange(g,g,o),e.endIndex<e.parent.childCount&&(e=new pe.NodeRange(a,r.doc.resolve(i.end(o)),o)),d=!0}var C=nze(l,e,t,n);return C?aze(r,e,C,d,t):r}function Sg(r,e){for(var t=r.resolve(e);t.node().type.name!=="paragraph";)e-=2,t=r.resolve(e);return Ki(t)}function ize(r,e){var t=e.$from,n=e.$to,a=Ki(t),i=Ki(n);if(a&&i)for(;i;){var o=i.offset,l=i.node,d={task:!l.attrs.task,checked:!1};if(r.setNodeMarkup(o,null,d),o===a.offset)break;i=Sg(r.doc,o)}return r}function oze(r,e,t){var n=e.$from,a=e.$to,i=Ki(n),o=Ki(a);if(i&&o)for(;o;){var l=o.offset,d=o.node,g=o.depth;d.attrs.task&&r.setNodeMarkup(l,null,{task:!1,checked:!1});var C=r.doc.resolve(l);if(C.parent.type!==t){var T=C.before(g-1);r.setNodeMarkup(T,t)}if(l===i.offset)break;o=Sg(r.doc,l)}return r}function Mg(r){return function(e,t){var n=e.selection,a=e.tr,i=n.$from,o=n.$to,l=i.blockRange(o);if(l){var d=Gi(i)?oze(a,l,r):xg(a,l,r);return t(d),!0}return!1}}function sze(){return function(r,e){var t=r.selection,n=r.tr,a=r.schema,i=t.$from,o=t.$to,l=i.blockRange(o);if(l){var d=Gi(i)?ize(n,l):xg(n,l,a.nodes.bulletList,{task:!0});return e(d),!0}return!1}}function lze(r){return function(e,t){var n=e.tr,a=e.selection,i=a.$from,o=a.$to,l=i.blockRange(o,function(I){var q=I.childCount,z=I.firstChild;return!!q&&z.type===r});if(l&&l.startIndex>0){var d=l.parent,g=d.child(l.startIndex-1);if(g.type!==r)return!1;var C=g.lastChild&&g.lastChild.type===d.type,T=C?pe.Fragment.from(r.create()):null,S=new pe.Slice(pe.Fragment.from(r.create(null,pe.Fragment.from(d.type.create(null,T)))),C?3:1,0),M=l.start,O=l.end;return n.step(new ur(M-(C?3:1),O,M,O,S,1,!0)),t(n),!0}return!1}}function uze(r,e,t){var n=e.$from,a=e.$to,i=e.end,o=e.depth,l=e.parent,d=a.end(o);return i<d&&(r.step(new ur(i-1,d,i,d,new pe.Slice(pe.Fragment.from(t.create(null,l.copy())),1,0),1,!0)),e=new pe.NodeRange(r.doc.resolve(n.pos),r.doc.resolve(d),o)),r.lift(e,So(e)),r}function cze(r,e){for(var t=e.parent,n=e.end,a=e.endIndex-1,i=e.startIndex;a>i;a-=1)n-=t.child(a).nodeSize,r.delete(n-1,n+1);var o=r.doc.resolve(e.start),l=o.nodeAfter,d=e.startIndex===0,g=e.endIndex===t.childCount,C=o.node(-1),T=o.index(-1),S=C.canReplace(T+(d?0:1),T+1,l==null?void 0:l.content.append(g?pe.Fragment.empty:pe.Fragment.from(t)));if(l&&S){var M=o.pos,O=M+l.nodeSize;r.step(new ur(M-(d?1:0),O+(g?1:0),M+1,O-1,new pe.Slice((d?pe.Fragment.empty:pe.Fragment.from(t.copy(pe.Fragment.empty))).append(g?pe.Fragment.empty:pe.Fragment.from(t.copy(pe.Fragment.empty))),d?0:1,g?0:1),d?0:1))}return r}function fze(r){return function(e,t){var n=e.tr,a=e.selection,i=a.$from,o=a.$to,l=i.blockRange(o,function(C){var T=C.childCount,S=C.firstChild;return!!T&&S.type===r});if(l){var d=i.node(l.depth-1).type===r,g=d?uze(n,l,r):cze(n,l);return t(g),!0}return!1}}function vze(r){return function(e,t){var n=e.tr,a=e.selection,i=a.$from,o=a.$to;if(i.depth<2||!i.sameParent(o))return!1;var l=i.node(-1);if(l.type!==r)return!1;if(i.parent.content.size===0&&i.node(-1).childCount===i.indexAfter(-1)){if(i.depth===2||i.node(-3).type!==r||i.index(-2)!==i.node(-2).childCount-1)return!1;for(var d=i.index(-1)>0,g=pe.Fragment.empty,C=i.depth-(d?1:2);C>=i.depth-3;C-=1)g=pe.Fragment.from(i.node(C).copy(g));return g=g.append(pe.Fragment.from(r.createAndFill())),n.replace(d?i.before():i.before(-1),i.after(-3),new pe.Slice(g,d?3:2,2)),n.setSelection(We.Selection.near(n.doc.resolve(i.pos+(d?3:2)))),t(n),!0}var T=o.pos===i.end()?l.contentMatchAt(0).defaultType:null,S=T&&[null,{type:T}];return n.delete(i.pos,o.pos),ti(n.doc,i.pos,2,S)?(n.split(i.pos,2,S),t(n),!0):!1}}function pze(){return function(){return function(r,e){var t=r.selection,n=r.schema,a=t.$from,i=t.$to,o=a.blockRange(i);return o&&Gi(a)?lze(n.nodes.listItem)(r,e):!1}}}function dze(){return function(){return function(r,e){var t=r.selection,n=r.schema,a=t.$from,i=t.$to,o=a.blockRange(i);return o&&Gi(a)?fze(n.nodes.listItem)(r,e):!1}}}function Of(){return{indent:pze(),outdent:dze()}}var Td=new Map,yr=function(){function r(e,t,n,a){this.table=e,this.tableRows=t,this.tableStartPos=n,this.rowInfo=a}return r.create=function(e){var t=ca(e,function(O){var I=O.type;return I.name==="table"});if(t){var n=t.node,a=t.depth,i=t.offset,o=Td.get(n);if((o==null?void 0:o.tableStartPos)===i+1)return o;var l=[],d=e.start(a),g=n.child(0),C=n.child(1),T=$c(g,d),S=$c(C,d+g.nodeSize);g.forEach(function(O){return l.push(O)}),C.forEach(function(O){return l.push(O)});var M=new r(n,l,d,T.concat(S));return Td.set(n,M),M}return null},Object.defineProperty(r.prototype,"totalRowCount",{get:function(){return this.rowInfo.length},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"totalColumnCount",{get:function(){return this.rowInfo[0].length},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tableStartOffset",{get:function(){return this.tableStartPos},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tableEndOffset",{get:function(){return this.tableStartPos+this.table.nodeSize-1},enumerable:!1,configurable:!0}),r.prototype.getCellInfo=function(e,t){return this.rowInfo[e][t]},r.prototype.posAt=function(e,t){for(var n=0,a=this.tableStartPos;;n+=1){var i=a+this.tableRows[n].nodeSize;if(n===e){for(var o=t;o<this.totalColumnCount&&this.rowInfo[n][o].offset<a;)o+=1;return o===this.totalColumnCount?i:this.rowInfo[n][o].offset}a=i}},r.prototype.getNodeAndPos=function(e,t){var n=this.rowInfo[e][t];return{node:this.table.nodeAt(n.offset-this.tableStartOffset),pos:n.offset}},r.prototype.extendedRowspan=function(e,t){return!1},r.prototype.extendedColspan=function(e,t){return!1},r.prototype.getRowspanCount=function(e,t){return 0},r.prototype.getColspanCount=function(e,t){return 0},r.prototype.decreaseColspanCount=function(e,t){return 0},r.prototype.decreaseRowspanCount=function(e,t){return 0},r.prototype.getColspanStartInfo=function(e,t){return null},r.prototype.getRowspanStartInfo=function(e,t){return null},r.prototype.getCellStartOffset=function(e,t){var n=this.rowInfo[e][t].offset;return this.extendedRowspan(e,t)?this.posAt(e,t):n},r.prototype.getCellEndOffset=function(e,t){var n=this.rowInfo[e][t],a=n.offset,i=n.nodeSize;return this.extendedRowspan(e,t)?this.posAt(e,t):a+i},r.prototype.getCellIndex=function(e){for(var t=0;t<this.totalRowCount;t+=1)for(var n=this.rowInfo[t],a=0;a<this.totalColumnCount;a+=1)if(n[a].offset+1>e.pos)return[t,a];return[0,0]},r.prototype.getRectOffsets=function(e,t){var n,a,i;t===void 0&&(t=e),e.pos>t.pos&&(n=[t,e],e=n[0],t=n[1]);var o=this.getCellIndex(e),l=o[0],d=o[1],g=this.getCellIndex(t),C=g[0],T=g[1];return a=Ep(l,C),l=a[0],C=a[1],i=Ep(d,T),d=i[0],T=i[1],this.getSpannedOffsets({startRowIdx:l,startColIdx:d,endRowIdx:C,endColIdx:T})},r.prototype.getSpannedOffsets=function(e){return e},r}(),$c=function(r,e){var t=[];return r.forEach(function(n,a){var i={rowspanMap:{},colspanMap:{},length:0};n.forEach(function(o,l){for(var d=o.nodeSize,g=0;i[g];)g+=1;i[g]={offset:e+a+l+2,nodeSize:d},i.length+=1}),t.push(i)}),t};function hze(r,e){return ff(yr.prototype,r),$c=e,yr}function mze(r,e,t){for(var n=t.startRowIdx,a=t.startColIdx,i=t.endRowIdx,o=t.endColIdx,l=[],d=n;d<=i;d+=1)for(var g=a;g<=o;g+=1){var C=e.getCellInfo(d,g),T=C.offset,S=C.nodeSize;l.push(new We.SelectionRange(r.resolve(T+1),r.resolve(T+S-1)))}return l}function gze(r,e){var t=[];return r.childCount&&t.push(r),e.childCount&&t.push(e),pe.Fragment.from(t)}var Nf=function(r){Pe(e,r);function e(t,n){n===void 0&&(n=t);var a=this,i=t.node(0),o=yr.create(t),l=o.getRectOffsets(t,n),d=mze(i,o,l);return a=r.call(this,d[0].$from,d[0].$to,d)||this,a.startCell=t,a.endCell=n,a.offsetMap=o,a.isCellSelection=!0,a.visible=!1,a}return e.prototype.map=function(t,n){var a=this.startCell.pos,i=this.endCell.pos,o=t.resolve(n.map(a)),l=t.resolve(n.map(i)),d=yr.create(o);if(this.offsetMap.totalColumnCount>d.totalColumnCount||this.offsetMap.totalRowCount>d.totalRowCount){var g={tableBody:1,tableRow:2,tableCell:3,paragraph:4},C=g[l.parent.type.name],T=l.end(l.depth-C),S=Math.min(T-4,l.pos);return We.TextSelection.create(t,S)}return new e(o,l)},e.prototype.eq=function(t){return t instanceof e&&t.startCell.pos===this.startCell.pos&&t.endCell.pos===this.endCell.pos},e.prototype.content=function(){for(var t=this.startCell.node(-2),n=this.startCell.start(-2),a=t.child(1).firstChild,i=t.child(0).type.create(),o=t.child(1).type.create(),l=yr.create(this.startCell),d=l.getRectOffsets(this.startCell,this.endCell),g=d.startRowIdx,C=d.startColIdx,T=d.endRowIdx,S=d.endColIdx,M=!1,O=g;O<=T;O+=1){for(var I=[],q=C;q<=S;q+=1){var z=l.getCellInfo(O,q).offset,V=t.nodeAt(z-n);V&&(M=V.type.name==="tableHeadCell",l.extendedRowspan(O,q)||l.extendedColspan(O,q)?I.push(V.type.create({extended:!0})):I.push(V.copy(V.content)))}var G=a.copy(pe.Fragment.from(I)),Z=M?i:o;Z.content=Z.content.append(pe.Fragment.from(G))}return new pe.Slice(gze(i,o),1,1)},e.prototype.toJSON=function(){return JSON.stringify(this)},e}(We.Selection);function yze(r,e,t){for(var n=e.nodes,a=n.tableRow,i=n.tableHeadCell,o=n.paragraph,l=[],d=0;d<r;d+=1){var g=t&&t[d],C=o.create(null,g?e.text(g):[]);l.push(i.create(null,C))}return[a.create(null,l)]}function Ag(r,e,t,n){for(var a=t.nodes,i=a.tableRow,o=a.tableBodyCell,l=a.paragraph,d=[],g=0;g<r;g+=1){for(var C=[],T=0;T<e;T+=1){var S=n&&n[g*e+T],M=l.create(null,S?t.text(S):[]);C.push(o.create(null,M))}d.push(i.create(null,C))}return d}function Ps(r,e,t,n){n===void 0&&(n=null);for(var a=t.nodes,i=a.tableHeadCell,o=a.tableBodyCell,l=a.paragraph,d=e===0?i:o,g=[],C=0;C<r;C+=1)g.push(d.create(n,l.create()));return g}function Lg(r,e){for(;r&&r!==e;){if(r.nodeName==="TD"||r.nodeName==="TH")return r;r=r.parentNode}return null}function Dg(r){return ca(r,function(e){var t=e.type;return t.name==="tableHeadCell"||t.name==="tableBodyCell"})}function _n(r){if(r instanceof We.TextSelection){var e=r.$anchor,t=Dg(e);if(t){var n=e.node(0).resolve(e.before(t.depth));return{anchor:n,head:n}}}var a=r,i=a.startCell,o=a.endCell;return{anchor:i,head:o}}function Og(r){var e;if(r.size){var t=r.content,n=r.openStart,a=r.openEnd;if(t.childCount!==1)return null;for(;t.childCount===1&&(n>0&&a>0||((e=t.firstChild)===null||e===void 0?void 0:e.type.name)==="table");)n-=1,a-=1,t=t.firstChild.content;if(t.firstChild.type.name==="tableHead"||t.firstChild.type.name==="tableBody")return t}return null}function Pi(r){var e=r.startRowIdx,t=r.startColIdx,n=r.endRowIdx,a=r.endColIdx,i=n-e+1,o=a-t+1;return{rowCount:i,columnCount:o}}function bze(r,e){return ce(ce({},r.attrs),e)}var Ma=new We.PluginKey("cellSelection"),wze=2,kze=function(){function r(e){this.view=e,this.handlers={mousedown:this.handleMousedown.bind(this),mousemove:this.handleMousemove.bind(this),mouseup:this.handleMouseup.bind(this)},this.startCellPos=null,this.init()}return r.prototype.init=function(){this.view.dom.addEventListener("mousedown",this.handlers.mousedown)},r.prototype.handleMousedown=function(e){var t=Lg(e.target,this.view.dom);if(e.button===wze){e.preventDefault();return}if(t){var n=this.getCellPos(e);n&&(this.startCellPos=n),this.bindEvent()}},r.prototype.handleMousemove=function(e){var t=Ma.getState(this.view.state),n=this.getCellPos(e),a=this.startCellPos,i;t?i=this.view.state.doc.resolve(t):a!==n&&(i=a),i&&a&&n&&this.setCellSelection(a,n)},r.prototype.handleMouseup=function(){this.startCellPos=null,this.unbindEvent(),Ma.getState(this.view.state)!==null&&this.view.dispatch(this.view.state.tr.setMeta(Ma,-1))},r.prototype.bindEvent=function(){var e=this.view.dom;e.addEventListener("mousemove",this.handlers.mousemove),e.addEventListener("mouseup",this.handlers.mouseup)},r.prototype.unbindEvent=function(){var e=this.view.dom;e.removeEventListener("mousemove",this.handlers.mousemove),e.removeEventListener("mouseup",this.handlers.mouseup)},r.prototype.getCellPos=function(e){var t=e.clientX,n=e.clientY,a=this.view.posAtCoords({left:t,top:n});if(a){var i=this.view.state.doc,o=i.resolve(a.pos),l=Dg(o);if(l){var d=o.before(l.depth);return i.resolve(d)}}return null},r.prototype.setCellSelection=function(e,t){var n=this.view.state,a=n.selection,i=n.tr,o=Ma.getState(this.view.state)===null,l=new Nf(e,t);if(o||!a.eq(l)){var d=i.setSelection(l);o&&d.setMeta(Ma,t.pos),this.view.dispatch(d)}},r.prototype.destroy=function(){this.view.dom.removeEventListener("mousedown",this.handlers.mousedown)},r}(),Cze=Fe("cell-selected");function Tze(r){var e=r.selection,t=r.doc;if(e instanceof Nf){var n=[],a=e.ranges;return a.forEach(function(i){var o=i.$from,l=i.$to;n.push(pa.Decoration.node(o.pos-1,l.pos+1,{class:Cze}))}),pa.DecorationSet.create(t,n)}return null}function Eze(){return new We.Plugin({key:Ma,state:{init:function(){return null},apply:function(r,e){var t=r.getMeta(Ma);if(t)return t===-1?null:t;if(zs(e)||!r.docChanged)return e;var n=r.mapping.mapResult(e),a=n.deleted,i=n.pos;return a?null:i}},props:{decorations:Tze,createSelectionBetween:function(r){var e=r.state;return zs(Ma.getState(e))?null:e.selection}},view:function(r){return new kze(r)}})}var Ng=function(){function r(){this.keys=[],this.values=[]}return r.prototype.getKeyIndex=function(e){return ii(e,this.keys)},r.prototype.get=function(e){return this.values[this.getKeyIndex(e)]},r.prototype.set=function(e,t){var n=this.getKeyIndex(e);return n>-1?this.values[n]=t:(this.keys.push(e),this.values.push(t)),this},r.prototype.has=function(e){return this.getKeyIndex(e)>-1},r.prototype.delete=function(e){var t=this.getKeyIndex(e);return t>-1?(this.keys.splice(t,1),this.values.splice(t,1),!0):!1},r.prototype.forEach=function(e,t){var n=this;t===void 0&&(t=this),this.values.forEach(function(a,i){a&&n.keys[i]&&e.call(t,a,n.keys[i],n)})},r.prototype.clear=function(){this.keys=[],this.values=[]},r}(),yc="en-US",xze=function(){function r(){this.code=yc,this.langs=new Ng}return r.prototype.setCode=function(e){this.code=e||yc},r.prototype.setLanguage=function(e,t){var n=this;e=[].concat(e),e.forEach(function(a){if(!n.langs.has(a))n.langs.set(a,t);else{var i=n.langs.get(a);n.langs.set(a,af(i,t))}})},r.prototype.get=function(e,t){t||(t=this.code);var n=this.langs.get(t);n||(n=this.langs.get(yc));var a=n[e];if(!a)throw new Error('There is no text key "'+e+'" in '+t);return a},r}(),Ze=new xze,Sze=[[{action:"Add row to up",command:"addRowToUp",disableInThead:!0,className:"add-row-up"},{action:"Add row to down",command:"addRowToDown",disableInThead:!0,className:"add-row-down"},{action:"Remove row",command:"removeRow",disableInThead:!0,className:"remove-row"}],[{action:"Add column to left",command:"addColumnToLeft",className:"add-column-left"},{action:"Add column to right",command:"addColumnToRight",className:"add-column-right"},{action:"Remove column",command:"removeColumn",className:"remove-column"}],[{action:"Align column to left",command:"alignColumn",payload:{align:"left"},className:"align-column-left"},{action:"Align column to center",command:"alignColumn",payload:{align:"center"},className:"align-column-center"},{action:"Align column to right",command:"alignColumn",payload:{align:"right"},className:"align-column-right"}],[{action:"Remove table",command:"removeTable",className:"remove-table"}]];function Mze(r,e){return Sze.map(function(t){return t.map(function(n){var a=n.action,i=n.command,o=n.payload,l=n.disableInThead,d=n.className;return{label:Ze.get(a),onClick:function(){r.emit("command",i,o)},disabled:e&&!!l,className:d}})}).concat()}function Aze(r){return new We.Plugin({props:{handleDOMEvents:{contextmenu:function(e,t){var n=Lg(t.target,e.dom);if(n){t.preventDefault();var a=t,i=a.clientX,o=a.clientY,l=e.dom.parentNode.getBoundingClientRect(),d=l.left,g=l.top,C=n.nodeName==="TH";return r.emit("contextmenu",{pos:{left:i-d+10+"px",top:o-g+30+"px"},menuGroups:Mze(r,C),tableCell:n}),!0}return!1}}}})}function Lze(){return new We.Plugin({props:{handleDOMEvents:{mousedown:function(r,e){var t=e,n=t.clientX,a=t.clientY,i=r.posAtCoords({left:n,top:a});if(i){var o=r.state,l=o.doc,d=o.tr,g=l.resolve(i.pos),C=Ki(g),T=e.target,S=getComputedStyle(T,":before"),M=e,O=M.offsetX,I=M.offsetY;if(!C||!df(S,O,I))return!1;e.preventDefault();var q=g.before(C.depth),z=C.node.attrs;return d.setNodeMarkup(q,null,ce(ce({},z),{checked:!z.checked})),r.dispatch(d),!0}return!1}}}})}var Dze=["image","link","customBlock","frontMatter"],Oze=["strong","strike","emph","code"],Rg=["bulletList","orderedList","taskList"];function Nze(r,e){var t=r.type.name;return t==="listItem"?r.attrs.task?"taskList":e.type.name:t.indexOf("table")!==-1?"table":t}function Rze(r,e){e[r]={active:!0},Rg.filter(function(t){return t!==r}).forEach(function(t){e[t]&&delete e[t]})}function Ize(r,e,t,n){Oze.forEach(function(a){var i=t.marks[a],o=r.marksAcross(e)||[],l=!!i.isInSet(o);l&&(n[a]={active:!0})})}function Pze(r,e,t){var n=r.$from,a=r.$to,i=r.from,o=r.to,l={indent:{active:!1,disabled:!0},outdent:{active:!1,disabled:!0}};return e.nodesBetween(i,o,function(d,g,C){var T=Nze(d,C);kr(Dze,T)||(kr(Rg,T)?(Rze(T,l),l.indent.disabled=!1,l.outdent.disabled=!1):T==="paragraph"||T==="text"?Ize(n,a,t,l):l[T]={active:!0})}),l}function Bze(r){return new We.Plugin({view:function(){return{update:function(e){var t=e.state,n=t.selection,a=t.doc,i=t.schema;r.emit("changeToolbarState",{toolbarState:Pze(n,a,i)})}}}})}var qze=function(){function r(e,t,n,a){var i=this;this.openEditor=function(){if(i.innerEditorView)throw new Error("The editor is already opened.");i.dom.draggable=!1,i.wrapper.style.display="none",i.innerViewContainer.style.display="block",i.innerEditorView=new pa.EditorView(i.innerViewContainer,{state:We.EditorState.create({doc:i.node,plugins:[To.keymap({"Mod-z":function(){return ko(i.innerEditorView.state,i.innerEditorView.dispatch)},"Shift-Mod-z":function(){return nf(i.innerEditorView.state,i.innerEditorView.dispatch)},Tab:function(o,l){return l(o.tr.insertText("	")),!0},Enter:Qh,Escape:function(){return i.cancelEditing(),!0},"Ctrl-Enter":function(){return i.saveAndFinishEditing(),!0}}),nm()]}),dispatchTransaction:function(o){return i.dispatchInner(o)},handleDOMEvents:{mousedown:function(){return i.editorView.hasFocus()&&i.innerEditorView.focus(),!0},blur:function(){return i.saveAndFinishEditing(),!0}}}),i.innerEditorView.focus()},this.node=e,this.editorView=t,this.getPos=n,this.toDOMAdaptor=a,this.innerEditorView=null,this.canceled=!1,this.dom=document.createElement("div"),this.dom.className=Fe("custom-block"),this.wrapper=document.createElement("div"),this.wrapper.className=Fe("custom-block-view"),this.createInnerViewContainer(),this.renderCustomBlock(),this.dom.appendChild(this.innerViewContainer),this.dom.appendChild(this.wrapper)}return r.prototype.renderToolArea=function(){var e=this,t=document.createElement("div"),n=document.createElement("span"),a=document.createElement("button");t.className="tool",n.textContent=this.node.attrs.info,n.className="info",a.type="button",a.addEventListener("click",function(){return e.openEditor()}),t.appendChild(n),t.appendChild(a),this.wrapper.appendChild(t)},r.prototype.renderCustomBlock=function(){var e=this.toDOMAdaptor.getToDOMNode(this.node.attrs.info);if(e){for(var t=e(this.node);this.wrapper.hasChildNodes();)this.wrapper.removeChild(this.wrapper.lastChild);t&&this.wrapper.appendChild(t),this.renderToolArea()}},r.prototype.createInnerViewContainer=function(){this.innerViewContainer=document.createElement("div"),this.innerViewContainer.className=Fe("custom-block-editor"),this.innerViewContainer.style.display="none"},r.prototype.closeEditor=function(){this.innerEditorView&&(this.innerEditorView.destroy(),this.innerEditorView=null,this.innerViewContainer.style.display="none"),this.wrapper.style.display="block"},r.prototype.saveAndFinishEditing=function(){var e=this.editorView.state.selection.to,t=this.editorView.state;this.editorView.dispatch(t.tr.setSelection(Rt(t.tr,e))),this.editorView.focus(),this.renderCustomBlock(),this.closeEditor()},r.prototype.cancelEditing=function(){var e=R7(this.innerEditorView.state);for(this.canceled=!0;e--;)ko(this.innerEditorView.state,this.innerEditorView.dispatch),ko(this.editorView.state,this.editorView.dispatch);this.canceled=!1;var t=this.editorView.state.selection.to,n=this.editorView.state;this.editorView.dispatch(n.tr.setSelection(We.TextSelection.create(n.doc,t))),this.editorView.focus(),this.closeEditor()},r.prototype.dispatchInner=function(e){var t=this.innerEditorView.state.applyTransaction(e),n=t.state,a=t.transactions;if(this.innerEditorView.updateState(n),!this.canceled&&un(this.getPos)){for(var i=this.editorView.state.tr,o=Lr.offset(this.getPos()+1),l=0;l<a.length;l+=1)for(var d=a[l].steps,g=0;g<d.length;g+=1)i.step(d[g].map(o));i.docChanged&&this.editorView.dispatch(i)}},r.prototype.update=function(e){return e.sameMarkup(this.node)?(this.node=e,this.innerEditorView||this.renderCustomBlock(),!0):!1},r.prototype.stopEvent=function(e){return!!this.innerEditorView&&!!e.target&&this.innerEditorView.dom.contains(e.target)},r.prototype.ignoreMutation=function(){return!0},r.prototype.destroy=function(){this.dom.removeEventListener("dblclick",this.openEditor),this.closeEditor()},r}(),Ed="image-link",Fze=function(){function r(e,t,n,a){var i=this,o;this.handleMousedown=function(l){l.preventDefault();var d=l.target,g=l.offsetX,C=l.offsetY;if(i.imageLink&&un(i.getPos)&&pm(d,Ed)){var T=getComputedStyle(d,":before");if(l.stopPropagation(),df(T,g,C)){var S=i.view.state.tr,M=i.getPos();S.setSelection(Rt(S,M,M+1)),i.view.dispatch(S),i.eventEmitter.emit("openPopup","link",i.imageLink.attrs)}}},this.node=e,this.view=t,this.getPos=n,this.eventEmitter=a,this.imageLink=(o=e.marks.filter(function(l){var d=l.type;return d.name==="link"})[0])!==null&&o!==void 0?o:null,this.dom=this.createElement(),this.bindEvent()}return r.prototype.createElement=function(){var e=this.createImageElement(this.node);if(this.imageLink){var t=document.createElement("span");return t.className=Ed,t.appendChild(e),t}return e},r.prototype.createImageElement=function(e){var t=document.createElement("img"),n=e.attrs,a=n.imageUrl,i=n.altText,o=Gt(e.attrs);return t.src=a,i&&(t.alt=i),gf(o,t),t},r.prototype.bindEvent=function(){this.imageLink&&this.dom.addEventListener("mousedown",this.handleMousedown)},r.prototype.stopEvent=function(){return!0},r.prototype.destroy=function(){this.imageLink&&this.dom.removeEventListener("mousedown",this.handleMousedown)},r}(),Hze="toastui-editor-ww-code-block",_ze="toastui-editor-ww-code-block-language",zze=function(){function r(e,t,n,a){var i=this;this.contentDOM=null,this.input=null,this.timer=null,this.handleMousedown=function(o){var l=o.target,d=getComputedStyle(l,":after");if(d.backgroundImage!=="none"&&un(i.getPos)){var g=i.view.coordsAtPos(i.getPos()),C=g.top,T=g.right;i.createLanguageEditor({top:C,right:T})}},this.handleKeydown=function(o){o.key==="Enter"&&i.input&&(o.preventDefault(),i.changeLanguage())},this.node=e,this.view=t,this.getPos=n,this.eventEmitter=a,this.createElement(),this.bindDOMEvent(),this.bindEvent()}return r.prototype.createElement=function(){var e=this.node.attrs.language,t=document.createElement("div");t.setAttribute("data-language",e||"text"),t.className=Hze;var n=this.createCodeBlockElement(),a=n.firstChild;t.appendChild(n),this.dom=t,this.contentDOM=a},r.prototype.createCodeBlockElement=function(){var e=document.createElement("pre"),t=document.createElement("code"),n=this.node.attrs.language,a=Gt(this.node.attrs);return n&&t.setAttribute("data-language",n),gf(a,e),e.appendChild(t),e},r.prototype.createLanguageEditor=function(e){var t=this,n=e.top,a=e.right,i=document.createElement("span");i.className=_ze;var o=document.createElement("input");o.type="text",o.value=this.node.attrs.language,i.appendChild(o),this.view.dom.parentElement.appendChild(i);var l=i.clientWidth;Un(i,{top:n+10+"px",left:a-l-10+"px",width:l+"px"}),this.input=o,this.input.addEventListener("blur",function(){return t.changeLanguage()}),this.input.addEventListener("keydown",this.handleKeydown),this.clearTimer(),this.timer=setTimeout(function(){t.input.focus()})},r.prototype.bindDOMEvent=function(){this.dom&&this.dom.addEventListener("click",this.handleMousedown)},r.prototype.bindEvent=function(){var e=this;this.eventEmitter.listen("scroll",function(){e.input&&e.reset()})},r.prototype.changeLanguage=function(){if(this.input&&un(this.getPos)){var e=this.input.value;this.reset();var t=this.getPos(),n=this.view.state.tr;n.setNodeMarkup(t,null,{language:e}),this.view.dispatch(n)}},r.prototype.reset=function(){var e;if(!((e=this.input)===null||e===void 0)&&e.parentElement){var t=this.input.parentElement;this.input=null,si(t)}},r.prototype.clearTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},r.prototype.stopEvent=function(){return!0},r.prototype.update=function(e){return e.sameMarkup(this.node)?(this.node=e,!0):!1},r.prototype.destroy=function(){this.reset(),this.clearTimer(),this.dom&&this.dom.removeEventListener("click",this.handleMousedown)},r}(),$ze=/MsoListParagraph/,Ig=/style=(.|\n)*mso-/,Pg=/mso-list:(.*)/,Vze=/O:P/,Uze=/^(n|u|l)/,jze="p.MsoListParagraph";function Wze(r){return Ig.test(r)}function Gze(r){for(var e=[],t=document.createTreeWalker(r,1,null,!1);t.nextNode();){var n=t.currentNode;if(vl(n)){var a=n,i=a.outerHTML,o=a.textContent,l=Ig.test(i),d=Pg.test(i);l&&!d&&o?e.push([n,!0]):(Vze.test(n.nodeName)||l&&!o||d)&&e.push([n,!1])}}return e.forEach(function(g){var C=g[0],T=g[1];T?vX(C):si(C)}),r.innerHTML.trim()}function Kze(r,e){var t=r.getAttribute("style");if(t){var n=t.match(Pg),a=n[1],i=a.trim().split(" "),o=i[1],l=parseInt(o.replace("level",""),10),d=Uze.test(r.textContent||"");return{id:e,level:l,prev:null,parent:null,children:[],unordered:d,contents:Gze(r)}}return null}function Jze(r,e){if(e.level<r.level)e.children.push(r),r.parent=e;else{for(;e&&e.level!==r.level;)e=e.parent;e&&(r.prev=e,r.parent=e.parent,r.parent&&r.parent.children.push(r))}}function Qze(r){var e=[];return r.forEach(function(t,n){var a=e[n-1],i=Kze(t,n);i&&(a&&Jze(i,a),e.push(i))}),e}function Bg(r){var e=r[0].unordered?"ul":"ol",t=document.createElement(e);return r.forEach(function(n){var a=n.children,i=n.contents,o=document.createElement("li");o.innerHTML=i,t.appendChild(o),a.length&&t.appendChild(Bg(a))}),t}function Xze(r){var e=Qze(r),t=e.filter(function(n){var a=n.parent;return!a});return Bg(t)}function Zze(r){for(;r&&!vl(r);)r=r.nextSibling;return r?!$ze.test(r.className):!0}function Yze(r){var e=document.createElement("div");e.innerHTML=r;var t=[],n=uX(e,jze);n.forEach(function(i){var o=Zze(i.nextSibling);if(t.push(i),o){var l=Xze(t),d=i.nextSibling;d?fX(l,d):cX(e,l),t=[]}si(i)});var a=n.length?"<p></p>":"";return""+a+e.innerHTML}var xd="<!--StartFragment-->",e$e="<!--EndFragment-->";function t$e(r){var e=r.indexOf(xd),t=r.lastIndexOf(e$e);return e>-1&&t>-1&&(r=r.slice(e+xd.length,t)),r.replace(/<br[^>]*>/g,ym)}function r$e(r){return/<\/td>((?!<\/tr>)[\s\S])*$/i.test(r)&&(r="<tr>"+r+"</tr>"),/<\/tr>((?!<\/table>)[\s\S])*$/i.test(r)&&(r="<table>"+r+"</table>"),r}function n$e(r){return r=t$e(r),r=r$e(r),Wze(r)&&(r=Yze(r)),r}function a$e(r){var e=r.reduce(function(t,n){return t.childCount>n.childCount?t:n});return e.childCount}function qg(r,e,t){for(var n=[],a=r.childCount,i=0;i<a;i+=1)if(!r.child(i).attrs.extended){var o=i<a?t.create(r.child(i).attrs,r.child(i).content):t.createAndFill();n.push(o)}return n}function Fg(r,e,t){var n=t.nodes,a=n.tableRow,i=n.tableHeadCell,o=qg(r,e,i);return a.create(null,o)}function Hg(r,e,t){var n=t.nodes,a=n.tableRow,i=n.tableBodyCell,o=qg(r,e,i);return a.create(null,o)}function i$e(r,e){for(var t=e.nodes,n=t.tableRow,a=t.tableBodyCell,i=[],o=0;o<r;o+=1){var l=a.createAndFill();i.push(l)}return n.create({dummyRowForPasting:!0},i)}function _g(r){var e=[],t=[];if(r.firstChild.type.name==="tableHead"){var n=r.firstChild;n.forEach(function(i){return e.push(i)})}if(r.lastChild.type.name==="tableBody"){var a=r.lastChild;a.forEach(function(i){return t.push(i)})}return Hr(Hr([],e),t)}function o$e(r,e,t){var n=Fg(r,e,t);return t.nodes.tableHead.create(null,n)}function Sd(r,e,t){var n=r.map(function(i){return Hg(i,e,t)});if(!r.length){var a=i$e(e,t);n.push(a)}return t.nodes.tableBody.create(null,n)}function s$e(r,e,t,n){var a=a$e(r);if(t&&n)return e.nodes.table.create(null,[Sd(r,a,e)]);var i=r[0],o=r.slice(1),l=[o$e(i,a,e)];return o.length&&l.push(Sd(o,a,e)),e.nodes.table.create(null,l)}function l$e(r,e,t){var n=[],a=r.content,i=r.openStart,o=r.openEnd;return a.forEach(function(l){if(l.type.name==="table"){var d=Og(new pe.Slice(pe.Fragment.from(l),0,0));if(d){var g=_g(d),C=d.firstChild.type.name==="tableBody",T=s$e(g,e,C,t);n.push(T)}}else n.push(l)}),new pe.Slice(pe.Fragment.from(n),i,o)}var u$e=4,c$e=2;function Bs(r){return r*u$e}function f$e(r,e,t){var n=[],a=_g(r),i=a[0].childCount,o=a.length,l=e.startRowIdx===0,d=a.slice(0,o);if(l){var g=d.shift();if(g){var C=Fg(g,i,t).content;n.push(C)}}return d.forEach(function(T){if(!T.attrs.dummyRowForPasting){var S=Hg(T,i,t).content;n.push(S)}}),n}function v$e(r,e,t){for(var n=e.startRowIdx,a=e.startColIdx,i=t.length,o=0,l=function(M){var O=t[M].childCount;t[M].forEach(function(I){var q=I.attrs,z=q.colspan;z>1&&(O+=z-1)}),o=Math.max(o,O)},d=0;d<i;d+=1)l(d);var g=n+i-1,C=a+o-1,T=Math.max(g+1-r.totalRowCount,0),S=Math.max(C+1-r.totalColumnCount,0);return{startRowIdx:n,startColIdx:a,endRowIdx:g,endColIdx:C,addedRowCount:T,addedColumnCount:S}}function p$e(r,e){for(var t=r.startRowIdx,n=r.startColIdx,a=r.endRowIdx,i=r.endColIdx,o=r.addedRowCount,l=r.addedColumnCount,d=t;d<=a-o;d+=1)e.push({rowIdx:d,startColIdx:n,endColIdx:i-l})}function d$e(r,e,t,n,a){for(var i=n.startRowIdx,o=n.startColIdx,l=n.endRowIdx,d=n.endColIdx,g=n.addedRowCount,C=n.addedColumnCount,T=t.totalRowCount,S=0,M=0;M<T;M+=1){var O=t.getCellInfo(M,d-C),I=O.offset,q=O.nodeSize,z=r.mapping.map(I+q),V=Ps(C,M,e);if(r.insert(z,V),M>=i&&M<=l-g){var G=t.getCellInfo(M,d-C),Z=r.mapping.map(G.offset),ne=z+Bs(C);a[S]={rowIdx:M,startColIdx:o,endColIdx:d,dummyOffsets:[Z,ne]},S+=1}}}function h$e(r,e,t,n,a){var i=n.addedRowCount,o=n.addedColumnCount,l=n.startColIdx,d=n.endColIdx,g=r.mapping.maps.length,C=t.tableEndOffset-2,T=Ag(i,t.totalColumnCount+o,e),S=C;r.insert(r.mapping.slice(g).map(S),T);for(var M=0;M<i;M+=1){var O=S+Bs(l)+1,I=S+Bs(d+1)+1,q=S+Bs(t.totalColumnCount+o)+c$e;a.push({rowIdx:M+t.totalRowCount,startColIdx:l,endColIdx:d,dummyOffsets:[O,I]}),S=q}}function m$e(r,e,t,n){var a=r.mapping.maps.length;t.forEach(function(i,o){var l=i.rowIdx,d=i.startColIdx,g=i.endColIdx,C=i.dummyOffsets,T=r.mapping.slice(a),S=new pe.Slice(e[o],0,0),M=C?C[0]:n.getCellStartOffset(l,d),O=C?C[1]:n.getCellEndOffset(l,g);r.replace(T.map(M),T.map(O),S)})}function g$e(r,e){var t=r.state,n=t.selection,a=t.schema,i=t.tr,o=_n(n),l=o.anchor,d=o.head;if(l&&d){var g=Og(e);if(!g)return!1;var C=yr.create(l),T=C.getRectOffsets(l,d),S=f$e(g,T,a),M=v$e(C,T,S),O=[];return b$e(C,M)&&(p$e(M,O),M.addedColumnCount&&d$e(i,a,C,M,O),M.addedRowCount&&h$e(i,a,C,M,O),m$e(i,S,O,C),r.dispatch(i),y$e(r,O,C.getCellInfo(0,0).offset)),!0}return!1}function y$e(r,e,t){var n=r.state,a=n.tr,i=n.doc,o=yr.create(i.resolve(t)),l=e[0],d=l.rowIdx,g=l.startColIdx,C=xr(e),T=C.rowIdx,S=C.endColIdx,M=o.getCellInfo(d,g).offset,O=o.getCellInfo(T,S).offset;r.dispatch(a.setSelection(new Nf(i.resolve(M),i.resolve(O))))}function b$e(r,e){var t=r.getSpannedOffsets(e),n=Pi(t),a=n.rowCount,i=n.columnCount,o=Pi(e),l=o.rowCount,d=o.columnCount;return a===l&&i===d}var w$e=function(r){Pe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"doc"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"block+"}},enumerable:!1,configurable:!0}),e}(At),k$e=function(r){Pe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"paragraph"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"inline*",group:"block",attrs:ce({},fr()),parseDOM:[{tag:"p"}],toDOM:function(t){var n=t.attrs;return["p",Gt(n),0]}}},enumerable:!1,configurable:!0}),e}(At),C$e=/\s{1,4}$/,T$e=function(r){Pe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"text"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{group:"inline"}},enumerable:!1,configurable:!0}),e.prototype.addSpaces=function(){return function(t,n){var a=t.selection,i=t.tr,o=a.$from,l=a.$to,d=o.blockRange(l);return d&&!Gi(o)&&!tl(o)?(n(i.insertText("    ",o.pos,l.pos)),!0):!1}},e.prototype.removeSpaces=function(){return function(t,n){var a=t.selection,i=t.tr,o=a.$from,l=a.$to,d=a.from,g=o.blockRange(l);if(g&&!Gi(o)&&!tl(o)){var C=o.nodeBefore;if(C&&C.isText){var T=C.text,S=T.replace(C$e,""),M=T.length-S.length;return n(i.delete(d-M,d)),!0}}return!1}},e.prototype.keymaps=function(){return{Tab:this.addSpaces(),"Shift-Tab":this.removeSpaces()}},e}(At),E$e=function(r){Pe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"heading"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"levels",{get:function(){return[1,2,3,4,5,6]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var t=this.levels.map(function(n){return{tag:"h"+n,getAttrs:function(a){var i=a.getAttribute("data-raw-html");return ce({level:n},i&&{rawHTML:i})}}});return{attrs:ce({level:{default:1},headingType:{default:"atx"},rawHTML:{default:null}},fr()),content:"inline*",group:"block",defining:!0,parseDOM:t,toDOM:function(n){var a=n.attrs;return["h"+a.level,Gt(a),0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(t){return function(n,a){var i=n.schema.nodes[t.level?"heading":"paragraph"];return rf(i,t)(n,a)}}},e}(At),x$e=function(r){Pe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"codeBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"text*",group:"block",attrs:ce({language:{default:null},rawHTML:{default:null}},fr()),code:!0,defining:!0,marks:"",parseDOM:[{tag:"pre",preserveWhitespace:"full",getAttrs:function(t){var n=t.getAttribute("data-raw-html"),a=t.firstElementChild;return ce({language:(a==null?void 0:a.getAttribute("data-language"))||null},n&&{rawHTML:n})}}],toDOM:function(t){var n=t.attrs;return[n.rawHTML||"pre",["code",ce({"data-language":n.language},Gt(n)),0]]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,n){return rf(t.schema.nodes.codeBlock)(t,n)}}},e.prototype.moveCursor=function(t){var n=this;return function(a,i){var o=a.tr,l=a.doc,d=a.schema,g=a.selection.$from,C=n.context.view;if(C.endOfTextblock(t)&&g.node().type.name==="codeBlock"){var T=g.parent.textContent.split(`
`),S=t==="up"?g.start():g.end(),M=t==="up"?[S,T[0].length+S]:[S-xr(T).length,S],O=l.resolve(t==="up"?g.before():g.after()),I=t==="up"?O.nodeBefore:O.nodeAfter;if(OQ(g.pos,M[0],M[1])&&!I){var q=vf(o,O,d);if(q)return i(q),!0}}return!1}},e.prototype.keymaps=function(){var t=this.commands()();return{"Shift-Mod-p":t,"Shift-Mod-P":t,ArrowUp:this.moveCursor("up"),ArrowDown:this.moveCursor("down")}},e}(At),S$e=function(r){Pe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"bulletList"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"listItem+",group:"block",attrs:ce({rawHTML:{default:null}},fr()),parseDOM:[bl("ul")],toDOM:function(t){var n=t.attrs;return["ul",Gt(n),0]}}},enumerable:!1,configurable:!0}),e.prototype.changeList=function(){return function(t,n){return Mg(t.schema.nodes.bulletList)(t,n)}},e.prototype.commands=function(){return{bulletList:this.changeList,taskList:sze}},e.prototype.keymaps=function(){var t=this.changeList(),n=Of(),a=n.indent,i=n.outdent;return{"Mod-u":t,"Mod-U":t,Tab:a(),"Shift-Tab":i()}},e}(At),M$e=function(r){Pe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"orderedList"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"listItem+",group:"block",attrs:ce({order:{default:1},rawHTML:{default:null}},fr()),parseDOM:[{tag:"ol",getAttrs:function(t){var n=t.getAttribute("start"),a=t.getAttribute("data-raw-html");return ce({order:t.hasAttribute("start")?Number(n):1},a&&{rawHTML:a})}}],toDOM:function(t){var n=t.attrs;return[n.rawHTML||"ol",ce({start:n.order===1?null:n.order},Gt(n)),0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,n){return Mg(t.schema.nodes.orderedList)(t,n)}}},e.prototype.keymaps=function(){var t=this.commands()(),n=Of(),a=n.indent,i=n.outdent;return{"Mod-o":t,"Mod-O":t,Tab:a(),"Shift-Tab":i()}},e}(At),A$e=function(r){Pe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"listItem"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"paragraph block*",selectable:!1,attrs:{task:{default:!1},checked:{default:!1},rawHTML:{default:null}},defining:!0,parseDOM:[{tag:"li",getAttrs:function(t){var n=t.getAttribute("data-raw-html");return ce({task:t.hasAttribute("data-task"),checked:t.hasAttribute("data-task-checked")},n&&{rawHTML:n})}}],toDOM:function(t){var n=t.attrs,a=n.task,i=n.checked;if(!a)return[n.rawHTML||"li",0];var o=["task-list-item"];return i&&o.push("checked"),[n.rawHTML||"li",ce({class:o.join(" "),"data-task":a},i&&{"data-task-checked":i}),0]}}},enumerable:!1,configurable:!0}),e.prototype.liftToPrevListItem=function(){return function(t,n){var a=t.selection,i=t.tr,o=t.schema,l=a.$from,d=a.empty,g=o.nodes.listItem,C=l.parent,T=l.node(-1);if(d&&!C.childCount&&T.type===g){if(l.index(-2)>=1)return i.delete(l.start(-1)-1,l.end(-1)),n(i),!0;var S=l.node(-3);if(S.type===g)return i.delete(l.start(-2)-1,l.end(-1)),n(i),!0}return!1}},e.prototype.keymaps=function(){var t=function(n,a){return vze(n.schema.nodes.listItem)(n,a)};return{Backspace:this.liftToPrevListItem(),Enter:t}},e}(At),L$e=function(r){Pe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"blockQuote"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:ce({rawHTML:{default:null}},fr()),content:"block+",group:"block",parseDOM:[bl("blockquote")],toDOM:function(t){var n=t.attrs;return["blockquote",Gt(n),0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,n){return C7(t.schema.nodes.blockQuote)(t,n)}}},e.prototype.keymaps=function(){var t=this.commands()();return{"Alt-q":t,"Alt-Q":t}},e}(At),D$e={left:F$e,right:q$e,up:H$e,down:_$e};function O$e(r,e,t){var n=t[0],a=t[1],i=e.resolve(r.before(n-1));return a===n&&!i.nodeBefore}function N$e(r){for(var e,t=r.depth,n;t&&(n=r.node(t),n.type.name!=="tableBodyCell");){if(n.type.name==="listItem"){var a=r.node(t-1),i=a.lastChild===n,o=((e=n.lastChild)===null||e===void 0?void 0:e.type.name)!=="paragraph";return i?!o:!1}t-=1}return!1}function R$e(r,e,t,n,a){var i=e[0],o=e[1],l=e[2];if(r==="left"||r==="up"){if(a&&!O$e(t,n,[i,o]))return!1;var d=t.before(l),g=n.resolve(d).nodeBefore;if(g)return!1}return!0}function I$e(r,e,t,n,a){if(r==="right"||r==="down"){if(a&&!N$e(t))return!1;var i=t.after(e),o=n.resolve(i).nodeAfter;if(o)return!1}return!0}function P$e(r,e,t,n){var a=e[0],i=e[1],o=a+3,l=i>=o,d=l?a+1:i,g=R$e(r,[i,o,d],t,n,l),C=I$e(r,d,t,n,l);return g&&C}function Md(r,e,t){var n=t[0],a=t[1],i=e.getRowspanStartInfo(n,a),o=r==="up"&&n===0,l=r==="down"&&((i==null?void 0:i.count)>1?n+i.count-1:n)===e.totalRowCount-1;return o||l}function B$e(r,e,t){var n=r.doc.resolve(e.tableStartOffset-1);return n.nodeBefore?r.setSelection(We.Selection.near(n,-1)):vf(r,n,t)}function bc(r,e,t,n){n===void 0&&(n=!1);var a=r.doc.resolve(e.tableEndOffset);return n||!a.nodeAfter?vf(r,a,t):r.setSelection(We.Selection.near(a,1))}function q$e(r,e){var t=r[0],n=r[1],a=e.totalRowCount,i=e.totalColumnCount,o=n===i-1,l=t===a-1&&o;if(!l){var d=n+1,g=e.getColspanStartInfo(t,n);(g==null?void 0:g.count)>1&&(d+=g.count-1),(o||d===i)&&(t+=1,d=0);var C=e.getCellInfo(t,d).offset;return C+2}return null}function F$e(r,e){var t=r[0],n=r[1],a=e.totalColumnCount,i=n===0,o=t===0&&i;if(!o){n-=1,i&&(t-=1,n=a-1);var l=e.getCellInfo(t,n),d=l.offset,g=l.nodeSize;return d+g-2}return null}function H$e(r,e){var t=r[0],n=r[1];if(t>0){var a=e.getCellInfo(t-1,n),i=a.offset,o=a.nodeSize;return i+o-2}return null}function _$e(r,e){var t=r[0],n=r[1],a=e.totalRowCount;if(t<a-1){var i=t+1,o=e.getRowspanStartInfo(t,n);(o==null?void 0:o.count)>1&&(i+=o.count-1);var l=e.getCellInfo(i,n).offset;return l+2}return null}function Ad(r,e,t,n){var a=D$e[r],i=a(t,n);if(i){var o=r==="right"||r==="down"?1:-1;return e.setSelection(We.Selection.near(e.doc.resolve(i),o))}return null}function z$e(r,e,t){var n=t[0],a=t[1];if(r==="up"||r==="down")return!1;var i=e.tableStartOffset,o=e.tableEndOffset,l=e.getCellInfo(n,a),d=l.offset,g=l.nodeSize,C=r==="left"?i:o,T=r==="left"?d-2:d+g+3;return C===T}function $$e(r,e,t){var n=r.doc.resolve(e.before(t-3));return r.setSelection(new We.NodeSelection(n))}function V$e(r,e,t){var n,a,i;return r==="up"?(n=t.startRowIdx,a=0,i=-1):(n=t.endRowIdx,a=e.totalColumnCount-1,i=e.getCellInfo(n,a).nodeSize+1),{targetRowIdx:n,insertColIdx:a,nodeSize:i}}function U$e(r,e,t){var n=r.getCellInfo(e,0).offset,a=r.getCellInfo(e,t-1),i=a.offset,o=a.nodeSize;return{from:n,to:i+o}}var j$e=function(r){Pe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"table"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"tableHead{1} tableBody{1}",group:"block",attrs:ce({rawHTML:{default:null}},fr()),parseDOM:[bl("table")],toDOM:function(t){var n=t.attrs;return["table",Gt(n),0]}}},enumerable:!1,configurable:!0}),e.prototype.addTable=function(){return function(t){return t===void 0&&(t={rowCount:2,columnCount:1,data:[]}),function(n,a){var i=t.rowCount,o=t.columnCount,l=t.data,d=n.schema,g=n.selection,C=n.tr,T=g.from,S=g.to,M=g.$from,O=T===S;if(O&&!tl(M)){var I=d.nodes,q=I.tableHead,z=I.tableBody,V=l==null?void 0:l.slice(0,o),G=l==null?void 0:l.slice(o,l.length),Z=yze(o,d,V),ne=Ag(i-1,o,d,G),X=d.nodes.table.create(null,[q.create(null,Z),z.create(null,ne)]);return a(C.replaceSelectionWith(X)),!0}return!1}}},e.prototype.removeTable=function(){return function(){return function(t,n){var a=t.selection,i=t.tr,o=yr.create(a.$anchor);if(o){var l=o.tableStartOffset,d=o.tableEndOffset,g=l-1,C=Rt(i.delete(g,d),g);return n(i.setSelection(C)),!0}return!1}}},e.prototype.addColumn=function(t){return function(){return function(n,a){var i=n.selection,o=n.tr,l=n.schema,d=_n(i),g=d.anchor,C=d.head;if(g&&C){for(var T=yr.create(g),S=T.getRectOffsets(g,C),M=t==="left"?S.startColIdx:S.endColIdx+1,O=Pi(S).columnCount,I=T.totalRowCount,q=0;q<I;q+=1){var z=Ps(O,q,l);o.insert(o.mapping.map(T.posAt(q,M)),z)}return a(o),!0}return!1}}},e.prototype.removeColumn=function(){return function(){return function(t,n){var a=t.selection,i=t.tr,o=_n(a),l=o.anchor,d=o.head;if(l&&d){var g=yr.create(l),C=g.getRectOffsets(l,d),T=g.totalColumnCount,S=g.totalRowCount,M=Pi(C).columnCount,O=M===T;if(O)return!1;for(var I=C.startColIdx,q=C.endColIdx,z=i.mapping.maps.length,V=0;V<S;V+=1)for(var G=q;G>=I;G-=1){var Z=g.getCellInfo(V,G),ne=Z.offset,X=Z.nodeSize,oe=i.mapping.slice(z).map(ne),ve=oe+X;i.delete(oe,ve)}return n(i),!0}return!1}}},e.prototype.addRow=function(t){return function(){return function(n,a){var i=n.selection,o=n.schema,l=n.tr,d=_n(i),g=d.anchor,C=d.head;if(g&&C){var T=yr.create(g),S=T.totalColumnCount,M=T.getRectOffsets(g,C),O=Pi(M).rowCount,I=V$e(t,T,M),q=I.targetRowIdx,z=I.insertColIdx,V=I.nodeSize,G=q===0;if(!G){for(var Z=[],ne=l.mapping.map(T.posAt(q,z))+V,X=[],oe=0;oe<S;oe+=1)X=X.concat(Ps(1,q,o));for(var ve=0;ve<O;ve+=1)Z.push(o.nodes.tableRow.create(null,X));return a(l.insert(ne,Z)),!0}}return!1}}},e.prototype.removeRow=function(){return function(){return function(t,n){var a=t.selection,i=t.tr,o=_n(a),l=o.anchor,d=o.head;if(l&&d){var g=yr.create(l),C=g.totalRowCount,T=g.totalColumnCount,S=g.getRectOffsets(l,d),M=Pi(S).rowCount,O=S.startRowIdx,I=S.endRowIdx,q=O===0,z=M===C-1;if(z||q)return!1;for(var V=I;V>=O;V-=1){var G=U$e(g,V,T),Z=G.from,ne=G.to;i.delete(Z-1,ne+1)}return n(i),!0}return!1}}},e.prototype.alignColumn=function(){return function(t){return t===void 0&&(t={align:"center"}),function(n,a){var i=t.align,o=n.selection,l=n.tr,d=_n(o),g=d.anchor,C=d.head;if(g&&C){for(var T=yr.create(g),S=T.totalRowCount,M=T.getRectOffsets(g,C),O=M.startColIdx,I=M.endColIdx,q=0;q<S;q+=1)for(var z=O;z<=I;z+=1)if(!T.extendedRowspan(q,z)&&!T.extendedColspan(q,z)){var V=T.getNodeAndPos(q,z),G=V.node,Z=V.pos,ne=bze(G,{align:i});l.setNodeMarkup(Z,null,ne)}return a(l),!0}return!1}}},e.prototype.moveToCell=function(t){return function(n,a){var i=n.selection,o=n.tr,l=n.schema,d=_n(i),g=d.anchor,C=d.head;if(g&&C){var T=yr.create(g),S=T.getCellIndex(g),M=void 0;if(Md(t,T,S)?M=bc(o,T,l):M=Ad(t,o,S,T),M)return a(M),!0}return!1}},e.prototype.moveInCell=function(t){var n=this;return function(a,i){var o=a.selection,l=a.tr,d=a.doc,g=a.schema,C=o.$from,T=n.context.view;if(!T.endOfTextblock(t))return!1;var S=ca(C,function(G){var Z=G.type;return Z.name==="tableHeadCell"||Z.name==="tableBodyCell"});if(S){var M=ca(C,function(G){var Z=G.type;return Z.name==="paragraph"}),O=S.depth;if(M&&P$e(t,[O,M.depth],C,d)){var I=_n(o).anchor,q=yr.create(I),z=q.getCellIndex(I),V=void 0;if(z$e(t,q,z)?V=$$e(l,C,O):Md(t,q,z)?t==="up"?V=B$e(l,q,g):t==="down"&&(V=bc(l,q,g)):V=Ad(t,l,z,q),V)return i(V),!0}}return!1}},e.prototype.deleteCells=function(){return function(t,n){var a=t.schema,i=t.selection,o=t.tr,l=_n(i),d=l.anchor,g=l.head,C=i instanceof We.TextSelection;if(d&&g&&!C){for(var T=yr.create(d),S=T.getRectOffsets(d,g),M=S.startRowIdx,O=S.startColIdx,I=S.endRowIdx,q=S.endColIdx,z=M;z<=I;z+=1)for(var V=O;V<=q;V+=1)if(!T.extendedRowspan(z,V)&&!T.extendedColspan(z,V)){var G=T.getNodeAndPos(z,V),Z=G.node,ne=G.pos,X=Ps(1,z,a,Z.attrs);o.replaceWith(o.mapping.map(ne),o.mapping.map(ne+Z.nodeSize),X)}return n(o),!0}return!1}},e.prototype.exitTable=function(){return function(t,n){var a=t.selection,i=t.tr,o=t.schema,l=a.$from,d=ca(l,function(S){var M=S.type;return M.name==="tableHeadCell"||M.name==="tableBodyCell"});if(d){var g=ca(l,function(S){var M=S.type;return M.name==="paragraph"});if(g){var C=_n(a).anchor,T=yr.create(C);return n(bc(i,T,o,!0)),!0}}return!1}},e.prototype.commands=function(){return{addTable:this.addTable(),removeTable:this.removeTable(),addColumnToLeft:this.addColumn("left"),addColumnToRight:this.addColumn("right"),removeColumn:this.removeColumn(),addRowToUp:this.addRow("up"),addRowToDown:this.addRow("down"),removeRow:this.removeRow(),alignColumn:this.alignColumn()}},e.prototype.keymaps=function(){var t=this.deleteCells();return{Tab:this.moveToCell("right"),"Shift-Tab":this.moveToCell("left"),ArrowUp:this.moveInCell("up"),ArrowDown:this.moveInCell("down"),ArrowLeft:this.moveInCell("left"),ArrowRight:this.moveInCell("right"),Backspace:t,"Mod-Backspace":t,Delete:t,"Mod-Delete":t,"Mod-Enter":this.exitTable()}},e}(At),W$e=function(r){Pe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableHead"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"tableRow{1}",attrs:ce({rawHTML:{default:null}},fr()),parseDOM:[bl("thead")],toDOM:function(t){var n=t.attrs;return["thead",Gt(n),0]}}},enumerable:!1,configurable:!0}),e}(At),G$e=function(r){Pe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableBody"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"tableRow+",attrs:ce({rawHTML:{default:null}},fr()),parseDOM:[{tag:"tbody",getAttrs:function(t){var n=t.querySelectorAll("tr"),a=n[0].children.length,i=t.getAttribute("data-raw-html");return a?ce({},i&&{rawHTML:i}):!1}}],toDOM:function(t){var n=t.attrs;return["tbody",Gt(n),0]}}},enumerable:!1,configurable:!0}),e}(At),K$e=function(r){Pe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableRow"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"(tableHeadCell | tableBodyCell)*",attrs:ce({rawHTML:{default:null}},fr()),parseDOM:[{tag:"tr",getAttrs:function(t){var n=t.children.length,a=t.getAttribute("data-raw-html");return n?ce({},a&&{rawHTML:a}):!1}}],toDOM:function(t){var n=t.attrs;return["tr",Gt(n),0]}}},enumerable:!1,configurable:!0}),e}(At),J$e=function(r){Pe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableHeadCell"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"paragraph+",attrs:ce({align:{default:null},className:{default:null},rawHTML:{default:null},colspan:{default:null},extended:{default:null}},fr()),isolating:!0,parseDOM:[Eg("th")],toDOM:function(t){var n=t.attrs,a=Tg(n);return["th",ce(ce({},a),Gt(n)),0]}}},enumerable:!1,configurable:!0}),e}(At),Q$e=function(r){Pe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableBodyCell"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"(paragraph | bulletList | orderedList)+",attrs:{align:{default:null},className:{default:null},rawHTML:{default:null},colspan:{default:null},rowspan:{default:null},extended:{default:null}},isolating:!0,parseDOM:[Eg("td")],toDOM:function(t){var n=t.attrs,a=Tg(n);return["td",a,0]}}},enumerable:!1,configurable:!0}),e}(At),X$e=function(r){Pe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"image"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{inline:!0,attrs:ce({imageUrl:{default:""},altText:{default:null},rawHTML:{default:null}},fr()),group:"inline",selectable:!1,parseDOM:[{tag:"img[src]",getAttrs:function(t){var n=ci(t,{RETURN_DOM_FRAGMENT:!0}).firstChild,a=n.getAttribute("src")||"",i=n.getAttribute("data-raw-html"),o=n.getAttribute("alt");return ce({imageUrl:a,altText:o},i&&{rawHTML:i})}}],toDOM:function(t){var n=t.attrs;return[n.rawHTML||"img",ce(ce({src:Ii(n.imageUrl)},n.altText&&{alt:n.altText}),Gt(n))]}}},enumerable:!1,configurable:!0}),e.prototype.addImage=function(){return function(t){return function(n,a){var i=n.schema,o=n.tr,l=t,d=l.imageUrl,g=l.altText;if(!d)return!1;var C=i.nodes.image.createAndFill(ce({imageUrl:d},g&&{altText:g}));return a(o.replaceSelectionWith(C).scrollIntoView()),!0}}},e.prototype.commands=function(){return{addImage:this.addImage()}},e}(At),Ld=1,Z$e=function(r){Pe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"thematicBreak"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:ce({rawHTML:{default:null}},fr()),group:"block",parseDOM:[{tag:"hr"}],selectable:!1,toDOM:function(t){var n=t.attrs;return["div",Gt(n),[n.rawHTML||"hr"]]}}},enumerable:!1,configurable:!0}),e.prototype.hr=function(){var t=this;return function(){return function(n,a){var i,o=n.selection,l=o.$from,d=o.$to;if(l===d){var g=n.doc,C=n.schema.nodes,T=C.thematicBreak,S=C.paragraph,M=[T.create()],O=l.node(Ld),I=g.child(g.childCount-1)===O,q=g.resolve(l.after(Ld)),z=((i=l.nodeAfter)===null||i===void 0?void 0:i.type.name)===t.name;return(I||z)&&M.push(S.create()),a(n.tr.insert(q.pos,M).scrollIntoView()),!0}return!1}}},e.prototype.commands=function(){return{hr:this.hr()}},e.prototype.keymaps=function(){var t=this.hr()();return{"Mod-l":t,"Mod-L":t}},e}(At),Y$e=function(r){Pe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"strong"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var t=["b","strong"].map(function(n){return{tag:n,getAttrs:function(a){var i=a.getAttribute("data-raw-html");return ce({},i&&{rawHTML:i})}}});return{attrs:ce({rawHTML:{default:null}},fr()),parseDOM:t,toDOM:function(n){var a=n.attrs;return[a.rawHTML||"strong",Gt(a)]}}},enumerable:!1,configurable:!0}),e.prototype.bold=function(){return function(){return function(t,n){return Ao(t.schema.marks.strong)(t,n)}}},e.prototype.commands=function(){return{bold:this.bold()}},e.prototype.keymaps=function(){var t=this.bold()();return{"Mod-b":t,"Mod-B":t}},e}(It),eVe=function(r){Pe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"emph"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var t=["i","em"].map(function(n){return{tag:n,getAttrs:function(a){var i=a.getAttribute("data-raw-html");return ce({},i&&{rawHTML:i})}}});return{attrs:ce({rawHTML:{default:null}},fr()),parseDOM:t,toDOM:function(n){var a=n.attrs;return[a.rawHTML||"em",Gt(a)]}}},enumerable:!1,configurable:!0}),e.prototype.italic=function(){return function(){return function(t,n){return Ao(t.schema.marks.emph)(t,n)}}},e.prototype.commands=function(){return{italic:this.italic()}},e.prototype.keymaps=function(){var t=this.italic()();return{"Mod-i":t,"Mod-I":t}},e}(It),tVe=function(r){Pe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"strike"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var t=["s","del"].map(function(n){return{tag:n,getAttrs:function(a){var i=a.getAttribute("data-raw-html");return ce({},i&&{rawHTML:i})}}});return{attrs:ce({rawHTML:{default:null}},fr()),parseDOM:t,toDOM:function(n){var a=n.attrs;return[a.rawHTML||"del",Gt(a)]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,n){return Ao(t.schema.marks.strike)(t,n)}}},e.prototype.keymaps=function(){var t=this.commands()();return{"Mod-s":t,"Mod-S":t}},e}(It),rVe=function(r){Pe(e,r);function e(t){var n=r.call(this)||this;return n.linkAttributes=t,n}return Object.defineProperty(e.prototype,"name",{get:function(){return"link"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var t=this;return{attrs:ce({linkUrl:{default:""},title:{default:null},rawHTML:{default:null}},fr()),inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:function(n){var a=ci(n,{RETURN_DOM_FRAGMENT:!0}).firstChild,i=a.getAttribute("href")||"",o=a.getAttribute("title")||"",l=a.getAttribute("data-raw-html");return ce({linkUrl:i,title:o},l&&{rawHTML:l})}}],toDOM:function(n){var a=n.attrs;return[a.rawHTML||"a",ce(ce({href:Ii(a.linkUrl)},t.linkAttributes),Gt(a))]}}},enumerable:!1,configurable:!0}),e.prototype.addLink=function(){return function(t){return function(n,a){var i=t,o=i.linkUrl,l=i.linkText,d=l===void 0?"":l,g=n.schema,C=n.tr,T=n.selection,S=T.empty,M=T.from,O=T.to;if(M&&O&&o){var I={linkUrl:o},q=g.mark("link",I);if(S&&d){var z=wr(g,d,q);C.replaceRangeWith(M,O,z)}else C.addMark(M,O,q);return a(C.scrollIntoView()),!0}return!1}}},e.prototype.toggleLink=function(){return function(t){return function(n,a){return Ao(n.schema.marks.link,t)(n,a)}}},e.prototype.commands=function(){return{addLink:this.addLink(),toggleLink:this.toggleLink()}},e}(It),nVe=function(r){Pe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"code"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:ce({rawHTML:{default:null}},fr()),parseDOM:[{tag:"code",getAttrs:function(t){var n=t.getAttribute("data-raw-html");return ce({},n&&{rawHTML:n})}}],toDOM:function(t){var n=t.attrs;return[n.rawHTML||"code",Gt(n)]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,n){return Ao(t.schema.marks.code)(t,n)}}},e.prototype.keymaps=function(){var t=this.commands()();return{"Shift-Mod-c":t,"Shift-Mod-C":t}},e}(It),aVe=function(r){Pe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"customBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"text*",group:"block",attrs:{info:{default:null}},atom:!0,code:!0,defining:!0,parseDOM:[{tag:"div[data-custom-info]",getAttrs:function(t){var n=t.getAttribute("data-custom-info");return{info:n}}}],toDOM:function(t){var n=t.attrs;return["div",{"data-custom-info":n.info||null},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(t){return function(n,a){return t!=null&&t.info?rf(n.schema.nodes.customBlock,t)(n,a):!1}}},e}(At),iVe=function(r){Pe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"frontMatter"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"text*",group:"block",code:!0,defining:!0,parseDOM:[{preserveWhitespace:"full",tag:"div[data-front-matter]"}],toDOM:function(){return["div",{"data-front-matter":"true"},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,n,a){var i=t.selection.$from;return a.endOfTextblock("down")&&i.node().type.name==="frontMatter"?tf(t,n):!1}}},e.prototype.keymaps=function(){return{Enter:this.commands()()}},e}(At),oVe=function(r){Pe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"htmlComment"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"text*",group:"block",code:!0,defining:!0,parseDOM:[{preserveWhitespace:"full",tag:"div[data-html-comment]"}],toDOM:function(){return["div",{"data-html-comment":"true"},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,n,a){var i=t.selection.$from;return a.endOfTextblock("down")&&i.node().type.name==="htmlComment"?tf(t,n):!1}}},e.prototype.keymaps=function(){return{Enter:this.commands()()}},e}(At);function sVe(r){return new Mm([new w$e,new k$e,new T$e,new E$e,new x$e,new S$e,new M$e,new A$e,new L$e,new j$e,new W$e,new G$e,new K$e,new J$e,new Q$e,new X$e,new Z$e,new Y$e,new eVe,new tVe,new rVe(r),new nVe,new aVe,new iVe,new xm,new oVe])}var lVe=Fe("contents"),uVe=function(r){Pe(e,r);function e(t,n){var a=r.call(this,t)||this,i=n.toDOMAdaptor,o=n.htmlSchemaMap,l=o===void 0?{}:o,d=n.linkAttributes,g=d===void 0?{}:d,C=n.useCommandShortcut,T=C===void 0?!0:C,S=n.wwPlugins,M=S===void 0?[]:S,O=n.wwNodeViews,I=O===void 0?{}:O;return a.editorType="wysiwyg",a.el.classList.add("ww-mode"),a.toDOMAdaptor=i,a.linkAttributes=g,a.extraPlugins=M,a.pluginNodeViews=I,a.specs=a.createSpecs(),a.schema=a.createSchema(l),a.context=a.createContext(),a.keymaps=a.createKeymaps(T),a.view=a.createView(),a.commands=a.createCommands(),a.specs.setContext(ce(ce({},a.context),{view:a.view})),a.initEvent(),a}return e.prototype.createSpecs=function(){return sVe(this.linkAttributes)},e.prototype.createContext=function(){return{schema:this.schema,eventEmitter:this.eventEmitter}},e.prototype.createSchema=function(t){return new pe.Schema({nodes:ce(ce({},this.specs.nodes),t.nodes),marks:ce(ce({},this.specs.marks),t.marks)})},e.prototype.createPlugins=function(){return Hr([Eze(),Aze(this.eventEmitter),Lze(),Bze(this.eventEmitter)],this.createPluginProps()).concat(this.defaultPlugins)},e.prototype.createPluginNodeViews=function(){var t=this,n=t.eventEmitter,a=t.pluginNodeViews,i={};return a&&Object.keys(a).forEach(function(o){i[o]=function(l,d,g){return a[o](l,d,g,n)}}),i},e.prototype.createView=function(){var t=this,n=this,a=n.toDOMAdaptor,i=n.eventEmitter;return new pa.EditorView(this.el,{state:this.createState(),attributes:{class:lVe},nodeViews:ce({customBlock:function(o,l,d){return new qze(o,l,d,a)},image:function(o,l,d){return new Fze(o,l,d,i)},codeBlock:function(o,l,d){return new zze(o,l,d,i)},widget:Em},this.createPluginNodeViews()),dispatchTransaction:function(o){var l=t.view.state.applyTransaction(o).state;t.view.updateState(l),t.emitChangeEvent(o.scrollIntoView()),t.eventEmitter.emit("setFocusedNode",l.selection.$from.node(1))},transformPastedHTML:n$e,transformPasted:function(o){return l$e(o,t.schema,tl(t.view.state.selection.$from))},handlePaste:function(o,l,d){return g$e(o,d)},handleKeyDown:function(o,l){return t.eventEmitter.emit("keydown",t.editorType,l),!1},handleDOMEvents:{paste:function(o,l){var d=l.clipboardData||window.clipboardData,g=d==null?void 0:d.items;if(g){var C=jn(g).some(function(S){return S.kind==="string"&&S.type==="text/rtf"});if(!C){var T=Tm(g);T&&(l.preventDefault(),bf(t.eventEmitter,T,l.type))}}return!1},keyup:function(o,l){return t.eventEmitter.emit("keyup",t.editorType,l),!1},scroll:function(){return t.eventEmitter.emit("scroll","editor"),!0}}})},e.prototype.createCommands=function(){return this.specs.commands(this.view,Of())},e.prototype.getHTML=function(){return yf(this.view.dom.innerHTML)},e.prototype.getModel=function(){return this.view.state.doc},e.prototype.getSelection=function(){var t=this.view.state.selection,n=t.from,a=t.to;return[n,a]},e.prototype.getSchema=function(){return this.view.state.schema},e.prototype.replaceSelection=function(t,n,a){var i=this.view.state,o=i.schema,l=i.tr,d=t.split(`
`),g=d.map(function(S){return js(o,ni(S,o))}),C=new pe.Slice(pe.Fragment.from(g),1,1),T=sa(n)&&sa(a)?l.replaceRange(n,a,C):l.replaceSelection(C);this.view.dispatch(T),this.focus()},e.prototype.deleteSelection=function(t,n){var a=this.view.state.tr,i=sa(t)&&sa(n)?a.deleteRange(t,n):a.deleteSelection();this.view.dispatch(i.scrollIntoView())},e.prototype.getSelectedText=function(t,n){var a=this.view.state,i=a.doc,o=a.selection,l=o.from,d=o.to;return sa(t)&&sa(n)&&(l=t,d=n),i.textBetween(l,d,`
`)},e.prototype.setModel=function(t,n){n===void 0&&(n=!1);var a=this.view.state,i=a.tr,o=a.doc;this.view.dispatch(i.replaceWith(0,o.content.size,t)),n&&this.moveCursorToEnd(!0)},e.prototype.setSelection=function(t,n){n===void 0&&(n=t);var a=this.view.state.tr,i=Rt(a,t,n);this.view.dispatch(a.setSelection(i).scrollIntoView())},e.prototype.addWidget=function(t,n,a){var i=this.view,o=i.dispatch,l=i.state;o(l.tr.setMeta("widget",{pos:a??l.selection.to,node:t,style:n}))},e.prototype.replaceWithWidget=function(t,n,a){var i=this.view.state,o=i.tr,l=i.schema,d=ni(a,l);this.view.dispatch(o.replaceWith(t,n,d))},e.prototype.getRangeInfoOfNode=function(t){var n=this.view.state,a=n.doc,i=n.selection,o=t?a.resolve(t):i.$from,l=o.marks(),d=o.node(),g=o.start(),C=o.end(),T=d.type.name;if(l.length||T==="paragraph"){var S=l[l.length-1],M=function(O){return O.length?kr(O,S):!0};T=S?S.type.name:"text",d.forEach(function(O,I){var q=O.isText,z=O.nodeSize,V=O.marks,G=o.pos-g;q&&I<=G&&I+z>=G&&M(V)&&(g=g+I,C=g+z)})}return{range:[g,C],type:T}},e}(Sm),cVe=Sn,fVe=zs;function vVe(r){return!cVe(r)&&!fVe(r)}var pVe=vVe,dVe=pVe;function hVe(r){return dVe(r)&&r!==!1}var mVe=hVe,gVe=mVe;function yVe(r){return!gVe(r)}var bVe=yVe,Dd=["afterPreviewRender","updatePreview","changeMode","needChangeMode","command","changePreviewStyle","changePreviewTabPreview","changePreviewTabWrite","scroll","contextmenu","show","hide","changeLanguage","changeToolbarState","toggleScrollSync","mixinTableOffsetMapPrototype","setFocusedNode","removePopupWidget","query","openPopup","closePopup","addImageBlobHook","beforePreviewRender","beforeConvertWysiwygToMarkdown","load","loadUI","change","caretChange","destroy","focus","blur","keydown","keyup"],zg=function(){function r(){var e=this;this.events=new Ng,this.eventTypes=Dd.reduce(function(t,n){return ce(ce({},t),{type:n})},{}),this.hold=!1,Dd.forEach(function(t){e.addEventType(t)})}return r.prototype.listen=function(e,t){var n=this.getTypeInfo(e),a=this.events.get(n.type)||[];if(!this.hasEventType(n.type))throw new Error("There is no event type "+n.type);n.namespace&&(t.namespace=n.namespace),a.push(t),this.events.set(n.type,a)},r.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var a=this.getTypeInfo(e),i=this.events.get(a.type),o=[];return!this.hold&&i&&i.forEach(function(l){var d=l.apply(void 0,t);Sn(d)||o.push(d)}),o},r.prototype.emitReduce=function(e,t){for(var n=[],a=2;a<arguments.length;a++)n[a-2]=arguments[a];var i=this.events.get(e);return!this.hold&&i&&i.forEach(function(o){var l=o.apply(void 0,Hr([t],n));bVe(l)||(t=l)}),t},r.prototype.getTypeInfo=function(e){var t=e.split(".");return{type:t[0],namespace:t[1]}},r.prototype.hasEventType=function(e){return!Sn(this.eventTypes[this.getTypeInfo(e).type])},r.prototype.addEventType=function(e){if(this.hasEventType(e))throw new Error("There is already have event type "+e);this.eventTypes[e]=e},r.prototype.removeEventHandler=function(e,t){var n=this,a=this.getTypeInfo(e),i=a.type,o=a.namespace;i&&t?this.removeEventHandlerWithHandler(i,t):i&&!o?this.events.delete(i):!i&&o?this.events.forEach(function(l,d){n.removeEventHandlerWithTypeInfo(d,o)}):i&&o&&this.removeEventHandlerWithTypeInfo(i,o)},r.prototype.removeEventHandlerWithHandler=function(e,t){var n=this.events.get(e);if(n){var a=n.indexOf(t);n.indexOf(t)>=0&&n.splice(a,1)}},r.prototype.removeEventHandlerWithTypeInfo=function(e,t){var n=[],a=this.events.get(e);a&&(a.map(function(i){return i.namespace!==t&&n.push(i),null}),this.events.set(e,n))},r.prototype.getEvents=function(){return this.events},r.prototype.holdEventInvoke=function(e){this.hold=!0,e(),this.hold=!1},r}(),wVe=function(){function r(e,t,n,a){this.eventEmitter=e,this.mdCommands=t,this.wwCommands=n,this.getEditorType=a,this.initEvent()}return r.prototype.initEvent=function(){var e=this;this.eventEmitter.listen("command",function(t,n){e.exec(t,n)})},r.prototype.addCommand=function(e,t,n){e==="markdown"?this.mdCommands[t]=n:this.wwCommands[t]=n},r.prototype.deleteCommand=function(e,t){e==="markdown"?delete this.mdCommands[t]:delete this.wwCommands[t]},r.prototype.exec=function(e,t){var n=this.getEditorType();n==="markdown"?this.mdCommands[e](t):this.wwCommands[e](t)},r}();function qs(r){return r[r.length-1]===`
`?r.slice(0,r.length-1):r}function Vc(r,e){var t=r.schema,n=e.literal,a=n.match(Vi);if(a){var i=a[1],o=a[3],l=(i||o).toLowerCase();return e.type==="htmlInline"&&!!(t.marks[l]||t.nodes[l])}return!1}function Uc(r){var e=r.type;return kr(["text","strong","emph","strike","image","link","code"],e)}function Od(r){return(r==null?void 0:r.type)==="softbreak"}function fo(r){var e=r.type,t=r.literal,n=e==="htmlInline"&&t.match(Vi);if(n){var a=n[1],i=n[3],o=a||i;if(o)return kr(["ul","ol","li"],o.toLowerCase())}return!1}function kVe(r){var e=r.literal,t=/data-task/.test(e),n=/data-task-checked/.test(e);return{task:t,checked:n}}function Nd(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];var n=document.createElement("div");n.innerHTML=ci(r);var a=n.firstChild;return e.map(function(i){return a.getAttribute(i)||""})}function CVe(r){var e={};return Object.keys(r).forEach(function(t){var n=t.split(", ");n.forEach(function(a){var i=a.toLowerCase();e[i]=r[t]})}),e}var TVe={"b, strong":function(r,e,t){var n=r.schema.marks.strong;t?r.openMark(n.create({rawHTML:t})):r.closeMark(n)},"i, em":function(r,e,t){var n=r.schema.marks.emph;t?r.openMark(n.create({rawHTML:t})):r.closeMark(n)},"s, del":function(r,e,t){var n=r.schema.marks.strike;t?r.openMark(n.create({rawHTML:t})):r.closeMark(n)},code:function(r,e,t){var n=r.schema.marks.code;t?r.openMark(n.create({rawHTML:t})):r.closeMark(n)},a:function(r,e,t){var n=e.literal,a=r.schema.marks.link;if(t){var i=Nd(n,"href")[0];r.openMark(a.create({linkUrl:i,rawHTML:t}))}else r.closeMark(a)},img:function(r,e,t){var n=e.literal;if(t){var a=Nd(n,"src","alt"),i=a[0],o=a[1],l=r.schema.nodes.image;r.addNode(l,ce({rawHTML:t,imageUrl:i},o&&{altText:o}))}},hr:function(r,e,t){r.addNode(r.schema.nodes.thematicBreak,{rawHTML:t})},br:function(r,e){var t=r.schema.nodes.paragraph,n=e.parent,a=e.prev,i=e.next;(n==null?void 0:n.type)==="paragraph"?(Od(a)&&r.openNode(t),Od(i)?r.closeNode():i&&(r.closeNode(),r.openNode(t))):(n==null?void 0:n.type)==="tableCell"&&(a&&(Uc(a)||Vc(r,a))&&r.closeNode(),i&&(Uc(i)||Vc(r,i))&&r.openNode(t))},pre:function(r,e,t){var n,a,i=document.createElement("div");i.innerHTML=e.literal;var o=(a=(n=i.firstChild)===null||n===void 0?void 0:n.firstChild)===null||a===void 0?void 0:a.textContent;r.openNode(r.schema.nodes.codeBlock,{rawHTML:t}),r.addText(qs(o)),r.closeNode()},"ul, ol":function(r,e,t){if(e.parent.type==="tableCell"){var n=r.schema.nodes,a=n.bulletList,i=n.orderedList,o=n.paragraph,l=t==="ul"?a:i;t?(e.prev&&!fo(e.prev)&&r.closeNode(),r.openNode(l,{rawHTML:t})):(r.closeNode(),e.next&&!fo(e.next)&&r.openNode(o))}},li:function(r,e,t){var n;if(((n=e.parent)===null||n===void 0?void 0:n.type)==="tableCell"){var a=r.schema.nodes,i=a.listItem,o=a.paragraph;if(t){var l=kVe(e);e.prev&&!fo(e.prev)&&r.closeNode(),r.openNode(i,ce({rawHTML:t},l)),e.next&&!fo(e.next)&&r.openNode(o)}else e.prev&&!fo(e.prev)&&r.closeNode(),r.closeNode()}}},EVe=CVe(TVe);function Rd(r){return r.type==="htmlInline"&&Ec.test(r.literal)}function $g(r){jn(r.childNodes).forEach(function(e){if(vl(e)){var t=e.nodeName.toLowerCase();e.setAttribute("data-raw-html",t),e.childNodes&&$g(e)}})}var Id={text:function(r,e){r.addText(e.literal||"")},paragraph:function(r,e,t,n){var a,i=t.entering;if(i){var o=r.schema.nodes.paragraph;((a=e.prev)===null||a===void 0?void 0:a.type)==="paragraph"&&(r.openNode(o,n),r.closeNode()),r.openNode(o,n)}else r.closeNode()},heading:function(r,e,t,n){var a=t.entering;if(a){var i=e,o=i.level,l=i.headingType;r.openNode(r.schema.nodes.heading,ce({level:o,headingType:l},n))}else r.closeNode()},codeBlock:function(r,e,t){var n=r.schema.nodes.codeBlock,a=e,i=a.info,o=a.literal;r.openNode(n,ce({language:i},t)),r.addText(qs(o||"")),r.closeNode()},list:function(r,e,t,n){var a=t.entering;if(a){var i=r.schema.nodes,o=i.bulletList,l=i.orderedList,d=e.listData,g=d.type,C=d.start;g==="bullet"?r.openNode(o,n):r.openNode(l,ce({order:C},n))}else r.closeNode()},item:function(r,e,t,n){var a=t.entering,i=r.schema.nodes.listItem,o=e.listData,l=o.task,d=o.checked;if(a){var g=ce(ce(ce({},l&&{task:l}),d&&{checked:d}),n);r.openNode(i,g)}else r.closeNode()},blockQuote:function(r,e,t,n){var a=t.entering;a?r.openNode(r.schema.nodes.blockQuote,n):r.closeNode()},image:function(r,e,t,n){var a=t.entering,i=t.skipChildren,o=r.schema.nodes.image,l=e,d=l.destination,g=l.firstChild;a&&i&&i(),r.addNode(o,ce(ce({imageUrl:d},g&&{altText:g.literal}),n))},thematicBreak:function(r,e,t,n){r.addNode(r.schema.nodes.thematicBreak,n)},strong:function(r,e,t,n){var a=t.entering,i=r.schema.marks.strong;a?r.openMark(i.create(n)):r.closeMark(i)},emph:function(r,e,t,n){var a=t.entering,i=r.schema.marks.emph;a?r.openMark(i.create(n)):r.closeMark(i)},link:function(r,e,t,n){var a=t.entering,i=r.schema.marks.link,o=e,l=o.destination,d=o.title;if(a){var g=ce({linkUrl:l,title:d},n);r.openMark(i.create(g))}else r.closeMark(i)},softbreak:function(r,e){if(e.parent.type==="paragraph"){var t=e.prev,n=e.next;t&&!Rd(t)&&r.closeNode(),n&&!Rd(n)&&r.openNode(r.schema.nodes.paragraph)}},table:function(r,e,t,n){var a=t.entering;a?r.openNode(r.schema.nodes.table,n):r.closeNode()},tableHead:function(r,e,t,n){var a=t.entering;a?r.openNode(r.schema.nodes.tableHead,n):r.closeNode()},tableBody:function(r,e,t,n){var a=t.entering;a?r.openNode(r.schema.nodes.tableBody,n):r.closeNode()},tableRow:function(r,e,t,n){var a=t.entering;a?r.openNode(r.schema.nodes.tableRow,n):r.closeNode()},tableCell:function(r,e,t){var n=t.entering;if(!e.ignored){var a=function(O){return O&&(Uc(O)||Vc(r,O))};if(n){var i=r.schema.nodes,o=i.tableHeadCell,l=i.tableBodyCell,d=i.paragraph,g=e.parent.parent,C=g.type==="tableHead"?o:l,T=g.parent,S=(T.columns[e.startIdx]||{}).align,M=ce({},e.attrs);S&&(M.align=S),r.openNode(C,M),a(e.firstChild)&&r.openNode(d)}else a(e.lastChild)&&r.closeNode(),r.closeNode()}},strike:function(r,e,t,n){var a=t.entering,i=r.schema.marks.strike;a?r.openMark(i.create(n)):r.closeMark(i)},code:function(r,e,t,n){var a=r.schema.marks.code;r.openMark(a.create(n)),r.addText(qs(e.literal||"")),r.closeMark(a)},customBlock:function(r,e){var t=r.schema.nodes,n=t.customBlock,a=t.paragraph,i=e,o=i.info,l=i.literal;r.openNode(n,{info:o}),r.addText(qs(l||"")),r.closeNode(),e.next||(r.openNode(a),r.closeNode())},frontMatter:function(r,e){r.openNode(r.schema.nodes.frontMatter),r.addText(e.literal),r.closeNode()},htmlInline:function(r,e){var t=e.literal,n=t.match(Vi),a=n[1],i=n[3],o=(a||i).toLowerCase(),l=r.schema.marks[o],d=ci(t);if(l!=null&&l.spec.attrs.htmlInline)if(a){var g=Hc(d);r.openMark(l.create({htmlAttrs:g}))}else r.closeMark(l);else{var C=EVe[o];C&&C(r,e,a)}},htmlBlock:function(r,e){var t=e.literal,n=document.createElement("div"),a=sX.test(t);if(a)r.openNode(r.schema.nodes.htmlComment),r.addText(e.literal),r.closeNode();else{var i=t.match(Vi),o=i[1],l=i[3],d=(o||l).toLowerCase(),g=r.schema.nodes[d],C=ci(t);if(g!=null&&g.spec.attrs.htmlBlock){var T=Hc(C),S=wg(e,d);r.addNode(g,{htmlAttrs:T,childrenHTML:S})}else n.innerHTML=C,$g(n),r.convertByDOMParser(n)}},customInline:function(r,e,t){var n=t.entering,a=t.skipChildren,i=e,o=i.info,l=i.firstChild,d=r.schema;if(o.indexOf("widget")!==-1&&n){var g=fm(e);a(),r.addNode(d.nodes.widget,{info:o},[d.text(um(o,g))])}else{var C="$$";n&&(C+=l?o+" ":o),r.addText(C)}}};function xVe(r){var e=Object.keys(r),t=ce({},Id),n=new Lf({gfm:!0,nodeId:!0,convertors:r}),a=n.getConvertors();return e.forEach(function(i){var o=Id[i];o&&!kr(["htmlBlock","htmlInline"],i)&&(t[i]=function(l,d,g){g.origin=function(){return a[i](d,g,a)};var C=r[i](d,g),T;if(C){var S=Array.isArray(C)?C[0]:C,M=S.attributes,O=S.classNames;T={htmlAttrs:M,classNames:O}}o(l,d,g,T)})}),t}function SVe(r,e){return r.isText&&e.isText&&pe.Mark.sameSet(r.marks,e.marks)?r.withText(r.text+e.text):!1}var MVe=function(){function r(e,t){this.schema=e,this.convertors=t,this.stack=[{type:this.schema.topNodeType,attrs:null,content:[]}],this.marks=pe.Mark.none}return r.prototype.top=function(){return xr(this.stack)},r.prototype.push=function(e){this.stack.length&&this.top().content.push(e)},r.prototype.addText=function(e){if(e){var t=this.top().content,n=xr(t),a=this.schema.text(e,this.marks),i=n&&SVe(n,a);i?t[t.length-1]=i:t.push(a)}},r.prototype.openMark=function(e){this.marks=e.addToSet(this.marks)},r.prototype.closeMark=function(e){this.marks=e.removeFromSet(this.marks)},r.prototype.addNode=function(e,t,n){var a=e.createAndFill(t,n,this.marks);return a?(this.push(a),a):null},r.prototype.openNode=function(e,t){this.stack.push({type:e,attrs:t,content:[]})},r.prototype.closeNode=function(){this.marks.length&&(this.marks=pe.Mark.none);var e=this.stack.pop(),t=e.type,n=e.attrs,a=e.content;return this.addNode(t,n,a)},r.prototype.convertByDOMParser=function(e){var t=this,n=pe.DOMParser.fromSchema(this.schema).parse(e);n.content.forEach(function(a){return t.push(a)})},r.prototype.closeUnmatchedHTMLInline=function(e,t){var n;if(!t&&e.type!=="htmlInline")for(var a=this.stack.length-1,i=a;i>=0;i-=1){var o=this.stack[i];if(!((n=o.attrs)===null||n===void 0)&&n.rawHTML)o.content.length?this.closeNode():this.stack.pop();else break}},r.prototype.convert=function(e,t){for(var n=e.walker(),a=n.next(),i=function(){var l=a.node,d=a.entering,g=o.convertors[l.type],C=!1;if(g){var T={entering:d,leaf:!zQ(l),getChildrenText:$Q,options:{gfm:!0,nodeId:!1,tagFilter:!1,softbreak:`
`},skipChildren:function(){C=!0}};if(o.closeUnmatchedHTMLInline(l,d),g(o,l,T),(t==null?void 0:t.node)===l){var S=o.stack.reduce(function(M,O){return M+O.content.reduce(function(I,q){return I+q.nodeSize},0)},0)+1;t.setMappedPos(S)}}C&&(n.resumeAt(l,!1),n.next()),a=n.next()},o=this;a;)i()},r.prototype.convertNode=function(e,t){return this.convert(e,t),this.stack.length?this.closeNode():null},r}();function AVe(r,e,t){var n=t[0],a=t[1];r.write(n),r.convertInline(e),r.write(a)}function LVe(r,e,t){var n=e.node,a=e.parent,i=t[0],o=t[1];r.stopNewline=!0,r.write(i),r.convertNode(n),r.write(o),(a==null?void 0:a.type.name)==="doc"&&(r.closeBlock(n),r.stopNewline=!1)}function DVe(r,e){var t=r.length,n="",a="";return e==="left"?(n=":",t-=1):e==="right"?(a=":",t-=1):e==="center"&&(n=":",a=":",t-=2),""+n+$s("-",Math.max(t,3))+a}var jc={text:function(r,e){var t,n=e.node,a=(t=n.text)!==null&&t!==void 0?t:"";(n.marks||[]).some(function(i){return i.type.name==="link"})?r.text(Vs(a),!1):r.text(a)},paragraph:function(r,e){var t=e.node,n=e.parent,a=e.index,i=a===void 0?0:a;if(r.stopNewline)r.convertInline(t);else{var o=i===0,l=!o&&n.child(i-1),d=l&&l.childCount===0,g=i<n.childCount-1&&n.child(i+1),C=g&&g.type.name==="paragraph",T=t.childCount===0;if(T&&d)r.write(`<br>
`);else if(T&&!d&&!o){if((n==null?void 0:n.type.name)==="listItem"){var S=r.getDelim();r.setDelim(""),r.write("<br>"),r.setDelim(S)}r.write(`
`)}else r.convertInline(t),C?r.write(`
`):r.closeBlock(t)}},heading:function(r,e,t){var n=e.node,a=t.delim,i=n.attrs.headingType;i==="atx"?(r.write(a+" "),r.convertInline(n),r.closeBlock(n)):(r.convertInline(n),r.ensureNewLine(),r.write(a),r.closeBlock(n))},codeBlock:function(r,e,t){var n=e.node,a=t.delim,i=t.text,o=a,l=o[0],d=o[1];r.write(l),r.ensureNewLine(),r.text(i,!1),r.ensureNewLine(),r.write(d),r.closeBlock(n)},blockQuote:function(r,e,t){var n=e.node,a=e.parent,i=t.delim;(a==null?void 0:a.type.name)===n.type.name&&r.flushClose(1),r.wrapBlock(i,null,n,function(){return r.convertNode(n)})},bulletList:function(r,e,t){var n=e.node,a=t.delim;r.convertList(n,$s(" ",4),function(){return a+" "})},orderedList:function(r,e){var t=e.node,n=t.attrs.order||1;r.convertList(t,$s(" ",4),function(a){var i=String(n+a);return i+". "})},listItem:function(r,e){var t=e.node,n=t.attrs,a=n.task,i=n.checked;a&&r.write("["+(i?"x":" ")+"] "),r.convertNode(t)},image:function(r,e,t){var n=t.attrs;r.write("!["+(n==null?void 0:n.altText)+"]("+(n==null?void 0:n.imageUrl)+")")},thematicBreak:function(r,e,t){var n=e.node,a=t.delim;r.write(a),r.closeBlock(n)},table:function(r,e){var t=e.node;r.convertNode(t),r.closeBlock(t)},tableHead:function(r,e,t){var n=e.node,a=t.delim,i=n.firstChild;r.convertNode(n);var o=a??"";!a&&i&&i.forEach(function(l){var d=l.textContent,g=l.attrs,C=DVe(d,g.align);o+="| "+C+" "}),r.write(o+"|"),r.ensureNewLine()},tableBody:function(r,e){var t=e.node;r.convertNode(t)},tableRow:function(r,e){var t=e.node;r.convertNode(t),r.write("|"),r.ensureNewLine()},tableHeadCell:function(r,e,t){var n=e.node,a=t.delim,i=a===void 0?"| ":a;r.write(i),r.convertTableCell(n),r.write(" ")},tableBodyCell:function(r,e,t){var n=e.node,a=t.delim,i=a===void 0?"| ":a;r.write(i),r.convertTableCell(n),r.write(" ")},customBlock:function(r,e,t){var n=e.node,a=t.delim,i=t.text,o=a,l=o[0],d=o[1];r.write(l),r.ensureNewLine(),r.text(i,!1),r.ensureNewLine(),r.write(d),r.closeBlock(n)},frontMatter:function(r,e,t){var n=e.node,a=t.text;r.text(a,!1),r.closeBlock(n)},widget:function(r,e,t){var n=t.text;r.write(n)},html:function(r,e,t){var n=e.node,a=t.text;r.write(a),n.attrs.htmlBlock&&r.closeBlock(n)},htmlComment:function(r,e,t){var n=e.node,a=t.text;r.write(a),r.closeBlock(n)}};function OVe(r,e){var t=e.state,n=e.nodeInfo,a=e.params,i=a.rawHTML;i?ii(r,["heading","codeBlock"])>-1?AVe(t,n.node,i):ii(r,["image","thematicBreak"])>-1?t.write(i):LVe(t,n,i):jc[r](t,n,a)}function Pd(r,e){var t=r.text,n=/`+/g,a=0;if(r.isText&&t)for(var i=n.exec(t);i;)a=Math.max(a,i[0].length),i=n.exec(t);for(var o=a>0&&e>0?" `":"`",l=0;l<a;l+=1)o+="`";return a>0&&e<0&&(o+=" "),o}function wn(r){return r?["<"+r+">","</"+r+">"]:null}function vo(r){return r?"<"+r+">":null}function po(r){return r?"</"+r+">":null}var ho={heading:function(r){var e=r.node,t=e.attrs,n=t.level,a=$s("#",n);return t.headingType==="setext"&&(a=n===1?"===":"---"),{delim:a,rawHTML:wn(t.rawHTML)}},codeBlock:function(r){var e=r.node,t=e,n=t.attrs,a=t.textContent;return{delim:["```"+(n.language||""),"```"],rawHTML:wn(n.rawHTML),text:a}},blockQuote:function(r){var e=r.node;return{delim:"> ",rawHTML:wn(e.attrs.rawHTML)}},bulletList:function(r,e){var t=r.node,n=e.inTable,a=t.attrs.rawHTML;return n&&(a=a||"ul"),{delim:"*",rawHTML:wn(a)}},orderedList:function(r,e){var t=r.node,n=e.inTable,a=t.attrs.rawHTML;return n&&(a=a||"ol"),{rawHTML:wn(a)}},listItem:function(r,e){var t=r.node,n=e.inTable,a=t.attrs,i=a.task,o=a.checked,l=t.attrs.rawHTML;n&&(l=l||"li");var d=i?' class="task-list-item'+(o?" checked":"")+'"':"",g=i?" data-task"+(o?" data-task-checked":""):"";return{rawHTML:l?["<"+l+d+g+">","</"+l+">"]:null}},table:function(r){var e=r.node;return{rawHTML:wn(e.attrs.rawHTML)}},tableHead:function(r){var e=r.node;return{rawHTML:wn(e.attrs.rawHTML)}},tableBody:function(r){var e=r.node;return{rawHTML:wn(e.attrs.rawHTML)}},tableRow:function(r){var e=r.node;return{rawHTML:wn(e.attrs.rawHTML)}},tableHeadCell:function(r){var e=r.node;return{rawHTML:wn(e.attrs.rawHTML)}},tableBodyCell:function(r){var e=r.node;return{rawHTML:wn(e.attrs.rawHTML)}},image:function(r){var e=r.node,t=e.attrs,n=t.rawHTML,a=t.altText,i=t.imageUrl.replace(/&amp;/g,"&"),o=a?' alt="'+Ii(a)+'"':"";return{rawHTML:n?"<"+n+' src="'+Ii(i)+'"'+o+">":null,attrs:{altText:Vs(a||""),imageUrl:i}}},thematicBreak:function(r){var e=r.node;return{delim:"***",rawHTML:vo(e.attrs.rawHTML)}},customBlock:function(r){var e=r.node,t=e,n=t.attrs,a=t.textContent;return{delim:["$$"+n.info,"$$"],text:a}},frontMatter:function(r){var e=r.node;return{text:e.textContent}},widget:function(r){var e=r.node;return{text:e.textContent}},strong:function(r,e){var t=r.node,n=e.entering,a=t.attrs.rawHTML;return{delim:"**",rawHTML:n?vo(a):po(a)}},emph:function(r,e){var t=r.node,n=e.entering,a=t.attrs.rawHTML;return{delim:"*",rawHTML:n?vo(a):po(a)}},strike:function(r,e){var t=r.node,n=e.entering,a=t.attrs.rawHTML;return{delim:"~~",rawHTML:n?vo(a):po(a)}},link:function(r,e){var t=r.node,n=e.entering,a=t.attrs,i=a.title,o=a.rawHTML,l=a.linkUrl.replace(/&amp;/g,"&"),d=i?' title="'+Ii(i)+'"':"";return n?{delim:"[",rawHTML:o?"<"+o+' href="'+Ii(l)+'"'+d+">":null}:{delim:"]("+l+(i?" "+DQ(Vs(i)):"")+")",rawHTML:po(o)}},code:function(r,e){var t=r.node,n=r.parent,a=r.index,i=a===void 0?0:a,o=e.entering,l=o?Pd(n.child(i),-1):Pd(n.child(i-1),1),d=o?vo(t.attrs.rawHTML):po(t.attrs.rawHTML);return{delim:l,rawHTML:d}},htmlComment:function(r){var e=r.node;return{text:e.textContent}},html:function(r,e){var t=r.node,n=e.entering,a=t.type.name,i=t.attrs.htmlAttrs,o="<"+a,l="</"+a+">";return Object.keys(i).forEach(function(d){o+=" "+d+'="'+i[d].replace(/"/g,"'")+'"'}),o+=">",t.attrs.htmlInline?{rawHTML:n?o:l}:{text:""+o+t.attrs.childrenHTML+l}}},Bd={strong:{mixable:!0,removedEnclosingWhitespace:!0},emph:{mixable:!0,removedEnclosingWhitespace:!0},strike:{mixable:!0,removedEnclosingWhitespace:!0},code:{escape:!1},link:null,html:null};function NVe(r){var e={},t=Object.keys(jc);return t.forEach(function(n){e[n]=function(a,i){var o=jc[n];if(o){var l=r[n],d=l?l(i,{inTable:a.inTable}):{};OVe(n,{state:a,nodeInfo:i,params:d})}}}),e}function RVe(r){var e={},t=Object.keys(Bd);return t.forEach(function(n){e[n]=function(a,i){var o=Bd[n],l=r[n],d=l&&a&&!Sn(i),g=d?l(a,{entering:i}):{};return ce(ce({},g),o)}}),e}function IVe(r){var e=Object.keys(r);e.forEach(function(a){var i=ho[a],o=r[a];i?ho[a]=function(l,d){return d.origin=function(){return i(l,d)},o(l,d)}:ho[a]=o,delete r[a]});var t=NVe(ho),n=RVe(ho);return{nodeTypeConvertors:t,markTypeConvertors:n}}var PVe=function(){function r(e){var t=e.nodeTypeConvertors,n=e.markTypeConvertors;this.nodeTypeConvertors=t,this.markTypeConvertors=n,this.delim="",this.result="",this.closed=!1,this.tightList=!1,this.stopNewline=!1,this.inTable=!1}return r.prototype.getMarkConvertor=function(e){var t=e.attrs.htmlInline?"html":e.type.name;return this.markTypeConvertors[t]},r.prototype.isInBlank=function(){return/(^|\n)$/.test(this.result)},r.prototype.markText=function(e,t,n,a){var i=this.getMarkConvertor(e);if(i){var o=i({node:e,parent:n,index:a},t),l=o.delim,d=o.rawHTML;return d||l}return""},r.prototype.setDelim=function(e){this.delim=e},r.prototype.getDelim=function(){return this.delim},r.prototype.flushClose=function(e){if(!this.stopNewline&&this.closed){if(this.isInBlank()||(this.result+=`
`),e||(e=2),e>1){var t=this.delim,n=/\s+$/.exec(t);n&&(t=t.slice(0,t.length-n[0].length));for(var a=1;a<e;a+=1)this.result+=t+`
`}this.closed=!1}},r.prototype.wrapBlock=function(e,t,n,a){var i=this.getDelim();this.write(t||e),this.setDelim(this.getDelim()+e),a(),this.setDelim(i),this.closeBlock(n)},r.prototype.ensureNewLine=function(){this.isInBlank()||(this.result+=`
`)},r.prototype.write=function(e){e===void 0&&(e=""),this.flushClose(),this.delim&&this.isInBlank()&&(this.result+=this.delim),e&&(this.result+=e)},r.prototype.closeBlock=function(e){this.closed=e},r.prototype.text=function(e,t){t===void 0&&(t=!0);for(var n=e.split(`
`),a=0;a<n.length;a+=1)this.write(),this.result+=t?LQ(n[a]):n[a],a!==n.length-1&&(this.result+=`
`)},r.prototype.convertBlock=function(e,t,n){var a=e.type.name,i=this.nodeTypeConvertors[a],o={node:e,parent:t,index:n};e.attrs.htmlBlock?this.nodeTypeConvertors.html(this,o):i&&i(this,o)},r.prototype.convertInline=function(e){var t=this,n=[],a="",i=function(o,l,d){var g=o?o.marks:[],C=a;a="";var T=o&&o.isText&&g.some(function(Me){var Ke=t.getMarkConvertor(Me),Oe=Ke&&Ke();return Oe&&Oe.removedEnclosingWhitespace});if(T&&o&&o.text){var S=/^(\s*)(.*?)(\s*)$/m.exec(o.text),M=S[1],O=S[2],I=S[3];C+=M,a=I,(M||I)&&(o=O?o.withText(O):null,o||(g=n))}for(var q=g.length&&xr(g),z=q&&t.getMarkConvertor(q),V=z&&z(),G=V&&V.escape===!1,Z=g.length-(G?1:0),ne=0;ne<Z;ne+=1){var O=g[ne];if(V&&!V.mixable)break;for(var X=0;X<n.length;X+=1){var oe=n[X];if(V&&!V.mixable)break;if(O.eq(oe)){ne>X?g=g.slice(0,X).concat(O).concat(g.slice(X,ne)).concat(g.slice(ne+1,Z)):X>ne&&(g=g.slice(0,ne).concat(g.slice(ne+1,X)).concat(O).concat(g.slice(X,Z)));break}}}for(var ve=0;ve<Math.min(n.length,Z)&&g[ve].eq(n[ve]);)ve+=1;for(;ve<n.length;){var ye=n.pop();ye&&t.text(t.markText(ye,!1,e,d),!1)}if(C&&t.text(C),o){for(;n.length<Z;){var O=g[n.length];n.push(O),t.text(t.markText(O,!0,e,d),!1)}G&&o.isText?t.text(t.markText(q,!0,e,d)+o.text+t.markText(q,!1,e,d+1),!1):t.convertBlock(o,e,d)}};e.forEach(i),i(null,null,e.childCount)},r.prototype.convertList=function(e,t,n){var a=this,i;this.closed&&this.closed.type===e.type?this.flushClose(3):this.tightList&&this.flushClose(1);var o=(i=e.attrs.tight)!==null&&i!==void 0?i:!0,l=this.tightList;this.tightList=o,e.forEach(function(d,g,C){C&&o&&a.flushClose(1),a.wrapBlock(t,n(C),e,function(){return a.convertBlock(d,e,C)})}),this.tightList=l},r.prototype.convertTableCell=function(e){var t=this;this.stopNewline=!0,this.inTable=!0,e.forEach(function(n,a,i){if(kr(["bulletList","orderedList"],n.type.name))t.convertBlock(n,e,i),t.closed=!1;else if(t.convertInline(n),i<e.childCount-1){var o=e.child(i+1);o.type.name==="paragraph"&&t.write("<br>")}}),this.stopNewline=!1,this.inTable=!1},r.prototype.convertNode=function(e,t){var n=this;return e.forEach(function(a,i,o){if(n.convertBlock(a,e,o),(t==null?void 0:t.node)===a){var l=n.result.split(`
`);t.setMappedPos([l.length,xr(l).length+1])}}),this.result},r}(),BVe=function(){function r(e,t,n,a){var i=this;this.setMappedPos=function(o){i.mappedPosWhenConverting=o},this.schema=e,this.eventEmitter=a,this.focusedNode=null,this.mappedPosWhenConverting=null,this.toWwConvertors=xVe(n),this.toMdConvertors=IVe(t||{}),this.eventEmitter.listen("setFocusedNode",function(o){return i.focusedNode=o})}return r.prototype.getMappedPos=function(){return this.mappedPosWhenConverting},r.prototype.getInfoForPosSync=function(){return{node:this.focusedNode,setMappedPos:this.setMappedPos}},r.prototype.toWysiwygModel=function(e){var t=new MVe(this.schema,this.toWwConvertors);return t.convertNode(e,this.getInfoForPosSync())},r.prototype.toMarkdownText=function(e){var t=new PVe(this.toMdConvertors),n=t.convertNode(e,this.getInfoForPosSync());return n=this.eventEmitter.emitReduce("beforeConvertWysiwygToMarkdown",n),n},r}();function qVe(r){var e=r.plugin,t=r.eventEmitter,n=r.usageStatistics,a=r.instance,i={Plugin:We.Plugin,PluginKey:We.PluginKey,Selection:We.Selection,TextSelection:We.TextSelection},o={Decoration:pa.Decoration,DecorationSet:pa.DecorationSet},l={Fragment:pe.Fragment},d={InputRule:wo.InputRule,inputRules:wo.inputRules,undoInputRule:wo.undoInputRule},g={keymap:To.keymap},C={eventEmitter:t,usageStatistics:n,instance:a,pmState:i,pmView:o,pmModel:l,pmRules:d,pmKeymap:g,i18n:Ze};if(Xi(e)){var T=e[0],S=e[1],M=S===void 0?{}:S;return T(C,M)}return e(C)}function Vg(r){var e=r.plugins,t=r.eventEmitter,n=r.usageStatistics,a=r.instance;return t.listen("mixinTableOffsetMapPrototype",hze),(e??[]).reduce(function(i,o){var l=qVe({plugin:o,eventEmitter:t,usageStatistics:n,instance:a});if(!l)throw new Error("The return value of the executed plugin is empty.");var d=l.markdownParsers,g=l.toHTMLRenderers,C=l.toMarkdownRenderers,T=l.markdownPlugins,S=l.wysiwygPlugins,M=l.wysiwygNodeViews,O=l.markdownCommands,I=l.wysiwygCommands,q=l.toolbarItems;return g&&(i.toHTMLRenderers=Us(i.toHTMLRenderers,g)),C&&(i.toMarkdownRenderers=Us(i.toMarkdownRenderers,C)),T&&(i.mdPlugins=i.mdPlugins.concat(T)),S&&(i.wwPlugins=i.wwPlugins.concat(S)),M&&(i.wwNodeViews=ce(ce({},i.wwNodeViews),M)),O&&(i.mdCommands=ce(ce({},i.mdCommands),O)),I&&(i.wwCommands=ce(ce({},i.wwCommands),I)),q&&(i.toolbarItems=i.toolbarItems.concat(q)),d&&(i.markdownParsers=ce(ce({},i.markdownParsers),d)),i},{toHTMLRenderers:{},toMarkdownRenderers:{},mdPlugins:[],wwPlugins:[],wwNodeViews:{},mdCommands:{},wwCommands:{},toolbarItems:[],markdownParsers:{}})}var FVe="data-task",HVe="data-task-disabled",_Ve="checked";function zVe(r){["htmlBlock","htmlInline"].forEach(function(e){r[e]&&Object.keys(r[e]).forEach(function(t){return bg(t)})})}var Ug=function(){function r(e){var t=this;this.options=af({linkAttributes:null,extendedAutolinks:!1,customHTMLRenderer:null,referenceDefinition:!1,customHTMLSanitizer:null,frontMatter:!1,usageStatistics:!0,theme:"light"},e),this.eventEmitter=new zg;var n=om(this.options.linkAttributes),a=Vg({plugins:this.options.plugins,eventEmitter:this.eventEmitter,usageStatistics:this.options.usageStatistics,instance:this})||{},i=a.toHTMLRenderers,o=a.markdownParsers,l=this.options,d=l.customHTMLRenderer,g=l.extendedAutolinks,C=l.referenceDefinition,T=l.frontMatter,S=l.customHTMLSanitizer,M={linkAttributes:n,customHTMLRenderer:ce(ce({},i),d),extendedAutolinks:g,referenceDefinition:C,frontMatter:T,sanitizer:S||ci};zVe(M.customHTMLRenderer),this.options.events&&_i(this.options.events,function(G,Z){t.on(Z,G)});var O=this.options,I=O.el,q=O.initialValue,z=O.theme,V=I.innerHTML;z!=="light"&&I.classList.add(Fe(z)),I.innerHTML="",this.toastMark=new hg("",{disallowedHtmlBlockTags:["br","img"],extendedAutolinks:g,referenceDefinition:C,disallowDeepHeading:!0,frontMatter:T,customParser:o}),this.preview=new Cg(this.eventEmitter,ce(ce({},M),{isViewer:!0})),qm(this.preview.previewContent,"mousedown",this.toggleTask.bind(this)),q?this.setMarkdown(q):V&&this.preview.setHTML(V),I.appendChild(this.preview.previewContent),this.eventEmitter.emit("load",this)}return r.prototype.toggleTask=function(e){var t=e.target,n=getComputedStyle(t,":before");!t.hasAttribute(HVe)&&t.hasAttribute(FVe)&&df(n,e.offsetX,e.offsetY)&&(hf(t,_Ve),this.eventEmitter.emit("change",{source:"viewer",date:e}))},r.prototype.setMarkdown=function(e){var t=this.toastMark.getLineTexts(),n=t.length,a=xr(t),i=[n,a.length+1],o=this.toastMark.editMarkdown([1,1],i,e||"");this.eventEmitter.emit("updatePreview",o)},r.prototype.on=function(e,t){this.eventEmitter.listen(e,t)},r.prototype.off=function(e){this.eventEmitter.removeEventHandler(e)},r.prototype.addHook=function(e,t){this.eventEmitter.removeEventHandler(e),this.eventEmitter.listen(e,t)},r.prototype.destroy=function(){Bm(this.preview.el,"mousedown",this.toggleTask.bind(this)),this.preview.destroy(),this.eventEmitter.emit("destroy")},r.prototype.isViewer=function(){return!0},r.prototype.isMarkdownMode=function(){return!1},r.prototype.isWysiwygMode=function(){return!1},r}();function Fs(r){return r instanceof pe.Node}function jg(r){var e=["document","blockQuote","bulletList","orderedList","listItem","paragraph","heading","emph","strong","strike","link","image","table","tableHead","tableBody","tableRow","tableHeadCell","tableBodyCell"];return kr(e,r)}function $Ve(r){var e=r.attrs,t=r.type,n=t.name,a={type:n,wysiwygNode:!0,literal:!jg(n)&&Fs(r)?r.textContent:null},i={heading:{level:e.level},link:{destination:e.linkUrl,title:e.title},image:{destination:e.imageUrl},codeBlock:{info:e.language},bulletList:{type:"list",listData:{type:"bullet"}},orderedList:{type:"list",listData:{type:"ordered",start:e.order}},listItem:{type:"item",listData:{task:e.task,checked:e.checked}},tableHeadCell:{type:"tableCell",cellType:"head",align:e.align},tableBodyCell:{type:"tableCell",cellType:"body",align:e.align},customBlock:{info:e.info}},o=i[n],l=ce(ce({},a),o),d=r.attrs,g=d.htmlAttrs,C=d.childrenHTML;return g?ce(ce({},l),{attrs:g,childrenHTML:C}):l}var VVe={openTag:function(r,e){var t=r,n=t.tagName,a=t.classNames,i=t.attributes,o=document.createElement(n),l={};a&&(o.className=a.join(" ")),i&&(l=ce(ce({},l),i)),gf(l,o),e.push(o)},closeTag:function(r,e){if(e.length>1){var t=e.pop();xr(e).appendChild(t)}},html:function(r,e){xr(e).insertAdjacentHTML("beforeend",r.content)},text:function(r,e){var t=document.createTextNode(r.content);xr(e).appendChild(t)}},UVe=function(){function r(e,t){var n=Df(e,t),a=ce(ce({},t.htmlBlock),t.htmlInline);this.customConvertorKeys=Object.keys(t).concat(Object.keys(a)),this.renderer=new Lf({gfm:!0,convertors:ce(ce({},n),a)}),this.convertors=this.renderer.getConvertors()}return r.prototype.generateTokens=function(e){var t=$Ve(e),n={entering:!0,leaf:Fs(e)?e.isLeaf:!1,options:this.renderer.getOptions(),getChildrenText:function(){return Fs(e)?e.textContent:""},skipChildren:function(){return!1}},a=this.convertors[e.type.name],i=a(t,n,this.convertors),o=Xi(i)?i:[i];return(jg(e.type.name)||e.attrs.htmlInline)&&(n.entering=!1,o.push({type:"text",content:Fs(e)?e.textContent:""}),o=o.concat(a(t,n,this.convertors))),o},r.prototype.toDOMNode=function(e){var t=this.generateTokens(e),n=[];return t.forEach(function(a){return VVe[a.type](a,n)}),n[0]},r.prototype.getToDOMNode=function(e){return kr(this.customConvertorKeys,e)?this.toDOMNode.bind(this):null},r}(),jVe=100,WVe=15,Ls=null,wc=null;function qd(r,e){var t=e.syncScrollTop,n=e.releaseEventBlock;wc&&clearTimeout(wc),t(r),wc=setTimeout(function(){n()},WVe)}function GVe(r,e,t){var n=e-r,a=Date.now(),i=function(){var o=Date.now(),l=(o-a)/jVe,d;Ls&&clearTimeout(Ls),l<1?(d=r+n*Math.cos((1-l)*Math.PI/2),qd(Math.ceil(d),t),Ls=setTimeout(i,1)):(qd(e,t),Ls=null)};i()}var KVe=18,JVe=function(){function r(e,t,n){this.latestEditorScrollTop=null,this.latestPreviewScrollTop=null,this.blockedScroll=null,this.active=!0,this.timer=null;var a=t.previewContent,i=t.el;this.previewRoot=a,this.previewEl=i,this.mdEditor=e,this.editorView=e.view,this.toastMark=e.getToastMark(),this.eventEmitter=n,this.addScrollSyncEvent()}return r.prototype.addScrollSyncEvent=function(){var e=this;this.eventEmitter.listen("afterPreviewRender",function(){e.clearTimer(),e.timer=setTimeout(function(){e.syncPreviewScrollTop(!0)},200)}),this.eventEmitter.listen("scroll",function(t,n){e.active&&(t==="editor"&&e.blockedScroll!=="editor"?e.syncPreviewScrollTop():t==="preview"&&e.blockedScroll!=="preview"&&e.syncEditorScrollTop(n))}),this.eventEmitter.listen("toggleScrollSync",function(t){e.active=t})},r.prototype.getMdNodeAtPos=function(e,t){var n=e.content.findIndex(t.pos),a=n.index;return this.toastMark.findFirstNodeAtLine(a+1)},r.prototype.getScrollTopByCaretPos=function(){var e=this.mdEditor.getSelection(),t=this.toastMark.findFirstNodeAtLine(e[0][0]),n=this.previewEl.clientHeight,a=mc(this.previewRoot,t).el,i=el(a,this.previewRoot)||a.offsetTop,o=a.clientHeight,l=i+o-n*.5;this.latestEditorScrollTop=null;var d=a.getBoundingClientRect().top-this.previewEl.getBoundingClientRect().top;return d<n?null:l},r.prototype.syncPreviewScrollTop=function(e){e===void 0&&(e=!1);var t=this,n=t.editorView,a=t.previewEl,i=t.previewRoot,o=n.dom.getBoundingClientRect(),l=o.left,d=o.top,g=n.posAtCoords({left:l,top:d}),C=n.state.doc,T=this.getMdNodeAtPos(C,g);if(!(!T||IQ(T))){var S=a.scrollTop,M=n.dom,O=M.scrollTop,I=M.scrollHeight,q=M.clientHeight,z=M.children,V=I-O<=q+KVe,G=V?a.scrollHeight:0;if(O&&!V){if(e){var Z=this.getScrollTopByCaretPos();if(!Z)return;G=Z}else{var ne=mc(this.previewRoot,T),X=ne.el,oe=ne.mdNode,ve=Cd(C,oe,z),ye=ve.height,Me=ve.rect,Ke=el(X,i)||X.offsetTop,Oe=X.clientHeight,st=d>Me.top?Math.min((d-Me.top)/ye,1):0;G=Ke+Oe*st}G=this.getResolvedScrollTop("editor",O,G,S),this.latestEditorScrollTop=O}G!==S&&this.run("editor",G,S)}},r.prototype.syncEditorScrollTop=function(e){var t=this,n=t.toastMark,a=t.editorView,i=t.previewRoot,o=t.previewEl,l=a.dom,d=a.state,g=o.scrollTop,C=o.clientHeight,T=o.scrollHeight,S=T-g<=C,M=l.scrollTop,O=S?l.scrollHeight:0;if(g&&e&&!S){if(e=j2e(e,i),!e.getAttribute("data-nodeid"))return;var I=l.children,q=Number(e.getAttribute("data-nodeid")),z=mc(this.previewRoot,n.findNodeById(q)),V=z.mdNode,G=z.el,Z=Lo(V);O=I[Z-1].offsetTop;var ne=Cd(d.doc,V,I).height,X=Y2e(G,i,q),oe=X.nodeHeight,ve=X.offsetTop;O+=G2e(g,ve,oe,ne),O=this.getResolvedScrollTop("preview",g,O,M),this.latestPreviewScrollTop=g}O!==M&&this.run("preview",O,M)},r.prototype.getResolvedScrollTop=function(e,t,n,a){var i=e==="editor"?this.latestEditorScrollTop:this.latestPreviewScrollTop;return i===null?n:i<t?Math.max(n,a):Math.min(n,a)},r.prototype.run=function(e,t,n){var a=this,i;e==="editor"?(i=this.previewEl,this.blockedScroll="preview"):(i=this.editorView.dom,this.blockedScroll="editor");var o={syncScrollTop:function(l){return i.scrollTop=l},releaseEventBlock:function(){return a.blockedScroll=null}};GVe(n,t,o)},r.prototype.clearTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},r.prototype.destroy=function(){this.clearTimer(),this.eventEmitter.removeEventHandler("scroll"),this.eventEmitter.removeEventHandler("afterPreviewRender")},r}(),QVe={getPopupInitialValues:function(r,e){var t=e.popupName;return t==="link"?{linkText:r.getSelectedText()}:{}}};function XVe(r){r.eventEmitter.listen("query",function(e,t){return QVe[e](r,t)})}var Wg=function(){function r(e){var t=this;this.initialHTML=e.el.innerHTML,e.el.innerHTML="",this.options=af({previewStyle:"tab",previewHighlight:!0,initialEditType:"markdown",height:"300px",minHeight:"200px",language:"en-US",useCommandShortcut:!0,usageStatistics:!0,toolbarItems:[["heading","bold","italic","strike"],["hr","quote"],["ul","ol","task","indent","outdent"],["table","image","link"],["code","codeblock"],["scrollSync"]],hideModeSwitch:!1,linkAttributes:null,extendedAutolinks:!1,customHTMLRenderer:null,customMarkdownRenderer:null,referenceDefinition:!1,customHTMLSanitizer:null,frontMatter:!1,widgetRules:[],theme:"light",autofocus:!0},e);var n=this.options,a=n.customHTMLRenderer,i=n.extendedAutolinks,o=n.referenceDefinition,l=n.frontMatter,d=n.customMarkdownRenderer,g=n.useCommandShortcut,C=n.initialEditType,T=n.widgetRules,S=n.customHTMLSanitizer;this.mode=C||"markdown",this.mdPreviewStyle=this.options.previewStyle,this.i18n=Ze,this.i18n.setCode(this.options.language),this.eventEmitter=new zg,UQ(T);var M=om(this.options.linkAttributes);this.pluginInfo=Vg({plugins:this.options.plugins,eventEmitter:this.eventEmitter,usageStatistics:this.options.usageStatistics,instance:this});var O=this.pluginInfo,I=O.toHTMLRenderers,q=O.toMarkdownRenderers,z=O.mdPlugins,V=O.wwPlugins,G=O.wwNodeViews,Z=O.mdCommands,ne=O.wwCommands,X=O.markdownParsers,oe={linkAttributes:M,customHTMLRenderer:Us(I,a),extendedAutolinks:i,referenceDefinition:o,frontMatter:l,sanitizer:S||ci},ve=new UVe(M,oe.customHTMLRenderer),ye=F2e(oe.customHTMLRenderer,oe.sanitizer,ve);this.toastMark=new hg("",{disallowedHtmlBlockTags:["br","img"],extendedAutolinks:i,referenceDefinition:o,disallowDeepHeading:!0,frontMatter:l,customParser:X}),this.mdEditor=new WZ(this.eventEmitter,{toastMark:this.toastMark,useCommandShortcut:g,mdPlugins:z}),this.preview=new Cg(this.eventEmitter,ce(ce({},oe),{isViewer:!1,highlight:this.options.previewHighlight})),this.wwEditor=new uVe(this.eventEmitter,{toDOMAdaptor:ve,useCommandShortcut:g,htmlSchemaMap:ye,linkAttributes:M,wwPlugins:V,wwNodeViews:G}),this.convertor=new BVe(this.wwEditor.getSchema(),ce(ce({},q),d),Df(M,oe.customHTMLRenderer),this.eventEmitter),this.setMinHeight(this.options.minHeight),this.setHeight(this.options.height),this.setMarkdown(this.options.initialValue,!1),this.options.placeholder&&this.setPlaceholder(this.options.placeholder),this.options.initialValue||this.setHTML(this.initialHTML,!1),this.commandManager=new wVe(this.eventEmitter,this.mdEditor.commands,this.wwEditor.commands,function(){return t.mode}),this.options.usageStatistics&&xQ(),this.scrollSync=new JVe(this.mdEditor,this.preview,this.eventEmitter),this.addInitEvent(),this.addInitCommand(Z,ne),XVe(this),this.options.hooks&&_i(this.options.hooks,function(Me,Ke){return t.addHook(Ke,Me)}),this.options.events&&_i(this.options.events,function(Me,Ke){return t.on(Ke,Me)}),this.eventEmitter.emit("load",this),this.moveCursorToStart(this.options.autofocus)}return r.prototype.addInitEvent=function(){var e=this;this.on("needChangeMode",this.changeMode.bind(this)),this.on("loadUI",function(){if(e.height!=="auto"){var t=Math.min(parseInt(e.minHeight,10),parseInt(e.height,10)-75)+"px";e.setMinHeight(t)}}),mX(this.eventEmitter)},r.prototype.addInitCommand=function(e,t){var n=this,a=function(i,o){Object.keys(o).forEach(function(l){n.addCommand(i,l,o[l])})};this.addCommand("markdown","toggleScrollSync",function(i){return n.eventEmitter.emit("toggleScrollSync",i.active),!0}),a("markdown",e),a("wysiwyg",t)},r.prototype.getCurrentModeEditor=function(){return this.isMarkdownMode()?this.mdEditor:this.wwEditor},r.factory=function(e){return e.viewer?new Ug(e):new r(e)},r.setLanguage=function(e,t){Ze.setLanguage(e,t)},r.prototype.changePreviewStyle=function(e){this.mdPreviewStyle!==e&&(this.mdPreviewStyle=e,this.eventEmitter.emit("changePreviewStyle",e))},r.prototype.exec=function(e,t){this.commandManager.exec(e,t)},r.prototype.addCommand=function(e,t,n){var a=this,i=function(o){o===void 0&&(o={});var l=(e==="markdown"?a.mdEditor:a.wwEditor).view;n(o,l.state,l.dispatch,l)};this.commandManager.addCommand(e,t,i)},r.prototype.on=function(e,t){this.eventEmitter.listen(e,t)},r.prototype.off=function(e){this.eventEmitter.removeEventHandler(e)},r.prototype.addHook=function(e,t){this.eventEmitter.removeEventHandler(e),this.eventEmitter.listen(e,t)},r.prototype.removeHook=function(e){this.eventEmitter.removeEventHandler(e)},r.prototype.focus=function(){this.getCurrentModeEditor().focus()},r.prototype.blur=function(){this.getCurrentModeEditor().blur()},r.prototype.moveCursorToEnd=function(e){e===void 0&&(e=!0),this.getCurrentModeEditor().moveCursorToEnd(e)},r.prototype.moveCursorToStart=function(e){e===void 0&&(e=!0),this.getCurrentModeEditor().moveCursorToStart(e)},r.prototype.setMarkdown=function(e,t){if(e===void 0&&(e=""),t===void 0&&(t=!0),this.mdEditor.setMarkdown(e,t),this.isWysiwygMode()){var n=this.toastMark.getRootNode(),a=this.convertor.toWysiwygModel(n);this.wwEditor.setModel(a,t)}},r.prototype.setHTML=function(e,t){e===void 0&&(e=""),t===void 0&&(t=!0);var n=document.createElement("div");n.innerHTML=pX(e);var a=pe.DOMParser.fromSchema(this.wwEditor.schema).parse(n);this.isMarkdownMode()?this.mdEditor.setMarkdown(this.convertor.toMarkdownText(a),t):this.wwEditor.setModel(a,t)},r.prototype.getMarkdown=function(){return this.isMarkdownMode()?this.mdEditor.getMarkdown():this.convertor.toMarkdownText(this.wwEditor.getModel())},r.prototype.getHTML=function(){var e=this;this.eventEmitter.holdEventInvoke(function(){if(e.isMarkdownMode()){var a=e.toastMark.getRootNode(),i=e.convertor.toWysiwygModel(a);e.wwEditor.setModel(i)}});var t=yf(this.wwEditor.view.dom.innerHTML);if(this.placeholder){var n=new RegExp('<span class="placeholder[^>]+>'+this.placeholder+"</span>","i");return t.replace(n,"")}return t},r.prototype.insertText=function(e){this.getCurrentModeEditor().replaceSelection(e)},r.prototype.setSelection=function(e,t){this.getCurrentModeEditor().setSelection(e,t)},r.prototype.replaceSelection=function(e,t,n){this.getCurrentModeEditor().replaceSelection(e,t,n)},r.prototype.deleteSelection=function(e,t){this.getCurrentModeEditor().deleteSelection(e,t)},r.prototype.getSelectedText=function(e,t){return this.getCurrentModeEditor().getSelectedText(e,t)},r.prototype.getRangeInfoOfNode=function(e){return this.getCurrentModeEditor().getRangeInfoOfNode(e)},r.prototype.addWidget=function(e,t,n){this.getCurrentModeEditor().addWidget(e,t,n)},r.prototype.replaceWithWidget=function(e,t,n){this.getCurrentModeEditor().replaceWithWidget(e,t,n)},r.prototype.setHeight=function(e){var t=this.options.el;ha(e)&&(e==="auto"?$n(t,"auto-height"):Tn(t,"auto-height"),this.setMinHeight(this.getMinHeight())),Un(t,{height:e}),this.height=e},r.prototype.getHeight=function(){return this.height},r.prototype.setMinHeight=function(e){if(e!==this.minHeight){var t=this.height||this.options.height;t!=="auto"&&this.options.el.querySelector("."+Fe("main"))&&(e=Math.min(parseInt(e,10),parseInt(t,10)-75)+"px");var n=parseInt(e,10);this.minHeight=e,this.wwEditor.setMinHeight(n),this.mdEditor.setMinHeight(n),this.preview.setMinHeight(n)}},r.prototype.getMinHeight=function(){return this.minHeight},r.prototype.isMarkdownMode=function(){return this.mode==="markdown"},r.prototype.isWysiwygMode=function(){return this.mode==="wysiwyg"},r.prototype.isViewer=function(){return!1},r.prototype.getCurrentPreviewStyle=function(){return this.mdPreviewStyle},r.prototype.changeMode=function(e,t){if(this.mode!==e){if(this.mode=e,this.isWysiwygMode()){var n=this.toastMark.getRootNode(),a=this.convertor.toWysiwygModel(n);this.wwEditor.setModel(a)}else{var a=this.wwEditor.getModel();this.mdEditor.setMarkdown(this.convertor.toMarkdownText(a),!t)}if(this.eventEmitter.emit("removePopupWidget"),this.eventEmitter.emit("changeMode",e),!t){var i=this.convertor.getMappedPos();this.focus(),this.isWysiwygMode()&&sa(i)?this.wwEditor.setSelection(i):Array.isArray(i)&&this.mdEditor.setSelection(i)}}},r.prototype.destroy=function(){var e=this;this.wwEditor.destroy(),this.mdEditor.destroy(),this.preview.destroy(),this.scrollSync.destroy(),this.eventEmitter.emit("destroy"),this.eventEmitter.getEvents().forEach(function(t,n){return e.off(n)})},r.prototype.hide=function(){this.eventEmitter.emit("hide")},r.prototype.show=function(){this.eventEmitter.emit("show")},r.prototype.setScrollTop=function(e){this.getCurrentModeEditor().setScrollTop(e)},r.prototype.getScrollTop=function(){return this.getCurrentModeEditor().getScrollTop()},r.prototype.reset=function(){this.wwEditor.setModel([]),this.mdEditor.setMarkdown("")},r.prototype.getSelection=function(){return this.getCurrentModeEditor().getSelection()},r.prototype.setPlaceholder=function(e){this.placeholder=e,this.mdEditor.setPlaceholder(e),this.wwEditor.setPlaceholder(e)},r.prototype.getEditorElements=function(){return{mdEditor:this.mdEditor.getElement(),mdPreview:this.preview.getElement(),wwEditor:this.wwEditor.getElement()}},r.prototype.convertPosToMatchEditorMode=function(e,t,n){var a,i;t===void 0&&(t=e),n===void 0&&(n=this.mode);var o=this.mdEditor.view.state.doc,l=Array.isArray(e),d=Array.isArray(t),g=e,C=t;if(l!==d)throw new Error("Types of arguments must be same");return n==="markdown"&&!l&&!d?(a=Ns(o,e,t),g=a[0],C=a[1]):n==="wysiwyg"&&l&&d&&(i=ei(o,e,t),g=i[0],C=i[1]),[g,C]},r}();function ZVe(r){for(var e,t,n=arguments,a=1,i="",o="",l=[0],d=function(C){a===1&&(C||(i=i.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?l.push(C?n[C]:i):a===3&&(C||i)?(l[1]=C?n[C]:i,a=2):a===2&&i==="..."&&C?l[2]=ff(l[2]||{},n[C]):a===2&&i&&!C?(l[2]=l[2]||{})[i]=!0:a>=5&&(a===5?((l[2]=l[2]||{})[t]=C?i?i+n[C]:n[C]:i,a=6):(C||i)&&(l[2][t]+=C?i+n[C]:i)),i=""},g=0;g<r.length;g++){g&&(a===1&&d(),d(g));for(let C=0;C<r[g].length;C++)e=r[g][C],a===1?e==="<"?(d(),l=[l,"",null],a=3):i+=e:a===4?i==="--"&&e===">"?(a=1,i=""):i=e+i[0]:o?e===o?o="":i+=e:e==='"'||e==="'"?o=e:e===">"?(d(),a=1):a&&(e==="="?(a=5,t=i,i=""):e==="/"&&(a<5||r[g][C+1]===">")?(d(),a===3&&(l=l[0]),a=l,(l=l[0]).push(this.apply(null,a.slice(1))),a=0):e===" "||e==="	"||e===`
`||e==="\r"?(d(),a=2):i+=e),a===3&&i==="!--"&&(a=4,l=l[0])}return d(),l.length>2?l.slice(1):l[1]}function YVe(r){return typeof r=="boolean"||r instanceof Boolean}var eUe=YVe,tUe=function(){function r(e){this.current=e,this.root=e,this.entering=!0}return r.prototype.walk=function(){var e=this,t=e.entering,n=e.current;return n?(t?n.firstChild?(this.current=n.firstChild,this.entering=!0):this.entering=!1:n===this.root?this.current=null:n.next?(this.current=n.next,this.entering=!0):(this.current=n.parent,this.entering=!1),{vnode:n,entering:t}):null},r}(),xn=function(){function r(e,t,n){this.parent=null,this.old=null,this.firstChild=null,this.next=null,this.skip=!1,this.type=e,this.props=t,this.children=n,this.props.children=n,t.ref&&(this.ref=t.ref,delete t.ref),t.key&&(this.key=t.key,delete t.key)}return r.prototype.walker=function(){return new tUe(this)},r.removalNodes=[],r}();function rUe(r){return new xn("TEXT_NODE",{nodeValue:r},[])}function Fd(r,e){var t=r;eUe(r)||r==null?t=null:(ha(r)||sa(r))&&(t=rUe(String(r))),t&&e.push(t)}function nUe(r,e){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];var a=[];return t.forEach(function(i){Array.isArray(i)?i.forEach(function(o){Fd(o,a)}):Fd(i,a)}),new xn(r,e||{},a)}var vt=ZVe.bind(nUe);function aUe(r){return r===Object(r)}var iUe=aUe;function oUe(r){var e;return r.type==="TEXT_NODE"?e=document.createTextNode(r.props.nodeValue):(e=document.createElement(r.type),Kg(e,{},r.props)),e}function Gg(r,e){r.node?e.removeChild(r.node):Gg(r.firstChild,e)}function sUe(r,e,t){Object.keys(e).forEach(function(n){if(/^on/.test(n)){if(!t[n]||e[n]!==t[n]){var a=n.slice(2).toLowerCase();r.removeEventListener(a,e[n])}}else n!=="children"&&!t[n]&&!lX(r)&&r.removeAttribute(n)}),Kg(r,e,t,function(n){return!sf(e[n],t[n])})}var lUe=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function Kg(r,e,t,n){Object.keys(t).forEach(function(a){if(!n||n(a))if(/^on/.test(a)){var i=a.slice(2).toLowerCase();r.addEventListener(i,t[a])}else a==="nodeValue"?r[a]=t[a]:a==="style"&&iUe(t[a])?uUe(r,e[a],t[a]):a!=="children"&&(t[a]===!1?r.removeAttribute(a):r.setAttribute(a,t[a]))})}function uUe(r,e,t){e&&Object.keys(e).forEach(function(n){r.style[n]=""}),Object.keys(t).forEach(function(n){var a=t[n];r.style[n]=sa(a)&&!lUe.test(n)?a+"px":a})}function Rf(r){if(xn.removalNodes.forEach(function(i){return _d(i)}),r){for(var e=void 0,t=r.walker();e=t.walk();)if(r=e.vnode,e.entering)_d(r);else if(un(r.type)){var n=r.component;if(!r.old&&n.mounted&&n.mounted(),r.old&&n.updated){var a=n.prevProps||{};n.updated(a)}}}}function Hd(r){for(var e=r.parent;!e.node;)e=e.parent;return e.node}function _d(r){if(!(!r||!r.parent)){if(r.node){var e=Hd(r);r.effect==="A"?e.appendChild(r.node):r.effect==="U"&&sUe(r.node,r.old.props,r.props)}if(r.effect==="D"){for(var t=void 0,n=r.walker();t=n.walk();)if(r=t.vnode,!t.entering)if(un(r.type)){var a=r.component;a.beforeDestroy&&a.beforeDestroy()}else{var e=Hd(r);Gg(r,e)}}r.ref&&(r.component?r.ref(r.component):r.node&&r.ref(r.node))}}function cUe(r,e){var t=e.props,n=e.component;return n?(n.prevProps=n.props,n.props=e.props,n):new r(t)}function Jg(r){for(var e=r;r&&!r.skip;){if(un(r.type)){var t=cUe(r.type,r);t.vnode=r,r.component=t,r.props.children=r.children=[t.render()],zd(r)}else r.node||(r.node=oUe(r)),zd(r);if(r.firstChild)r=r.firstChild;else{for(;r&&r.parent&&!r.next&&(r=r.parent,r!==e););r=r.next}}}function fUe(r,e){return r&&e&&e.type===r.type&&(!e.key||e.key===r.key)}function zd(r){var e=r.children,t=r.old?r.old.firstChild:null,n=null;e.forEach(function(i,o){var l=fUe(t,i);l&&(i.old=t,i.parent=r,i.node=t.node,i.component=t.component,i.effect="U"),i&&!l&&(i.old=null,i.parent=r,i.node=null,i.effect="A"),t&&!l&&(xn.removalNodes.push(t),t.effect="D"),t&&(t=t.next),o===0?r.firstChild=i:i&&(n.next=i),n=i});var a=xr(e);if(!e.length)for(;t;)xn.removalNodes.push(t),t.effect="D",t=t.next;for(;t&&a;)t&&a.old!==t&&(xn.removalNodes.push(t),t.effect="D",t=t.next)}function vUe(r){r.effect="D",xn.removalNodes=[r],Rf(),xn.removalNodes=[]}function pUe(r){var e=r.vnode;e.effect="U",e.old=e,e.next&&(e.next.skip=!0),xn.removalNodes=[],Jg(e),Rf(e),e.next&&(e.next.skip=!1)}function dUe(r,e){var t=new xn(r.tagName.toLowerCase(),{},[e]);return t.node=r,xn.removalNodes=[],Jg(t),Rf(t),function(){return vUe(t.firstChild)}}var Sr=function(){function r(e){this.props=e,this.state={},this.refs={}}return r.prototype.setState=function(e){var t=ce(ce({},this.state),e);sf(this.state,t)||(this.state=t,pUe(this))},r}(),hUe=function(r){Pe(e,r);function e(t){var n=r.call(this,t)||this;return n.state={hide:!1},n}return e.prototype.show=function(){this.setState({hide:!1})},e.prototype.hide=function(){this.setState({hide:!0})},e.prototype.render=function(){var t=this.props,n=t.editorType,a=t.eventEmitter;return vt($d||($d=ft([`
      <div class="`,'" style="display: ',`">
        <div
          class="tab-item`,`"
          onClick=`,`
        >
          `,`
        </div>
        <div
          class="tab-item`,`"
          onClick=`,`
        >
          `,`
        </div>
      </div>
    `],[`
      <div class="`,'" style="display: ',`">
        <div
          class="tab-item`,`"
          onClick=`,`
        >
          `,`
        </div>
        <div
          class="tab-item`,`"
          onClick=`,`
        >
          `,`
        </div>
      </div>
    `])),Fe("mode-switch"),this.state.hide?"none":"block",n==="markdown"?" active":"",function(){a.emit("needChangeMode","markdown")},Ze.get("Markdown"),n==="wysiwyg"?" active":"",function(){a.emit("needChangeMode","wysiwyg")},Ze.get("WYSIWYG"))},e}(Sr),$d;function mUe(r,e){var t,n;e=e||0;function a(){n=Array.prototype.slice.call(arguments),window.clearTimeout(t),t=window.setTimeout(function(){r.apply(null,n)},e)}return a}var gUe=mUe,yUe=gUe;function bUe(r,e){var t,n=!0,a=function(C){r.apply(null,C),t=null},i,o,l;e=e||0,i=yUe(a,e);function d(){if(l=Array.prototype.slice.call(arguments),n){a(l),n=!1;return}o=Number(new Date),t=t||o,i(l),o-t>=e&&a(l)}function g(){n=!0,t=null}return d.reset=g,d}var wUe=bUe,Qg=function(){if(typeof Map<"u")return Map;function r(e,t){var n=-1;return e.some(function(a,i){return a[0]===t?(n=i,!0):!1}),n}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(t){var n=r(this.__entries__,t),a=this.__entries__[n];return a&&a[1]},e.prototype.set=function(t,n){var a=r(this.__entries__,t);~a?this.__entries__[a][1]=n:this.__entries__.push([t,n])},e.prototype.delete=function(t){var n=this.__entries__,a=r(n,t);~a&&n.splice(a,1)},e.prototype.has=function(t){return!!~r(this.__entries__,t)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,n){n===void 0&&(n=null);for(var a=0,i=this.__entries__;a<i.length;a++){var o=i[a];t.call(n,o[1],o[0])}},e}()}(),Wc=typeof window<"u"&&typeof document<"u"&&window.document===document,rl=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),kUe=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(rl):function(r){return setTimeout(function(){return r(Date.now())},1e3/60)}}(),CUe=2;function TUe(r,e){var t=!1,n=!1,a=0;function i(){t&&(t=!1,r()),n&&l()}function o(){kUe(i)}function l(){var d=Date.now();if(t){if(d-a<CUe)return;n=!0}else t=!0,n=!1,setTimeout(o,e);a=d}return l}var EUe=20,xUe=["top","right","bottom","left","width","height","size","weight"],SUe=typeof MutationObserver<"u",MUe=function(){function r(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=TUe(this.refresh.bind(this),EUe)}return r.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},r.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},r.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},r.prototype.updateObservers_=function(){var e=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return e.forEach(function(t){return t.broadcastActive()}),e.length>0},r.prototype.connect_=function(){!Wc||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),SUe?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},r.prototype.disconnect_=function(){!Wc||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},r.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=t===void 0?"":t,a=xUe.some(function(i){return!!~n.indexOf(i)});a&&this.refresh()},r.getInstance=function(){return this.instance_||(this.instance_=new r),this.instance_},r.instance_=null,r}(),Xg=function(r,e){for(var t=0,n=Object.keys(e);t<n.length;t++){var a=n[t];Object.defineProperty(r,a,{value:e[a],enumerable:!1,writable:!1,configurable:!0})}return r},Ji=function(r){var e=r&&r.ownerDocument&&r.ownerDocument.defaultView;return e||rl},Zg=wl(0,0,0,0);function nl(r){return parseFloat(r)||0}function Vd(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.reduce(function(n,a){var i=r["border-"+a+"-width"];return n+nl(i)},0)}function AUe(r){for(var e=["top","right","bottom","left"],t={},n=0,a=e;n<a.length;n++){var i=a[n],o=r["padding-"+i];t[i]=nl(o)}return t}function LUe(r){var e=r.getBBox();return wl(0,0,e.width,e.height)}function DUe(r){var e=r.clientWidth,t=r.clientHeight;if(!e&&!t)return Zg;var n=Ji(r).getComputedStyle(r),a=AUe(n),i=a.left+a.right,o=a.top+a.bottom,l=nl(n.width),d=nl(n.height);if(n.boxSizing==="border-box"&&(Math.round(l+i)!==e&&(l-=Vd(n,"left","right")+i),Math.round(d+o)!==t&&(d-=Vd(n,"top","bottom")+o)),!NUe(r)){var g=Math.round(l+i)-e,C=Math.round(d+o)-t;Math.abs(g)!==1&&(l-=g),Math.abs(C)!==1&&(d-=C)}return wl(a.left,a.top,l,d)}var OUe=function(){return typeof SVGGraphicsElement<"u"?function(r){return r instanceof Ji(r).SVGGraphicsElement}:function(r){return r instanceof Ji(r).SVGElement&&typeof r.getBBox=="function"}}();function NUe(r){return r===Ji(r).document.documentElement}function RUe(r){return Wc?OUe(r)?LUe(r):DUe(r):Zg}function IUe(r){var e=r.x,t=r.y,n=r.width,a=r.height,i=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,o=Object.create(i.prototype);return Xg(o,{x:e,y:t,width:n,height:a,top:t,right:e+n,bottom:a+t,left:e}),o}function wl(r,e,t,n){return{x:r,y:e,width:t,height:n}}var PUe=function(){function r(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=wl(0,0,0,0),this.target=e}return r.prototype.isActive=function(){var e=RUe(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},r.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},r}(),BUe=function(){function r(e,t){var n=IUe(t);Xg(this,{target:e,contentRect:n})}return r}(),qUe=function(){function r(e,t,n){if(this.activeObservations_=[],this.observations_=new Qg,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return r.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Ji(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new PUe(e)),this.controller_.addObserver(this),this.controller_.refresh())}},r.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Ji(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},r.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},r.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},r.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(n){return new BUe(n.target,n.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},r.prototype.clearActive=function(){this.activeObservations_.splice(0)},r.prototype.hasActive=function(){return this.activeObservations_.length>0},r}(),Yg=typeof WeakMap<"u"?new WeakMap:new Qg,ey=function(){function r(e){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=MUe.getInstance(),n=new qUe(e,t,this);Yg.set(this,n)}return r}();["observe","unobserve","disconnect"].forEach(function(r){ey.prototype[r]=function(){var e;return(e=Yg.get(this))[r].apply(e,arguments)}});var FUe=function(){return typeof rl.ResizeObserver<"u"?rl.ResizeObserver:ey}(),HUe=function(r){Pe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.execCommand=function(t){var n=Vn(t.target,"li");this.props.execCommand("heading",{level:Number(n.getAttribute("data-level"))})},e.prototype.render=function(){var t=this;return vt(jd||(jd=ft([`
      <ul
        onClick=`,`
        aria-role="menu"
        aria-label="`,`"
      >
        `,`
        <li data-type="Paragraph" aria-role="menuitem">
          <div>`,`</div>
        </li>
      </ul>
    `],[`
      <ul
        onClick=`,`
        aria-role="menu"
        aria-label="`,`"
      >
        `,`
        <li data-type="Paragraph" aria-role="menuitem">
          <div>`,`</div>
        </li>
      </ul>
    `])),function(n){return t.execCommand(n)},Ze.get("Headings"),[1,2,3,4,5,6].map(function(n){return vt(Ud||(Ud=ft([`
              <li data-level="`,`" data-type="Heading" aria-role="menuitem">
                <`,">"," ",`</$>
              </li>
            `],[`
              <li data-level="`,`" data-type="Heading" aria-role="menuitem">
                <`,">"," ",`</$>
              </li>
            `])),n,"h"+n,Ze.get("Heading"),n)}),Ze.get("Paragraph"))},e}(Sr),Ud,jd,ty=function(r){Pe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.toggleTab=function(t,n){this.props.onClick(t,n)},e.prototype.render=function(){var t=this;return vt(Gd||(Gd=ft([`
      <div class="`,`" aria-role="tabpanel">
        `,`
      </div>
    `],[`
      <div class="`,`" aria-role="tabpanel">
        `,`
      </div>
    `])),Fe("tabs"),this.props.tabs.map(function(n){var a=n.name,i=n.text,o=t.props.activeTab===a;return vt(Wd||(Wd=ft([`
            <div
              class="tab-item`,`"
              onClick=`,`
              aria-role="tab"
              aria-label="`,`"
              aria-selected="`,`"
              tabindex="`,`"
            >
              `,`
            </div>
          `],[`
            <div
              class="tab-item`,`"
              onClick=`,`
              aria-role="tab"
              aria-label="`,`"
              aria-selected="`,`"
              tabindex="`,`"
            >
              `,`
            </div>
          `])),o?" active":"",function(l){return t.toggleTab(l,a)},Ze.get(i),o?"true":"false",o?"0":"-1",Ze.get(i))}))},e}(Sr),Wd,Gd,_Ue="ui",zUe=function(r){Pe(e,r);function e(t){var n=r.call(this,t)||this;return n.initialize=function(a){a===void 0&&(a="file");var i=n.refs.url;i.value="",n.refs.altText.value="",n.refs.file.value="",Tn(i,"wrong"),n.setState({activeTab:a,file:null,fileNameElClassName:""})},n.execCommand=function(){n.state.activeTab==="file"?n.emitAddImageBlob():n.emitAddImage()},n.toggleTab=function(a,i){i!==n.state.activeTab&&n.initialize(i)},n.showFileSelectBox=function(){n.refs.file.click()},n.changeFile=function(a){var i=a.target.files;i!=null&&i.length&&n.setState({file:i[0]})},n.state={activeTab:"file",file:null,fileNameElClassName:""},n.tabs=[{name:"file",text:"File"},{name:"url",text:"URL"}],n}return e.prototype.emitAddImageBlob=function(){var t=this,n=this.refs.file.files,a=this.refs.altText,i=" wrong";if(n!=null&&n.length){i="";var o=n.item(0),l=function(d,g){return t.props.execCommand("addImage",{imageUrl:d,altText:g||a.value})};this.props.eventEmitter.emit("addImageBlobHook",o,l,_Ue)}this.setState({fileNameElClassName:i})},e.prototype.emitAddImage=function(){var t=this.refs.url,n=this.refs.altText,a=t.value,i=n.value||"image";if(Tn(t,"wrong"),!a.length){$n(t,"wrong");return}a&&this.props.execCommand("addImage",{imageUrl:a,altText:i})},e.prototype.preventSelectStart=function(t){t.preventDefault()},e.prototype.updated=function(){this.props.show||this.initialize()},e.prototype.render=function(){var t=this,n=this.state,a=n.activeTab,i=n.file,o=n.fileNameElClassName;return vt(Kd||(Kd=ft([`
      <div aria-label="`,`">
        <`," tabs="," activeTab="," onClick=",` />
        <div style="display:`,`">
          <label for="toastuiImageUrlInput">`,`</label>
          <input
            id="toastuiImageUrlInput"
            type="text"
            ref=`,`
          />
        </div>
        <div style="display:`,`;position: relative;">
          <label for="toastuiImageFileInput">`,`</label>
          <span
            class="`,"",`"
            onClick=`,`
            onSelectstart=`,`
          >
            `,`
          </span>
          <button
            type="button"
            class="`,`"
            onClick=`,`
          >
            `,`
          </button>
          <input
            id="toastuiImageFileInput"
            type="file"
            accept="image/*"
            onChange=`,`
            ref=`,`
          />
        </div>
        <label for="toastuiAltTextInput">`,`</label>
        <input
          id="toastuiAltTextInput"
          type="text"
          ref=`,`
        />
        <div class="`,`">
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
        </div>
      </div>
    `],[`
      <div aria-label="`,`">
        <`," tabs="," activeTab="," onClick=",` />
        <div style="display:`,`">
          <label for="toastuiImageUrlInput">`,`</label>
          <input
            id="toastuiImageUrlInput"
            type="text"
            ref=`,`
          />
        </div>
        <div style="display:`,`;position: relative;">
          <label for="toastuiImageFileInput">`,`</label>
          <span
            class="`,"",`"
            onClick=`,`
            onSelectstart=`,`
          >
            `,`
          </span>
          <button
            type="button"
            class="`,`"
            onClick=`,`
          >
            `,`
          </button>
          <input
            id="toastuiImageFileInput"
            type="file"
            accept="image/*"
            onChange=`,`
            ref=`,`
          />
        </div>
        <label for="toastuiAltTextInput">`,`</label>
        <input
          id="toastuiAltTextInput"
          type="text"
          ref=`,`
        />
        <div class="`,`">
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
        </div>
      </div>
    `])),Ze.get("Insert image"),ty,this.tabs,a,this.toggleTab,a==="url"?"block":"none",Ze.get("Image URL"),function(l){return t.refs.url=l},a==="file"?"block":"none",Ze.get("Select image file"),Fe("file-name"),i?" has-file":o,this.showFileSelectBox,this.preventSelectStart,i?i.name:Ze.get("No file"),Fe("file-select-button"),this.showFileSelectBox,Ze.get("Choose a file"),this.changeFile,function(l){return t.refs.file=l},Ze.get("Description"),function(l){return t.refs.altText=l},Fe("button-container"),Fe("close-button"),this.props.hidePopup,Ze.get("Cancel"),Fe("ok-button"),this.execCommand,Ze.get("OK"))},e}(Sr),Kd,$Ue=function(r){Pe(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.execCommand=function(){var n=t.refs.url,a=t.refs.text;if(Tn(n,"wrong"),Tn(a,"wrong"),n.value.length<1){$n(n,"wrong");return}var i=Sn(t.props.initialValues.linkUrl);if(i&&a.value.length<1){$n(a,"wrong");return}t.props.execCommand("addLink",{linkUrl:n.value,linkText:a.value})},t}return e.prototype.initialize=function(){var t=this.props.initialValues,n=t.linkUrl,a=t.linkText,i=this.refs.url,o=this.refs.text;Tn(i,"wrong"),Tn(o,"wrong","disabled"),o.removeAttribute("disabled"),n&&($n(o,"disabled"),o.setAttribute("disabled","disabled")),i.value=n||"",o.value=a||""},e.prototype.mounted=function(){this.initialize()},e.prototype.updated=function(t){!t.show&&this.props.show&&this.initialize()},e.prototype.render=function(){var t=this;return vt(Jd||(Jd=ft([`
      <div aria-label="`,`">
        <label for="toastuiLinkUrlInput">`,`</label>
        <input
          id="toastuiLinkUrlInput"
          type="text"
          ref=`,`
        />
        <label for="toastuiLinkTextInput">`,`</label>
        <input
          id="toastuiLinkTextInput"
          type="text"
          ref=`,`
        />
        <div class="`,`">
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
        </div>
      </div>
    `],[`
      <div aria-label="`,`">
        <label for="toastuiLinkUrlInput">`,`</label>
        <input
          id="toastuiLinkUrlInput"
          type="text"
          ref=`,`
        />
        <label for="toastuiLinkTextInput">`,`</label>
        <input
          id="toastuiLinkTextInput"
          type="text"
          ref=`,`
        />
        <div class="`,`">
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
        </div>
      </div>
    `])),Ze.get("Insert link"),Ze.get("URL"),function(n){return t.refs.url=n},Ze.get("Link text"),function(n){return t.refs.text=n},Fe("button-container"),Fe("close-button"),this.props.hidePopup,Ze.get("Cancel"),Fe("ok-button"),this.execCommand,Ze.get("OK"))},e}(Sr),Jd,Qd=20,Xd=20,Zd=5,Yd=14,eh=5,th=9,VUe=1,UUe=1,rh=1,jUe=function(r){Pe(e,r);function e(t){var n=r.call(this,t)||this;return n.extendSelectionRange=function(a){var i=a.pageX,o=a.pageY,l=i-n.offsetRect.left,d=o-n.offsetRect.top,g=n.getSelectionRangeByOffset(l,d);n.setState(ce({},g))},n.execCommand=function(){n.props.execCommand("addTable",{rowCount:n.state.rowIdx+1,columnCount:n.state.colIdx+1})},n.state={rowIdx:-1,colIdx:-1},n}return e.prototype.getDescription=function(){return this.state.colIdx===-1?"":this.state.colIdx+1+" x "+(this.state.rowIdx+1)},e.prototype.getBoundByRange=function(t,n){return{width:(t+1)*Qd,height:(n+1)*Xd}},e.prototype.getRangeByOffset=function(t,n){return{colIdx:Math.floor(t/Qd),rowIdx:Math.floor(n/Xd)}},e.prototype.getTableRange=function(){var t=this.state,n=t.colIdx,a=t.rowIdx,i=Math.max(n,eh),o=Math.max(a,Zd);return n>=eh&&i<th&&(i+=1),a>=Zd&&o<Yd&&(o+=1),{colIdx:i+1,rowIdx:o+1}},e.prototype.getSelectionAreaBound=function(){var t=this.getBoundByRange(this.state.colIdx,this.state.rowIdx),n=t.width,a=t.height;return!n&&!a?{display:"none"}:{width:n-rh,height:a-rh,display:"block"}},e.prototype.getSelectionRangeByOffset=function(t,n){var a=this.getRangeByOffset(t,n);return a.rowIdx=Math.min(Math.max(a.rowIdx,VUe),Yd),a.colIdx=Math.min(Math.max(a.colIdx,UUe),th),a},e.prototype.updated=function(){if(!this.props.show)this.setState({colIdx:-1,rowIdx:-1});else if(this.state.colIdx===-1&&this.state.rowIdx===-1){var t=this.refs.tableEl.getBoundingClientRect(),n=t.left,a=t.top;this.offsetRect={left:window.pageXOffset+n,top:window.pageYOffset+a}}},e.prototype.createTableArea=function(t){for(var n=t.colIdx,a=t.rowIdx,i=[],o=0;o<a;o+=1){for(var l=[],d=0;d<n;d+=1){var g=""+Fe("table-cell")+(o>0?"":" header");l.push(vt(nh||(nh=ft(['<div class="','"></div>'],['<div class="','"></div>'])),g))}i.push(vt(ah||(ah=ft(['<div class="','">',"</div>"],['<div class="','">',"</div>"])),Fe("table-row"),l))}return vt(ih||(ih=ft(['<div class="','">',"</div>"],['<div class="','">',"</div>"])),Fe("table"),i)},e.prototype.render=function(){var t=this,n=this.getTableRange(),a=this.getSelectionAreaBound();return vt(oh||(oh=ft([`
      <div aria-label="`,`">
        <div
          class="`,`"
          ref=`,`
          onMousemove=`,`
          onClick=`,`
        >
          `,`
          <div class="`,'" style=',`></div>
        </div>
        <p class="`,'">',`</p>
      </div>
    `],[`
      <div aria-label="`,`">
        <div
          class="`,`"
          ref=`,`
          onMousemove=`,`
          onClick=`,`
        >
          `,`
          <div class="`,'" style=',`></div>
        </div>
        <p class="`,'">',`</p>
      </div>
    `])),Ze.get("Insert table"),Fe("table-selection"),function(i){return t.refs.tableEl=i},this.extendSelectionRange,this.execCommand,this.createTableArea(n),Fe("table-selection-layer"),a,Fe("table-description"),this.getDescription())},e}(Sr),nh,ah,ih,oh,WUe=function(r){Pe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.mounted=function(){this.refs.el.appendChild(this.props.body)},e.prototype.updated=function(t){this.refs.el.replaceChild(this.props.body,t.body)},e.prototype.render=function(){var t=this;return vt(sh||(sh=ft(["<div ref=","></div>"],["<div ref=","></div>"])),function(n){return t.refs.el=n})},e}(Sr),sh;function Gc(r){return ha(r)?KUe(r):r}function GUe(){var r=document.createElement("label"),e=document.createElement("input"),t=document.createElement("span");r.className="scroll-sync active",e.type="checkbox",e.checked=!0,t.className="switch";var n=function(a){return e.addEventListener("change",function(i){var o=i.target.checked;o?$n(r,"active"):Tn(r,"active"),a("toggleScrollSync",{active:o})})};return r.appendChild(e),r.appendChild(t),{name:"scrollSync",el:r,onMounted:n}}function KUe(r){var e;switch(r){case"heading":e={name:"heading",className:"heading",tooltip:Ze.get("Headings"),state:"heading"};break;case"bold":e={name:"bold",className:"bold",command:"bold",tooltip:Ze.get("Bold"),state:"strong"};break;case"italic":e={name:"italic",className:"italic",command:"italic",tooltip:Ze.get("Italic"),state:"emph"};break;case"strike":e={name:"strike",className:"strike",command:"strike",tooltip:Ze.get("Strike"),state:"strike"};break;case"hr":e={name:"hr",className:"hrline",command:"hr",tooltip:Ze.get("Line"),state:"thematicBreak"};break;case"quote":e={name:"quote",className:"quote",command:"blockQuote",tooltip:Ze.get("Blockquote"),state:"blockQuote"};break;case"ul":e={name:"ul",className:"bullet-list",command:"bulletList",tooltip:Ze.get("Unordered list"),state:"bulletList"};break;case"ol":e={name:"ol",className:"ordered-list",command:"orderedList",tooltip:Ze.get("Ordered list"),state:"orderedList"};break;case"task":e={name:"task",className:"task-list",command:"taskList",tooltip:Ze.get("Task"),state:"taskList"};break;case"table":e={name:"table",className:"table",tooltip:Ze.get("Insert table"),state:"table"};break;case"image":e={name:"image",className:"image",tooltip:Ze.get("Insert image")};break;case"link":e={name:"link",className:"link",tooltip:Ze.get("Insert link")};break;case"code":e={name:"code",className:"code",command:"code",tooltip:Ze.get("Code"),state:"code"};break;case"codeblock":e={name:"codeblock",className:"codeblock",command:"codeBlock",tooltip:Ze.get("Insert CodeBlock"),state:"codeBlock"};break;case"indent":e={name:"indent",className:"indent",command:"indent",tooltip:Ze.get("Indent"),state:"indent"};break;case"outdent":e={name:"outdent",className:"outdent",command:"outdent",tooltip:Ze.get("Outdent"),state:"outdent"};break;case"scrollSync":e=GUe();break;case"more":e={name:"more",className:"more",tooltip:Ze.get("More")};break}return e.name!=="scrollSync"&&(e.className+=" "+Fe("toolbar-icons")),e}function If(r,e){var t=e.el,n=e.pos,a=e.popup,i=e.initialValues;switch(r){case"heading":return{render:function(o){return vt(lh||(lh=ft(["<"," ..."," />"],["<"," ..."," />"])),HUe,o)},className:Fe("popup-add-heading"),fromEl:t,pos:n};case"link":return{render:function(o){return vt(uh||(uh=ft(["<"," ..."," />"],["<"," ..."," />"])),$Ue,o)},className:Fe("popup-add-link"),fromEl:t,pos:n,initialValues:i};case"image":return{render:function(o){return vt(ch||(ch=ft(["<"," ..."," />"],["<"," ..."," />"])),zUe,o)},className:Fe("popup-add-image"),fromEl:t,pos:n};case"table":return{render:function(o){return vt(fh||(fh=ft(["<"," ..."," />"],["<"," ..."," />"])),jUe,o)},className:Fe("popup-add-table"),fromEl:t,pos:n};case"customPopupBody":return a?ce({render:function(o){return vt(vh||(vh=ft(["<"," ..."," body="," />"],["<"," ..."," body="," />"])),WUe,o,a.body)},fromEl:t,pos:n},a):null;default:return null}}function al(r){r.hidden=r.length===r.filter(function(e){return e.hidden}).length}function JUe(r,e){var t=function(n){return n.hidden=n.name==="scrollSync"&&e,n};return r.reduce(function(n,a){n.push(a.map(function(o){return t(Gc(o))}));var i=n[(n.length||1)-1];return i&&al(i),n},[])}function QUe(r,e){r.forEach(function(t){t.forEach(function(n){return n.hidden=n.name==="scrollSync"&&e}),al(t)})}var lh,uh,ch,fh,vh,XUe=20,ZUe=function(r){Pe(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.handleMousedown=function(n){!Vn(n.target,"."+Fe("popup"))&&!Vn(n.target,t.props.info.fromEl)&&t.props.hidePopup()},t}return e.prototype.mounted=function(){document.addEventListener("mousedown",this.handleMousedown),this.props.eventEmitter.listen("closePopup",this.props.hidePopup)},e.prototype.beforeDestroy=function(){document.removeEventListener("mousedown",this.handleMousedown)},e.prototype.updated=function(t){var n=this.props,a=n.show,i=n.info;if(a&&i.pos&&t.show!==a){var o=ce({},i.pos),l=this.refs.el.offsetWidth,d=Vn(this.refs.el,"."+Fe("toolbar")),g=d.offsetWidth;o.left+l>=g&&(o.left=g-l-XUe),sf(this.state.popupPos,o)||this.setState({popupPos:o})}},e.prototype.render=function(){var t=this,n=this.props,a=n.info,i=n.show,o=n.hidePopup,l=n.eventEmitter,d=n.execCommand,g=a||{},C=g.className,T=C===void 0?"":C,S=g.style,M=g.render,O=g.initialValues,I=O===void 0?{}:O,q=ce(ce({display:i?"block":"none"},S),this.state.popupPos);return vt(ph||(ph=ft([`
      <div
        class="`," ",`"
        style=`,`
        ref=`,`
        aria-role="dialog"
      >
        <div class="`,`">
          `,`
        </div>
      </div>
    `],[`
      <div
        class="`," ",`"
        style=`,`
        ref=`,`
        aria-role="dialog"
      >
        <div class="`,`">
          `,`
        </div>
      </div>
    `])),Fe("popup"),T,q,function(z){return t.refs.el=z},Fe("popup-body"),M&&M({eventEmitter:l,show:i,hidePopup:o,execCommand:d,initialValues:I}))},e}(Sr),ph,dh=6;function Pf(r){return function(e){Pe(t,e);function t(n){var a=e.call(this,n)||this;return a.showTooltip=function(i){var o=a.props.item.tooltip;if(!a.props.disabled&&o){var l=a.getBound(i),d=l.left+dh+"px",g=l.top+dh+"px";Un(a.props.tooltipRef.current,{display:"block",left:d,top:g}),a.props.tooltipRef.current.querySelector(".text").textContent=o}},a.hideTooltip=function(){Un(a.props.tooltipRef.current,"display","none")},a.state={active:!1,disabled:n.disabled},a.addEvent(),a}return t.prototype.addEvent=function(){var n=this,a=this.props,i=a.item,o=a.eventEmitter;i.state&&o.listen("changeToolbarState",function(l){var d,g=l.toolbarState,C=(d=g[i.state])!==null&&d!==void 0?d:{},T=C.active,S=C.disabled;n.setState({active:!!T,disabled:S??n.props.disabled})})},t.prototype.getBound=function(n){var a=km(n,Vn(n,"."+Fe("toolbar"))),i=a.offsetLeft,o=a.offsetTop;return{left:i,top:n.offsetHeight+o}},t.prototype.render=function(){return vt(hh||(hh=ft([`
        <`,`
          ...`,`
          active=`,`
          showTooltip=`,`
          hideTooltip=`,`
          getBound=`,`
          disabled=`,`
        />
      `],[`
        <`,`
          ...`,`
          active=`,`
          showTooltip=`,`
          hideTooltip=`,`
          getBound=`,`
          disabled=`,`
        />
      `])),r,this.props,this.state.active,this.showTooltip,this.hideTooltip,this.getBound,this.state.disabled||this.props.disabled)},t}(Sr)}var hh,YUe=80,e3e=function(r){Pe(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.showTooltip=function(){t.props.showTooltip(t.refs.el)},t.execCommand=function(){var n=t.props,a=n.item,i=n.execCommand,o=n.setPopupInfo,l=n.getBound,d=n.eventEmitter,g=a.command,C=a.name,T=a.popup;if(g)i(g);else{var S=T?"customPopupBody":C,M=d.emit("query","getPopupInitialValues",{popupName:S})[0],O=If(S,{el:t.refs.el,pos:l(t.refs.el),popup:T,initialValues:M});O&&o(O)}},t}return e.prototype.mounted=function(){this.setItemWidth()},e.prototype.updated=function(t){t.item.name!==this.props.item.name&&this.setItemWidth()},e.prototype.setItemWidth=function(){var t=this.props,n=t.setItemWidth,a=t.item;n&&n(a.name,mf(this.refs.el)+(a.hidden?YUe:0))},e.prototype.render=function(){var t=this,n=this.props,a=n.hideTooltip,i=n.disabled,o=n.item,l=n.active,d=ce({display:o.hidden?"none":null},o.style),g=""+(o.className||"")+(l?" active":"");return vt(mh||(mh=ft([`
      <button
        ref=`,`
        type="button"
        style=`,`
        class=`,`
        onClick=`,`
        onMouseover=`,`
        onMouseout=`,`
        disabled=`,`
        aria-label=`,`
      >
        `,`
      </button>
    `],[`
      <button
        ref=`,`
        type="button"
        style=`,`
        class=`,`
        onClick=`,`
        onMouseover=`,`
        onMouseout=`,`
        disabled=`,`
        aria-label=`,`
      >
        `,`
      </button>
    `])),function(C){return t.refs.el=C},d,g,this.execCommand,this.showTooltip,a,!!i,o.text||o.tooltip||"",o.text||"")},e}(Sr),t3e=Pf(e3e),mh,r3e=function(r){Pe(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.showTooltip=function(){t.props.showTooltip(t.refs.el)},t.showPopup=function(){var n=If("customPopupBody",{el:t.refs.el,pos:t.props.getBound(t.refs.el),popup:t.props.item.popup});n&&t.props.setPopupInfo(n)},t}return e.prototype.mounted=function(){var t=this.props,n=t.setItemWidth,a=t.item;this.refs.el.appendChild(a.el),n&&n(a.name,mf(this.refs.el)),a.onMounted&&a.onMounted(this.props.execCommand)},e.prototype.updated=function(t){var n,a=this.props,i=a.item,o=a.active,l=a.disabled;(t.active!==o||t.disabled!==l)&&((n=i.onUpdated)===null||n===void 0||n.call(i,{active:o,disabled:l}))},e.prototype.render=function(){var t=this,n=this.props,a=n.disabled,i=n.item,o={display:i.hidden?"none":"inline-block"},l=function(d){return a?null:d};return vt(gh||(gh=ft([`
      <div
        ref=`,`
        style=`,`
        class=`,`
        onClick=`,`
        onMouseover=`,`
        onMouseout=`,`
      ></div>
    `],[`
      <div
        ref=`,`
        style=`,`
        class=`,`
        onClick=`,`
        onMouseover=`,`
        onMouseout=`,`
      ></div>
    `])),function(d){return t.refs.el=d},o,Fe("toolbar-item-wrapper"),l(this.showPopup),l(this.showTooltip),l(this.props.hideTooltip))},e}(Sr),n3e=Pf(r3e),gh,ry=function(r){Pe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.render=function(){var t=this,n=this.props,a=n.group,i=n.hiddenDivider,o=a.hidden?{display:"none"}:null,l=i?{display:"none"}:null;return vt(bh||(bh=ft([`
      <div class="`,'" style=',`>
        `,`
        <div class="`,'" style=',`></div>
      </div>
    `],[`
      <div class="`,'" style=',`>
        `,`
        <div class="`,'" style=',`></div>
      </div>
    `])),Fe("toolbar-group"),o,a.map(function(d){var g=d.el?n3e:t3e;return vt(yh||(yh=ft(["<"," key="," ..."," item="," />"],["<"," key="," ..."," item="," />"])),g,d.name,t.props,d)}),Fe("toolbar-divider"),l)},e}(Sr),yh,bh,a3e=4,i3e=function(r){Pe(e,r);function e(t){var n=r.call(this,t)||this;return n.handleClickDocument=function(a){var i=a.target;!Vn(i,"."+Fe("dropdown-toolbar"))&&!Vn(i,".more")&&n.setState({showDropdown:!1,dropdownPos:null})},n.showTooltip=function(){n.props.showTooltip(n.refs.el)},n.state={showDropdown:!1,dropdownPos:null},n}return e.prototype.getBound=function(){var t=this.props.getBound(this.refs.el);return t.top+=a3e,ce(ce({},t),{left:null,right:10})},e.prototype.mounted=function(){document.addEventListener("click",this.handleClickDocument)},e.prototype.updated=function(){this.state.showDropdown&&!this.state.dropdownPos&&this.setState({dropdownPos:this.getBound()})},e.prototype.beforeDestroy=function(){document.removeEventListener("click",this.handleClickDocument)},e.prototype.render=function(){var t=this,n=this.state,a=n.showDropdown,i=n.dropdownPos,o=this.props,l=o.disabled,d=o.item,g=o.items,C=o.hideTooltip,T=g.filter(function(O){return!O.hidden}),S=T.length?null:{display:"none"},M=a?null:{display:"none"};return vt(kh||(kh=ft([`
      <div class="`,'" style=',`>
        <button
          ref=`,`
          type="button"
          class=`,`
          onClick=`,`
          onMouseover=`,`
          onMouseout=`,`
          disabled=`,`
        ></button>
        <div
          class="`,`"
          style=`,`
          ref=`,`
        >
          `,`
        </div>
      </div>
    `],[`
      <div class="`,'" style=',`>
        <button
          ref=`,`
          type="button"
          class=`,`
          onClick=`,`
          onMouseover=`,`
          onMouseout=`,`
          disabled=`,`
        ></button>
        <div
          class="`,`"
          style=`,`
          ref=`,`
        >
          `,`
        </div>
      </div>
    `])),Fe("toolbar-group"),S,function(O){return t.refs.el=O},d.className,function(){return t.setState({showDropdown:!0})},this.showTooltip,C,l,Fe("dropdown-toolbar"),ce(ce({},M),i),function(O){return t.refs.dropdownEl=O},T.length?T.map(function(O,I){var q;return vt(wh||(wh=ft([`
                  <`,`
                    group=`,`
                    hiddenDivider=`,`
                    ...`,`
                  />
                `],[`
                  <`,`
                    group=`,`
                    hiddenDivider=`,`
                    ...`,`
                  />
                `])),ry,O,I===T.length-1||((q=T[I+1])===null||q===void 0?void 0:q.hidden),t.props)}):null)},e}(Sr),o3e=Pf(i3e),wh,kh,s3e=50,l3e=function(r){Pe(e,r);function e(t){var n=r.call(this,t)||this;return n.toggleTab=function(a,i){var o=n.props.eventEmitter;if(n.state.activeTab!==i){var l=i==="write"?"changePreviewTabWrite":"changePreviewTabPreview";o.emit(l),n.setState({activeTab:i})}},n.setItemWidth=function(a,i){n.itemWidthMap[a]=i},n.setPopupInfo=function(a){n.setState({showPopup:!0,popupInfo:a})},n.openPopup=function(a,i){i===void 0&&(i={});var o=n.refs.el.querySelector("."+Fe("toolbar-group")+" ."+a);if(o){var l=km(o,Vn(o,"."+Fe("toolbar"))),d=l.offsetLeft,g=l.offsetTop,C=If(a,{el:o,pos:{left:d,top:o.offsetHeight+g},initialValues:i});C&&n.setPopupInfo(C)}},n.hidePopup=function(){n.state.showPopup&&n.setState({showPopup:!1})},n.execCommand=function(a,i){var o=n.props.eventEmitter;o.emit("command",a,i),n.hidePopup()},n.tabs=[{name:"write",text:"Write"},{name:"preview",text:"Preview"}],n.itemWidthMap={},n.initialItems=JUe(t.toolbarItems||[],n.hiddenScrollSync()),n.state={items:n.initialItems,dropdownItems:[],showPopup:!1,popupInfo:{},activeTab:"write"},n.tooltipRef={current:null},n.resizeObserver=new FUe(function(){return n.handleResize()}),n.addEvent(),n}return e.prototype.insertToolbarItem=function(t,n){var a=t.groupIndex,i=t.itemIndex,o=this.initialItems[a];n=Gc(n),o?o.splice(i,0,n):this.initialItems.push([n]),this.setState(this.classifyToolbarItems())},e.prototype.removeToolbarItem=function(t){var n=this;zi(this.initialItems,function(a){var i=!1;return zi(a,function(o,l){return o.name===t?(i=!0,a.splice(l,1),n.setState(n.classifyToolbarItems()),!1):!0}),!i})},e.prototype.addEvent=function(){var t=this,n=this.props.eventEmitter;this.handleResize=wUe(function(){t.setState({items:t.initialItems,dropdownItems:[]}),t.setState(t.classifyToolbarItems())},200),n.listen("openPopup",this.openPopup)},e.prototype.appendTooltipToRoot=function(){var t='<div class="'+Fe("tooltip")+`" style="display:none">
        <div class="arrow"></div>
        <span class="text"></span>
      </div>`;this.tooltipRef.current=wm(t,this.refs.el)},e.prototype.hiddenScrollSync=function(){return this.props.editorType==="wysiwyg"||this.props.previewStyle==="tab"},e.prototype.movePrevItemToDropdownToolbar=function(t,n,a,i){var o=function(d){var g=d.pop();g&&i.push(g)};if(t>1)o(a);else{var l=xr(n);l&&o(l)}},e.prototype.classifyToolbarItems=function(){var t=this,n=0,a=this.refs.el.clientWidth,i=this.refs.el.querySelector("."+Fe("toolbar-divider")),o=i?mf(i):0,l=[],d=[],g=!1;return this.initialItems.forEach(function(C,T){var S=[],M=[];C.forEach(function(O,I){O.hidden||(n+=t.itemWidthMap[O.name],n>a-s3e?(g||(t.movePrevItemToDropdownToolbar(I,l,S,M),g=!0),M.push(O)):S.push(O))}),S.length&&(al(S),l.push(S)),M.length&&(al(M),d.push(M)),T<t.state.items.length-1&&(n+=o)}),{items:l,dropdownItems:d}},e.prototype.mounted=function(){this.props.previewStyle==="tab"&&this.props.eventEmitter.emit("changePreviewTabWrite",!0),this.setState(this.classifyToolbarItems()),this.appendTooltipToRoot(),this.resizeObserver.observe(this.refs.el)},e.prototype.updated=function(t){var n=this.props,a=n.editorType,i=n.previewStyle,o=n.eventEmitter,l=i!==t.previewStyle,d=a!==t.editorType;if(l||d){QUe(this.initialItems,this.hiddenScrollSync());var g=this.classifyToolbarItems();(l||i==="tab"&&a==="markdown")&&(o.emit("changePreviewTabWrite"),g.activeTab="write"),this.setState(g)}},e.prototype.beforeDestroy=function(){window.removeEventListener("resize",this.handleResize),this.resizeObserver.disconnect(),si(this.tooltipRef.current)},e.prototype.render=function(){var t=this,n=this.props,a=n.previewStyle,i=n.eventEmitter,o=n.editorType,l=this.state,d=l.popupInfo,g=l.showPopup,C=l.activeTab,T=l.items,S=l.dropdownItems,M={eventEmitter:i,tooltipRef:this.tooltipRef,disabled:o==="markdown"&&a==="tab"&&C==="preview",execCommand:this.execCommand,setPopupInfo:this.setPopupInfo},O=a==="tab"?{borderTopLeftRadius:0}:null;return vt(Th||(Th=ft([`
      <div class="`,`">
        <div
          class="`,`"
          style="display: `,`"
        >
          <`," tabs="," activeTab="," onClick=",` />
        </div>
        <div
          class="`,`"
          ref=`,`
          style=`,`
        >
          `,`
          <`,`
            item=`,`
            items=`,`
            ...`,`
          />
        </div>
        <`,`
          info=`,`
          show=`,`
          eventEmitter=`,`
          hidePopup=`,`
          execCommand=`,`
        />
      </div>
    `],[`
      <div class="`,`">
        <div
          class="`,`"
          style="display: `,`"
        >
          <`," tabs="," activeTab="," onClick=",` />
        </div>
        <div
          class="`,`"
          ref=`,`
          style=`,`
        >
          `,`
          <`,`
            item=`,`
            items=`,`
            ...`,`
          />
        </div>
        <`,`
          info=`,`
          show=`,`
          eventEmitter=`,`
          hidePopup=`,`
          execCommand=`,`
        />
      </div>
    `])),Fe("toolbar"),Fe("md-tab-container"),o==="wysiwyg"||a==="vertical"?"none":"block",ty,this.tabs,C,this.toggleTab,Fe("defaultUI-toolbar"),function(I){return t.refs.el=I},O,T.map(function(I,q){var z;return vt(Ch||(Ch=ft([`
              <`,`
                group=`,`
                hiddenDivider=`,`
                setItemWidth=`,`
                ...`,`
              />
            `],[`
              <`,`
                group=`,`
                hiddenDivider=`,`
                setItemWidth=`,`
                ...`,`
              />
            `])),ry,I,q===T.length-1||((z=T[q+1])===null||z===void 0?void 0:z.hidden),t.setItemWidth,M)}),o3e,Gc("more"),S,M,ZUe,d,g,i,this.hidePopup,this.execCommand)},e}(Sr),Ch,Th,u3e=function(r){Pe(e,r);function e(t){var n=r.call(this,t)||this;return n.handleClickDocument=function(a){Vn(a.target,"."+Fe("context-menu"))||n.setState({pos:null})},n.state={pos:null,menuGroups:[]},n.addEvent(),n}return e.prototype.addEvent=function(){var t=this;this.props.eventEmitter.listen("contextmenu",function(n){var a=n.pos,i=n.menuGroups;t.setState({pos:a,menuGroups:i})})},e.prototype.mounted=function(){document.addEventListener("click",this.handleClickDocument)},e.prototype.beforeDestroy=function(){document.removeEventListener("click",this.handleClickDocument)},e.prototype.getMenuGroupElements=function(){var t=this,n=this.state,a=n.pos,i=n.menuGroups;return a?i.reduce(function(o,l){var d=[];return l.forEach(function(g){var C=g.label,T=g.className,S=T===void 0?!1:T,M=g.disabled,O=g.onClick,I=function(){M||(O(),t.setState({pos:null}))};d.push(vt(Eh||(Eh=ft([`
                <li
                  onClick=`,`
                  class="menu-item`,`"
                  aria-role="menuitem"
                >
                  <span class="`,'">',`</span>
                </li>
              `],[`
                <li
                  onClick=`,`
                  class="menu-item`,`"
                  aria-role="menuitem"
                >
                  <span class="`,'">',`</span>
                </li>
              `])),I,M?" disabled":"",S,C))}),o.push(vt(xh||(xh=ft([`<ul class="menu-group">
              `,`
            </ul>`],[`<ul class="menu-group">
              `,`
            </ul>`])),d)),o},[]):[]},e.prototype.render=function(){var t=ce({display:this.state.pos?"block":"none"},this.state.pos);return vt(Sh||(Sh=ft(['<div class="','" style=',` aria-role="menu">
      `,`
    </div>`],['<div class="','" style=',` aria-role="menu">
      `,`
    </div>`])),Fe("context-menu"),t,this.getMenuGroupElements())},e}(Sr),Eh,xh,Sh,c3e=function(r){Pe(e,r);function e(t){var n=r.call(this,t)||this;n.changeMode=function(o){o!==n.state.editorType&&n.setState({editorType:o})},n.changePreviewStyle=function(o){o!==n.state.previewStyle&&n.setState({previewStyle:o})},n.hide=function(){n.setState({hide:!0})},n.show=function(){n.setState({hide:!1})};var a=t.editorType,i=t.previewStyle;return n.state={editorType:a,previewStyle:i,hide:!1},n.addEvent(),n}return e.prototype.mounted=function(){var t=this.props.slots,n=t.wwEditor,a=t.mdEditor,i=t.mdPreview;this.refs.wwContainer.appendChild(n),this.refs.mdContainer.insertAdjacentElement("afterbegin",a),this.refs.mdContainer.appendChild(i)},e.prototype.insertToolbarItem=function(t,n){this.toolbar.insertToolbarItem(t,n)},e.prototype.removeToolbarItem=function(t){this.toolbar.removeToolbarItem(t)},e.prototype.render=function(){var t=this,n=this.props,a=n.eventEmitter,i=n.hideModeSwitch,o=n.toolbarItems,l=n.theme,d=this.state,g=d.hide,C=d.previewStyle,T=d.editorType,S=g?" hidden":"",M=Fe(T==="markdown"?"md-mode":"ww-mode"),O=Fe("md")+"-"+C+"-style",I=Fe([l!=="light",l+" "]);return vt(Ah||(Ah=ft([`
      <div
        class="`,"","",`"
        ref=`,`
      >
        <`,`
          ref=`,`
          eventEmitter=`,`
          previewStyle=`,`
          toolbarItems=`,`
          editorType=`,`
        />
        <div
          class="`," ",`"
          ref=`,`
        >
          <div class="`,`">
            <div
              class="`," ",`"
              ref=`,`
            >
              <div class="`,`"></div>
            </div>
            <div
              class="`,`"
              ref=`,`
            />
          </div>
        </div>
        `,`
        <`," eventEmitter=",` />
      </div>
    `],[`
      <div
        class="`,"","",`"
        ref=`,`
      >
        <`,`
          ref=`,`
          eventEmitter=`,`
          previewStyle=`,`
          toolbarItems=`,`
          editorType=`,`
        />
        <div
          class="`," ",`"
          ref=`,`
        >
          <div class="`,`">
            <div
              class="`," ",`"
              ref=`,`
            >
              <div class="`,`"></div>
            </div>
            <div
              class="`,`"
              ref=`,`
            />
          </div>
        </div>
        `,`
        <`," eventEmitter=",` />
      </div>
    `])),I,Fe("defaultUI"),S,function(q){return t.refs.el=q},l3e,function(q){return t.toolbar=q},a,C,o,T,Fe("main"),M,function(q){return t.refs.editorSection=q},Fe("main-container"),Fe("md-container"),O,function(q){return t.refs.mdContainer=q},Fe("md-splitter"),Fe("ww-container"),function(q){return t.refs.wwContainer=q},!i&&vt(Mh||(Mh=ft(["<"," eventEmitter="," editorType="," />"],["<"," eventEmitter="," editorType="," />"])),hUe,a,T),u3e,a)},e.prototype.addEvent=function(){var t=this.props.eventEmitter;t.listen("hide",this.hide),t.listen("show",this.show),t.listen("changeMode",this.changeMode),t.listen("changePreviewStyle",this.changePreviewStyle)},e}(Sr),Mh,Ah,f3e=function(r){Pe(e,r);function e(t){var n,a=r.call(this,t)||this,i,o=dUe(a.options.el,vt(Lh||(Lh=ft([`
        <`,`
          ref=`,`
          eventEmitter=`,`
          slots=`,`
          hideModeSwitch=`,`
          toolbarItems=`,`
          previewStyle=`,`
          editorType=`,`
          theme=`,`
        />
      `],[`
        <`,`
          ref=`,`
          eventEmitter=`,`
          slots=`,`
          hideModeSwitch=`,`
          toolbarItems=`,`
          previewStyle=`,`
          editorType=`,`
          theme=`,`
        />
      `])),c3e,function(l){return i=l},a.eventEmitter,a.getEditorElements(),a.options.hideModeSwitch,a.options.toolbarItems,a.options.previewStyle,a.options.initialEditType,a.options.theme));return a.setMinHeight(a.options.minHeight),a.setHeight(a.options.height),a.defaultUI={insertToolbarItem:i.insertToolbarItem.bind(i),removeToolbarItem:i.removeToolbarItem.bind(i),destroy:o},(n=a.pluginInfo.toolbarItems)===null||n===void 0||n.forEach(function(l){var d=l.groupIndex,g=l.itemIndex,C=l.item;a.defaultUI.insertToolbarItem({groupIndex:d,itemIndex:g},C)}),a.eventEmitter.emit("loadUI",a),a}return e.factory=function(t){return t.viewer?new Ug(t):new e(t)},e.prototype.insertToolbarItem=function(t,n){this.defaultUI.insertToolbarItem(t,n)},e.prototype.removeToolbarItem=function(t){this.defaultUI.removeToolbarItem(t)},e.prototype.destroy=function(){r.prototype.destroy.call(this),this.defaultUI.destroy()},e}(Wg),Lh;Wg.setLanguage(["en","en-US"],{Markdown:"Markdown",WYSIWYG:"WYSIWYG",Write:"Write",Preview:"Preview",Headings:"Headings",Paragraph:"Paragraph",Bold:"Bold",Italic:"Italic",Strike:"Strike",Code:"Inline code",Line:"Line",Blockquote:"Blockquote","Unordered list":"Unordered list","Ordered list":"Ordered list",Task:"Task",Indent:"Indent",Outdent:"Outdent","Insert link":"Insert link","Insert CodeBlock":"Insert codeBlock","Insert table":"Insert table","Insert image":"Insert image",Heading:"Heading","Image URL":"Image URL","Select image file":"Select image file","Choose a file":"Choose a file","No file":"No file",Description:"Description",OK:"OK",More:"More",Cancel:"Cancel",File:"File",URL:"URL","Link text":"Link text","Add row to up":"Add row to up","Add row to down":"Add row to down","Add column to left":"Add column to left","Add column to right":"Add column to right","Remove row":"Remove row","Remove column":"Remove column","Align column to left":"Align column to left","Align column to center":"Align column to center","Align column to right":"Align column to right","Remove table":"Remove table","Would you like to paste as table?":"Would you like to paste as table?","Text color":"Text color","Auto scroll enabled":"Auto scroll enabled","Auto scroll disabled":"Auto scroll disabled","Choose language":"Choose language"});var ny={exports:{}};/*!
 * @toast-ui/editor
 * @version 3.2.2 | Fri Feb 17 2023
 * @author NHN Cloud FE Development Lab <dl_javascript@nhn.com>
 * @license MIT
 */(function(r,e){(function(n,a){r.exports=a(tm(),Wh(),il(),Mo(),jh())})(self,function(t,n,a,i,o){return function(){var l={368:function(T){/*! @license DOMPurify 2.3.3 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.3.3/LICENSE */(function(S,M){T.exports=M()})(this,function(){function S(De){if(Array.isArray(De)){for(var Re=0,Ge=Array(De.length);Re<De.length;Re++)Ge[Re]=De[Re];return Ge}else return Array.from(De)}var M=Object.hasOwnProperty,O=Object.setPrototypeOf,I=Object.isFrozen,q=Object.getPrototypeOf,z=Object.getOwnPropertyDescriptor,V=Object.freeze,G=Object.seal,Z=Object.create,ne=typeof Reflect<"u"&&Reflect,X=ne.apply,oe=ne.construct;X||(X=function(Re,Ge,Qe){return Re.apply(Ge,Qe)}),V||(V=function(Re){return Re}),G||(G=function(Re){return Re}),oe||(oe=function(Re,Ge){return new(Function.prototype.bind.apply(Re,[null].concat(S(Ge))))});var ve=Tt(Array.prototype.forEach),ye=Tt(Array.prototype.pop),Me=Tt(Array.prototype.push),Ke=Tt(String.prototype.toLowerCase),Oe=Tt(String.prototype.match),st=Tt(String.prototype.replace),Ye=Tt(String.prototype.indexOf),_t=Tt(String.prototype.trim),it=Tt(RegExp.prototype.test),wt=Kt(TypeError);function Tt(De){return function(Re){for(var Ge=arguments.length,Qe=Array(Ge>1?Ge-1:0),pt=1;pt<Ge;pt++)Qe[pt-1]=arguments[pt];return X(De,Re,Qe)}}function Kt(De){return function(){for(var Re=arguments.length,Ge=Array(Re),Qe=0;Qe<Re;Qe++)Ge[Qe]=arguments[Qe];return oe(De,Ge)}}function ze(De,Re){O&&O(De,null);for(var Ge=Re.length;Ge--;){var Qe=Re[Ge];if(typeof Qe=="string"){var pt=Ke(Qe);pt!==Qe&&(I(Re)||(Re[Ge]=pt),Qe=pt)}De[Qe]=!0}return De}function ot(De){var Re=Z(null),Ge=void 0;for(Ge in De)X(M,De,[Ge])&&(Re[Ge]=De[Ge]);return Re}function rt(De,Re){for(;De!==null;){var Ge=z(De,Re);if(Ge){if(Ge.get)return Tt(Ge.get);if(typeof Ge.value=="function")return Tt(Ge.value)}De=q(De)}function Qe(pt){return console.warn("fallback value for",pt),null}return Qe}var Et=V(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),kt=V(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Jt=V(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Lt=V(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),rr=V(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),le=V(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),ae=V(["#text"]),K=V(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Q=V(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),U=V(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),ue=V(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),de=G(/\{\{[\s\S]*|[\s\S]*\}\}/gm),Ne=G(/<%[\s\S]*|[\s\S]*%>/gm),He=G(/^data-[\-\w.\u00B7-\uFFFF]/),lt=G(/^aria-[\-\w]+$/),Je=G(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),xt=G(/^(?:\w+script|data):/i),mt=G(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Pt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(De){return typeof De}:function(De){return De&&typeof Symbol=="function"&&De.constructor===Symbol&&De!==Symbol.prototype?"symbol":typeof De};function gt(De){if(Array.isArray(De)){for(var Re=0,Ge=Array(De.length);Re<De.length;Re++)Ge[Re]=De[Re];return Ge}else return Array.from(De)}var nr=function(){return typeof window>"u"?null:window},An=function(Re,Ge){if((typeof Re>"u"?"undefined":Pt(Re))!=="object"||typeof Re.createPolicy!="function")return null;var Qe=null,pt="data-tt-policy-suffix";Ge.currentScript&&Ge.currentScript.hasAttribute(pt)&&(Qe=Ge.currentScript.getAttribute(pt));var vr="dompurify"+(Qe?"#"+Qe:"");try{return Re.createPolicy(vr,{createHTML:function(Xt){return Xt}})}catch{return console.warn("TrustedTypes policy "+vr+" could not be created."),null}};function fn(){var De=arguments.length>0&&arguments[0]!==void 0?arguments[0]:nr(),Re=function(te){return fn(te)};if(Re.version="2.3.3",Re.removed=[],!De||!De.document||De.document.nodeType!==9)return Re.isSupported=!1,Re;var Ge=De.document,Qe=De.document,pt=De.DocumentFragment,vr=De.HTMLTemplateElement,Bt=De.Node,Xt=De.Element,Qr=De.NodeFilter,Ln=De.NamedNodeMap,pr=Ln===void 0?De.NamedNodeMap||De.MozNamedAttrMap:Ln,Or=De.Text,Dn=De.Comment,vn=De.DOMParser,pn=De.trustedTypes,_r=Xt.prototype,Nr=rt(_r,"cloneNode"),ar=rt(_r,"nextSibling"),On=rt(_r,"childNodes"),St=rt(_r,"parentNode");if(typeof vr=="function"){var ir=Qe.createElement("template");ir.content&&ir.content.ownerDocument&&(Qe=ir.content.ownerDocument)}var Dt=An(pn,Ge),zr=Dt&&Rn?Dt.createHTML(""):"",Mr=Qe,Tr=Mr.implementation,dr=Mr.createNodeIterator,dn=Mr.createDocumentFragment,Xr=Mr.getElementsByTagName,Zr=Ge.importNode,Nn={};try{Nn=ot(Qe).documentMode?Qe.documentMode:{}}catch{}var Ee={};Re.isSupported=typeof St=="function"&&Tr&&typeof Tr.createHTMLDocument<"u"&&Nn!==9;var Y=de,we=Ne,Ae=He,et=lt,Ct=xt,N=mt,E=Je,h=null,w=ze({},[].concat(gt(Et),gt(kt),gt(Jt),gt(rr),gt(ae))),L=null,P=ze({},[].concat(gt(K),gt(Q),gt(U),gt(ue))),H=null,$=null,ee=!0,ie=!0,be=!1,ge=!1,Se=!1,Ve=!1,ut=!1,Mt=!1,Rr=!1,hn=!0,Rn=!1,fi=!0,Ra=!0,Wn=!1,Yr={},en=null,Ia=ze({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Ir=null,Pa=ze({},["audio","video","img","source","image","track"]),ga=null,ya=ze({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ba="http://www.w3.org/1998/Math/MathML",Ba="http://www.w3.org/2000/svg",tn="http://www.w3.org/1999/xhtml",Gn=tn,wa=!1,rn=void 0,vi=["application/xhtml+xml","text/html"],pi="text/html",In=void 0,nn=null,an=Qe.createElement("form"),ka=function(te){nn&&nn===te||((!te||(typeof te>"u"?"undefined":Pt(te))!=="object")&&(te={}),te=ot(te),h="ALLOWED_TAGS"in te?ze({},te.ALLOWED_TAGS):w,L="ALLOWED_ATTR"in te?ze({},te.ALLOWED_ATTR):P,ga="ADD_URI_SAFE_ATTR"in te?ze(ot(ya),te.ADD_URI_SAFE_ATTR):ya,Ir="ADD_DATA_URI_TAGS"in te?ze(ot(Pa),te.ADD_DATA_URI_TAGS):Pa,en="FORBID_CONTENTS"in te?ze({},te.FORBID_CONTENTS):Ia,H="FORBID_TAGS"in te?ze({},te.FORBID_TAGS):{},$="FORBID_ATTR"in te?ze({},te.FORBID_ATTR):{},Yr="USE_PROFILES"in te?te.USE_PROFILES:!1,ee=te.ALLOW_ARIA_ATTR!==!1,ie=te.ALLOW_DATA_ATTR!==!1,be=te.ALLOW_UNKNOWN_PROTOCOLS||!1,ge=te.SAFE_FOR_TEMPLATES||!1,Se=te.WHOLE_DOCUMENT||!1,Mt=te.RETURN_DOM||!1,Rr=te.RETURN_DOM_FRAGMENT||!1,hn=te.RETURN_DOM_IMPORT!==!1,Rn=te.RETURN_TRUSTED_TYPE||!1,ut=te.FORCE_BODY||!1,fi=te.SANITIZE_DOM!==!1,Ra=te.KEEP_CONTENT!==!1,Wn=te.IN_PLACE||!1,E=te.ALLOWED_URI_REGEXP||E,Gn=te.NAMESPACE||tn,rn=vi.indexOf(te.PARSER_MEDIA_TYPE)===-1?rn=pi:rn=te.PARSER_MEDIA_TYPE,In=rn==="application/xhtml+xml"?function(Ce){return Ce}:Ke,ge&&(ie=!1),Rr&&(Mt=!0),Yr&&(h=ze({},[].concat(gt(ae))),L=[],Yr.html===!0&&(ze(h,Et),ze(L,K)),Yr.svg===!0&&(ze(h,kt),ze(L,Q),ze(L,ue)),Yr.svgFilters===!0&&(ze(h,Jt),ze(L,Q),ze(L,ue)),Yr.mathMl===!0&&(ze(h,rr),ze(L,U),ze(L,ue))),te.ADD_TAGS&&(h===w&&(h=ot(h)),ze(h,te.ADD_TAGS)),te.ADD_ATTR&&(L===P&&(L=ot(L)),ze(L,te.ADD_ATTR)),te.ADD_URI_SAFE_ATTR&&ze(ga,te.ADD_URI_SAFE_ATTR),te.FORBID_CONTENTS&&(en===Ia&&(en=ot(en)),ze(en,te.FORBID_CONTENTS)),Ra&&(h["#text"]=!0),Se&&ze(h,["html","head","body"]),h.table&&(ze(h,["tbody"]),delete H.tbody),V&&V(te),nn=te)},Kn=ze({},["mi","mo","mn","ms","mtext"]),Pn=ze({},["foreignobject","desc","title","annotation-xml"]),$r=ze({},kt);ze($r,Jt),ze($r,Lt);var qa=ze({},rr);ze(qa,le);var Zi=function(te){var Ce=St(te);(!Ce||!Ce.tagName)&&(Ce={namespaceURI:tn,tagName:"template"});var qe=Ke(te.tagName),ct=Ke(Ce.tagName);if(te.namespaceURI===Ba)return Ce.namespaceURI===tn?qe==="svg":Ce.namespaceURI===ba?qe==="svg"&&(ct==="annotation-xml"||Kn[ct]):!!$r[qe];if(te.namespaceURI===ba)return Ce.namespaceURI===tn?qe==="math":Ce.namespaceURI===Ba?qe==="math"&&Pn[ct]:!!qa[qe];if(te.namespaceURI===tn){if(Ce.namespaceURI===Ba&&!Pn[ct]||Ce.namespaceURI===ba&&!Kn[ct])return!1;var zt=ze({},["title","style","font","a","script"]);return!qa[qe]&&(zt[qe]||!$r[qe])}return!1},Pr=function(te){Me(Re.removed,{element:te});try{te.parentNode.removeChild(te)}catch{try{te.outerHTML=zr}catch{te.remove()}}},di=function(te,Ce){try{Me(Re.removed,{attribute:Ce.getAttributeNode(te),from:Ce})}catch{Me(Re.removed,{attribute:null,from:Ce})}if(Ce.removeAttribute(te),te==="is"&&!L[te])if(Mt||Rr)try{Pr(Ce)}catch{}else try{Ce.setAttribute(te,"")}catch{}},hi=function(te){var Ce=void 0,qe=void 0;if(ut)te="<remove></remove>"+te;else{var ct=Oe(te,/^[\r\n\t ]+/);qe=ct&&ct[0]}rn==="application/xhtml+xml"&&(te='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+te+"</body></html>");var zt=Dt?Dt.createHTML(te):te;if(Gn===tn)try{Ce=new vn().parseFromString(zt,rn)}catch{}if(!Ce||!Ce.documentElement){Ce=Tr.createDocument(Gn,"template",null);try{Ce.documentElement.innerHTML=wa?"":zt}catch{}}var $t=Ce.body||Ce.documentElement;return te&&qe&&$t.insertBefore(Qe.createTextNode(qe),$t.childNodes[0]||null),Gn===tn?Xr.call(Ce,Se?"html":"body")[0]:Se?Ce.documentElement:$t},Ca=function(te){return dr.call(te.ownerDocument||te,te,Qr.SHOW_ELEMENT|Qr.SHOW_COMMENT|Qr.SHOW_TEXT,null,!1)},mi=function(te){return te instanceof Or||te instanceof Dn?!1:typeof te.nodeName!="string"||typeof te.textContent!="string"||typeof te.removeChild!="function"||!(te.attributes instanceof pr)||typeof te.removeAttribute!="function"||typeof te.setAttribute!="function"||typeof te.namespaceURI!="string"||typeof te.insertBefore!="function"},Bn=function(te){return(typeof Bt>"u"?"undefined":Pt(Bt))==="object"?te instanceof Bt:te&&(typeof te>"u"?"undefined":Pt(te))==="object"&&typeof te.nodeType=="number"&&typeof te.nodeName=="string"},Br=function(te,Ce,qe){Ee[te]&&ve(Ee[te],function(ct){ct.call(Re,Ce,qe,nn)})},Fa=function(te){var Ce=void 0;if(Br("beforeSanitizeElements",te,null),mi(te)||Oe(te.nodeName,/[\u0080-\uFFFF]/))return Pr(te),!0;var qe=In(te.nodeName);if(Br("uponSanitizeElement",te,{tagName:qe,allowedTags:h}),!Bn(te.firstElementChild)&&(!Bn(te.content)||!Bn(te.content.firstElementChild))&&it(/<[/\w]/g,te.innerHTML)&&it(/<[/\w]/g,te.textContent)||qe==="select"&&it(/<template/i,te.innerHTML))return Pr(te),!0;if(!h[qe]||H[qe]){if(Ra&&!en[qe]){var ct=St(te)||te.parentNode,zt=On(te)||te.childNodes;if(zt&&ct)for(var $t=zt.length,qt=$t-1;qt>=0;--qt)ct.insertBefore(Nr(zt[qt],!0),ar(te))}return Pr(te),!0}return te instanceof Xt&&!Zi(te)||(qe==="noscript"||qe==="noembed")&&it(/<\/no(script|embed)/i,te.innerHTML)?(Pr(te),!0):(ge&&te.nodeType===3&&(Ce=te.textContent,Ce=st(Ce,Y," "),Ce=st(Ce,we," "),te.textContent!==Ce&&(Me(Re.removed,{element:te.cloneNode()}),te.textContent=Ce)),Br("afterSanitizeElements",te,null),!1)},gi=function(te,Ce,qe){if(fi&&(Ce==="id"||Ce==="name")&&(qe in Qe||qe in an))return!1;if(!(ie&&!$[Ce]&&it(Ae,Ce))){if(!(ee&&it(et,Ce))){if(!L[Ce]||$[Ce])return!1;if(!ga[Ce]){if(!it(E,st(qe,N,""))){if(!((Ce==="src"||Ce==="xlink:href"||Ce==="href")&&te!=="script"&&Ye(qe,"data:")===0&&Ir[te])){if(!(be&&!it(Ct,st(qe,N,"")))){if(qe)return!1}}}}}}return!0},yi=function(te){var Ce=void 0,qe=void 0,ct=void 0,zt=void 0;Br("beforeSanitizeAttributes",te,null);var $t=te.attributes;if($t){var qt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:L};for(zt=$t.length;zt--;){Ce=$t[zt];var qr=Ce,qn=qr.name,Ha=qr.namespaceURI;if(qe=_t(Ce.value),ct=In(qn),qt.attrName=ct,qt.attrValue=qe,qt.keepAttr=!0,qt.forceKeepAttr=void 0,Br("uponSanitizeAttribute",te,qt),qe=qt.attrValue,!qt.forceKeepAttr&&(di(qn,te),!!qt.keepAttr)){if(it(/\/>/i,qe)){di(qn,te);continue}ge&&(qe=st(qe,Y," "),qe=st(qe,we," "));var bi=In(te.nodeName);if(gi(bi,ct,qe))try{Ha?te.setAttributeNS(Ha,qn,qe):te.setAttribute(qn,qe),ye(Re.removed)}catch{}}}Br("afterSanitizeAttributes",te,null)}},Yi=function _e(te){var Ce=void 0,qe=Ca(te);for(Br("beforeSanitizeShadowDOM",te,null);Ce=qe.nextNode();)Br("uponSanitizeShadowNode",Ce,null),!Fa(Ce)&&(Ce.content instanceof pt&&_e(Ce.content),yi(Ce));Br("afterSanitizeShadowDOM",te,null)};return Re.sanitize=function(_e,te){var Ce=void 0,qe=void 0,ct=void 0,zt=void 0,$t=void 0;if(wa=!_e,wa&&(_e="<!-->"),typeof _e!="string"&&!Bn(_e)){if(typeof _e.toString!="function")throw wt("toString is not a function");if(_e=_e.toString(),typeof _e!="string")throw wt("dirty is not a string, aborting")}if(!Re.isSupported){if(Pt(De.toStaticHTML)==="object"||typeof De.toStaticHTML=="function"){if(typeof _e=="string")return De.toStaticHTML(_e);if(Bn(_e))return De.toStaticHTML(_e.outerHTML)}return _e}if(Ve||ka(te),Re.removed=[],typeof _e=="string"&&(Wn=!1),!Wn)if(_e instanceof Bt)Ce=hi("<!---->"),qe=Ce.ownerDocument.importNode(_e,!0),qe.nodeType===1&&qe.nodeName==="BODY"||qe.nodeName==="HTML"?Ce=qe:Ce.appendChild(qe);else{if(!Mt&&!ge&&!Se&&_e.indexOf("<")===-1)return Dt&&Rn?Dt.createHTML(_e):_e;if(Ce=hi(_e),!Ce)return Mt?null:zr}Ce&&ut&&Pr(Ce.firstChild);for(var qt=Ca(Wn?_e:Ce);ct=qt.nextNode();)ct.nodeType===3&&ct===zt||Fa(ct)||(ct.content instanceof pt&&Yi(ct.content),yi(ct),zt=ct);if(zt=null,Wn)return _e;if(Mt){if(Rr)for($t=dn.call(Ce.ownerDocument);Ce.firstChild;)$t.appendChild(Ce.firstChild);else $t=Ce;return hn&&($t=Zr.call(Ge,$t,!0)),$t}var qr=Se?Ce.outerHTML:Ce.innerHTML;return ge&&(qr=st(qr,Y," "),qr=st(qr,we," ")),Dt&&Rn?Dt.createHTML(qr):qr},Re.setConfig=function(_e){ka(_e),Ve=!0},Re.clearConfig=function(){nn=null,Ve=!1},Re.isValidAttribute=function(_e,te,Ce){nn||ka({});var qe=In(_e),ct=In(te);return gi(qe,ct,Ce)},Re.addHook=function(_e,te){typeof te=="function"&&(Ee[_e]=Ee[_e]||[],Me(Ee[_e],te))},Re.removeHook=function(_e){Ee[_e]&&ye(Ee[_e])},Re.removeHooks=function(_e){Ee[_e]&&(Ee[_e]=[])},Re.removeAllHooks=function(){Ee={}},Re}var Qt=fn();return Qt})},928:function(T,S,M){var O=M(322);function I(q,z,V){var G,Z;if(V=V||0,!O(z))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(z,q,V);for(Z=z.length,G=V;V>=0&&G<Z;G+=1)if(z[G]===q)return G;return-1}T.exports=I},690:function(T,S,M){var O=M(322),I=M(893),q=M(956);function z(V,G,Z){O(V)?I(V,G,Z):q(V,G,Z)}T.exports=z},893:function(T){function S(M,O,I){var q=0,z=M.length;for(I=I||null;q<z&&O.call(I,M[q],q,M)!==!1;q+=1);}T.exports=S},956:function(T){function S(M,O,I){var q;I=I||null;for(q in M)if(M.hasOwnProperty(q)&&O.call(I,M[q],q,M)===!1)break}T.exports=S},990:function(T,S,M){var O=M(893);function I(q){var z;try{z=Array.prototype.slice.call(q)}catch{z=[],O(q,function(G){z.push(G)})}return z}T.exports=I},755:function(T){var S="_feEventKey";function M(O,I){var q=O[S],z;return q||(q=O[S]={}),z=q[I],z||(z=q[I]=[]),z}T.exports=M},349:function(T,S,M){var O=M(758),I=M(690),q=M(755);function z(Z,ne,X){if(O(ne)){I(ne.split(/\s+/g),function(oe){V(Z,oe,X)});return}I(ne,function(oe,ve){V(Z,ve,oe)})}function V(Z,ne,X){var oe=q(Z,ne),ve;X?(I(oe,function(ye,Me){return X===ye.handler?(G(Z,ne,ye.wrappedHandler),ve=Me,!1):!0}),oe.splice(ve,1)):(I(oe,function(ye){G(Z,ne,ye.wrappedHandler)}),oe.splice(0,oe.length))}function G(Z,ne,X){"removeEventListener"in Z?Z.removeEventListener(ne,X):"detachEvent"in Z&&Z.detachEvent("on"+ne,X)}T.exports=z},348:function(T,S,M){var O=M(758),I=M(690),q=M(755);function z(Z,ne,X,oe){if(O(ne)){I(ne.split(/\s+/g),function(ve){V(Z,ve,X,oe)});return}I(ne,function(ve,ye){V(Z,ye,ve,X)})}function V(Z,ne,X,oe){function ve(ye){X.call(oe||Z,ye||window.event)}"addEventListener"in Z?Z.addEventListener(ne,ve):"attachEvent"in Z&&Z.attachEvent("on"+ne,ve),G(Z,ne,X,ve)}function G(Z,ne,X,oe){var ve=q(Z,ne),ye=!1;I(ve,function(Me){return Me.handler===X?(ye=!0,!1):!0}),ye||ve.push({handler:X,wrappedHandler:oe})}T.exports=z},24:function(T,S,M){var O=M(322),I=M(929);function q(z,V){if(V=O(V)?V.join(" "):V,V=V.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),I(z.className.baseVal)){z.className=V;return}z.className.baseVal=V}T.exports=q},204:function(T,S,M){var O=M(690),I=M(928),q=M(902),z=M(24);function V(G){var Z=Array.prototype.slice.call(arguments,1),ne=G.classList,X=[],oe;if(ne){O(Z,function(ve){G.classList.add(ve)});return}oe=q(G),oe&&(Z=[].concat(oe.split(/\s+/),Z)),O(Z,function(ve){I(ve,X)<0&&X.push(ve)}),z(G,X)}T.exports=V},522:function(T,S,M){var O=M(758),I=M(690);function q(z,V,G){var Z=z.style;if(O(V)){Z[V]=G;return}I(V,function(ne,X){Z[X]=ne})}T.exports=q},902:function(T,S,M){var O=M(929);function I(q){return!q||!q.className?"":O(q.className.baseVal)?q.className:q.className.baseVal}T.exports=I},714:function(T,S,M){var O=M(928),I=M(902);function q(z,V){var G;return z.classList?z.classList.contains(V):(G=I(z).split(/\s+/),O(V,G)>-1)}T.exports=q},471:function(T,S,M){var O=M(928),I=M(990),q=Element.prototype,z=q.matches||q.webkitMatchesSelector||q.mozMatchesSelector||q.msMatchesSelector||function(G){var Z=this.document||this.ownerDocument;return O(this,I(Z.querySelectorAll(G)))>-1};function V(G,Z){return z.call(G,Z)}T.exports=V},462:function(T,S,M){var O=M(893),I=M(928),q=M(902),z=M(24);function V(G){var Z=Array.prototype.slice.call(arguments,1),ne=G.classList,X,oe;if(ne){O(Z,function(ve){ne.remove(ve)});return}X=q(G).split(/\s+/),oe=[],O(X,function(ve){I(ve,Z)<0&&oe.push(ve)}),z(G,oe)}T.exports=V},969:function(T){function S(M,O){var I=Object.prototype.hasOwnProperty,q,z,V,G;for(V=1,G=arguments.length;V<G;V+=1){q=arguments[V];for(z in q)I.call(q,z)&&(M[z]=q[z])}return M}T.exports=S},254:function(T,S,M){var O=M(956);function I(q,z){var V=document.createElement("img"),G="";return O(z,function(Z,ne){G+="&"+ne+"="+Z}),G=G.substring(1),V.src=q+"?"+G,V.style.display="none",document.body.appendChild(V),document.body.removeChild(V),V}T.exports=I},391:function(T,S,M){var O=M(929),I=M(254),q=7*24*60*60*1e3;function z(G){var Z=new Date().getTime();return Z-G>q}function V(G,Z){var ne="https://www.google-analytics.com/collect",X=location.hostname,oe="event",ve="use",ye="TOAST UI "+G+" for "+X+": Statistics",Me=window.localStorage.getItem(ye);!O(window.tui)&&window.tui.usageStatistics===!1||Me&&!z(Me)||(window.localStorage.setItem(ye,new Date().getTime()),setTimeout(function(){(document.readyState==="interactive"||document.readyState==="complete")&&I(ne,{v:1,t:oe,tid:Z,cid:X,dp:X,dh:G,el:G,ec:ve})},1e3))}T.exports=V},322:function(T){function S(M){return M instanceof Array}T.exports=S},65:function(T,S,M){var O=M(929),I=M(934);function q(z){return!O(z)&&!I(z)}T.exports=q},404:function(T,S,M){var O=M(790);function I(q){return!O(q)}T.exports=I},294:function(T){function S(M){return M instanceof Function}T.exports=S},934:function(T){function S(M){return M===null}T.exports=S},758:function(T){function S(M){return typeof M=="string"||M instanceof String}T.exports=S},790:function(T,S,M){var O=M(65);function I(q){return O(q)&&q!==!1}T.exports=I},929:function(T){function S(M){return M===void 0}T.exports=S},479:function(T){T.exports=t},481:function(T){T.exports=n},43:function(T){T.exports=a},814:function(T){T.exports=i},311:function(T){T.exports=o}},d={};function g(T){var S=d[T];if(S!==void 0)return S.exports;var M=d[T]={exports:{}};return l[T].call(M.exports,M,M.exports,g),M.exports}(function(){g.n=function(T){var S=T&&T.__esModule?function(){return T.default}:function(){return T};return g.d(S,{a:S}),S}})(),function(){g.d=function(T,S){for(var M in S)g.o(S,M)&&!g.o(T,M)&&Object.defineProperty(T,M,{enumerable:!0,get:S[M]})}}(),function(){g.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()}(),function(){g.o=function(T,S){return Object.prototype.hasOwnProperty.call(T,S)}}();var C={};return function(){g.d(C,{default:function(){return NJ}});var T=function(){return T=Object.assign||function(c){for(var m,k=1,D=arguments.length;k<D;k++){m=arguments[k];for(var B in m)Object.prototype.hasOwnProperty.call(m,B)&&(c[B]=m[B])}return c},T.apply(this,arguments)};function S(f,c,m){if(arguments.length===2)for(var k=0,D=c.length,B;k<D;k++)(B||!(k in c))&&(B||(B=Array.prototype.slice.call(c,0,k)),B[k]=c[k]);return f.concat(B||Array.prototype.slice.call(c))}/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */var M=function(f,c){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,k){m.__proto__=k}||function(m,k){for(var D in k)Object.prototype.hasOwnProperty.call(k,D)&&(m[D]=k[D])},M(f,c)};function O(f,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");M(f,c);function m(){this.constructor=f}f.prototype=c===null?Object.create(c):(m.prototype=c.prototype,new m)}var I=function(){return I=Object.assign||function(c){for(var m,k=1,D=arguments.length;k<D;k++){m=arguments[k];for(var B in m)Object.prototype.hasOwnProperty.call(m,B)&&(c[B]=m[B])}return c},I.apply(this,arguments)};function q(f,c,m){if(arguments.length===2)for(var k=0,D=c.length,B;k<D;k++)(B||!(k in c))&&(B||(B=Array.prototype.slice.call(c,0,k)),B[k]=c[k]);return f.concat(B||Array.prototype.slice.call(c))}var z=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof g.g<"u"?g.g:typeof self<"u"?self:{},V={};function G(f){var c,m,k=V[f];if(k)return k;for(k=V[f]=[],c=0;c<128;c++)m=String.fromCharCode(c),/^[0-9a-z]$/i.test(m)?k.push(m):k.push("%"+("0"+c.toString(16).toUpperCase()).slice(-2));for(c=0;c<f.length;c++)k[f.charCodeAt(c)]=f[c];return k}function Z(f,c,m){var k,D,B,_,W,fe="";for(typeof c!="string"&&(m=c,c=Z.defaultChars),typeof m>"u"&&(m=!0),W=G(c),k=0,D=f.length;k<D;k++){if(B=f.charCodeAt(k),m&&B===37&&k+2<D&&/^[0-9a-f]{2}$/i.test(f.slice(k+1,k+3))){fe+=f.slice(k,k+3),k+=2;continue}if(B<128){fe+=W[B];continue}if(B>=55296&&B<=57343){if(B>=55296&&B<=56319&&k+1<D&&(_=f.charCodeAt(k+1),_>=56320&&_<=57343)){fe+=encodeURIComponent(f[k]+f[k+1]),k++;continue}fe+="%EF%BF%BD";continue}fe+=encodeURIComponent(f[k])}return fe}Z.defaultChars=";/?:@&=+$,-_.!~*'()#",Z.componentChars="-_.!~*'()";var ne=Z,X={},oe={},ve="",ye="",Me="",Ke="",Oe="",st="",Ye="",_t="",it="",wt="",Tt="",Kt="",ze="",ot="",rt="",Et="",kt="",Jt="",Lt="",rr="",le="",ae="",K="",Q="",U="",ue="",de="&",Ne="&",He="",lt="",Je="",xt="",mt="",Pt="",gt="",nr="",An="",fn="",Qt="",De="",Re="",Ge="",Qe="",pt="",vr="",Bt="",Xt="",Qr="",Ln="",pr="",Or="",Dn="",vn="",pn="",_r="",Nr="",ar="",On="",St="",ir="",Dt="",zr="'",Mr="",Tr="",dr="",dn="",Xr="",Zr="",Nn="",Ee="",Y="*",we="",Ae="",et="",Ct="",N="",E="",h="",w="",L="",P="",H="",$="",ee="",ie="",be="",ge="",Se="",Ve="",ut="",Mt="",Rr="",hn="",Rn="",fi="",Ra="",Wn="",Yr="",en="",Ia="",Ir="",Pa="",ga="",ya="",ba="",Ba="",tn="",Gn="",wa="",rn="",vi="",pi="",In="",nn="",an="",ka="",Kn="",Pn="",$r="",qa="",Zi="",Pr="",di="",hi="",Ca="",mi="",Bn="",Br="",Fa="",gi="",yi="",Yi="",_e="",te="",Ce="=",qe="",ct="",zt="",$t="",qt="",qr="",qn="",Ha="",bi="",wi="",kl="",Cl="",Tl="",El="",hr="",mr="",xl="",Sl="",Ml="",Fn="",Al="",eo="",to="",Ll="",Dl="",ki="",Ol="",ro="",Ta="",Nl="",Rl="",Il="",Pl="",Bl="",ql="",no="",Oo="",Fl="",No="",Hl="",_l="",Ro="",Io="",zl="",$l="",_a="",Vl="",za="",Ul="",jl="",$a="",Po="",Bo="",Wl="",qo="",Gl="",Fo="",Va="",Ho="",Ua="",Kl="",Jn="",Ea="\\",Qn="",Vr="",or="",_o="",Jl="",zo="",Ql="",$o="",Vo="",Ci="",Xn="",ao="",Uo="",io="",Xl="",Zl="",Yl="",eu="",jo="",Wo="",tu="",Go="",ru="",nu="",au="",iu="",ou="",su="",Ko="",lu="",uu="",oo="",cu="",Jo="",fu="",vu="",Qo="",Xo="",Zo="",Yo="",pu="",es="",du="",ts="",s="",v="",u="",p="",y="",b="",x="",A="",R="",F="",j="",re="",J="",se="",me="",Te="",Be="",ke="",at="",tt="",je="",Xe="",yt="",dt="",Ot="",Ft="",Ht="",on="",Ti=":",mn="",Zn="",Yn="",ja="",Nt=",",so="@",sn="",gr="",rs="",ns="",iy="",oy="",sy="",ly="",uy="",cy="",fy="",vy="",py="",dy="",hy="",my="",gy="",yy="",by="",wy="",ky="",Cy="",Ty="",Ey="",xy="",Sy="",My="",Ay="",Ly="",Dy="",Oy="",Ny="",Ry="",Iy="",Py="",By="",qy="",Fy="",Hy="",_y="",zy="",$y="",Vy="",Uy="",jy="",Wy="",Gy="",Ky="",Jy="",Qy="",Xy="",Zy="",Yy="",eb="",tb="",rb="",nb="",ab="",ib="",ob="",sb="",lb="",ub="",cb="",fb="",vb="",pb="",db="",hb="",mb="",gb="",yb="",bb="",wb="",kb="",Cb="",Tb="",Eb="",xb="",Sb="",Mb="",Ab="",Lb="",Db="",Ob="",Nb="",Rb="",Ib="",Pb="",Bb="",qb="",Fb="",Hb="`",_b="",zb="",$b="",Vb="",Ub="",jb="",Wb="",Gb="",Kb="",Jb="",Qb="",Xb="",Zb="",Yb="",ew="",tw="",rw="",nw="",aw="$",iw="",ow="",sw="",lw="",uw="",cw="",fw="",vw="",pw="",dw="",hw="",mw="",gw="",yw="",bw="",ww="",kw="",Cw="",Tw="",Ew="",xw="",Sw="",Mw="",Aw="",Lw="",Dw="",Ow="",Nw="",Rw="",Iw="",Pw="",Bw="",qw="",Fw="",Hw="",_w="",zw="",$w="",Vw="",Uw="",jw="",Ww="",Gw="",Kw="",Jw="",Qw="",Xw="",Zw="",Yw="",ek="",tk="",rk="",nk="",ak="",ik="",ok="",sk="",lk="",uk="",ck="",fk="",vk="",pk="",dk="",hk="",mk="",gk="",yk="",bk="",wk="",kk="",Ck="",Tk="",Ek="",xk="",Sk="",Mk="",Ak="",Lk="",Dk="",Ok="",Nk="",Rk="",Ik="",Pk="",Bk="",qk="",Fk="",Hk="",_k="",zk="",$k="",Vk="",Uk="",jk="",Wk="",Gk="",Kk="",Jk="",Qk="",Xk="",Zk="",Yk="",eC="",tC="",rC="",nC="",aC="",iC="",oC="",sC="",lC="",uC="",cC="",fC="",vC="",pC="",dC="",hC="",mC="",gC="",yC="",bC="",wC="=",kC="",CC="",TC="",EC="",xC="",SC="",MC="",AC="",LC="",DC="",OC="",NC="",RC="",IC="",PC="",BC="",qC="",FC="",HC="",_C="",zC="!",$C="",VC="",UC="",jC="",WC="",GC="",KC="",JC="",QC="",XC="",ZC="",YC="",e0="",t0="",r0="",n0="",a0="",i0="fj",o0="",s0="",l0="",u0="",c0="",f0="",v0="",p0="",d0="",h0="",m0="",g0="",y0="",b0="",w0="",k0="",C0="",T0="",E0="",x0="",S0="",M0="",A0="",L0="",D0="",O0="",N0="",R0="",I0="",P0="",B0="",q0="",F0="",H0="",_0="",z0="",$0="",V0="",U0="",j0="",W0="",G0="",K0="",J0="",Q0="",X0="",Z0="",Y0="",eT="",tT="",rT="",nT="",aT="",iT="",oT="",sT="",lT="",uT="",cT="",fT="",vT="",pT="",dT="",hT="",mT="",gT="",yT="",bT="",wT="",kT="",CT="",TT="",ET="",xT="",ST="",MT="",AT="",LT="",DT="",OT="",NT="",RT="`",IT="",PT="",BT="",qT="",FT="",HT="",_T="",zT="",$T="",VT="",UT="",jT="",WT="",GT="",KT=">",JT=">",QT="",XT="",ZT="",YT="",e1="",t1="",r1="",n1="",a1="",i1="",o1="",s1="",l1="",u1="",c1="",f1="",v1="",p1="",d1="",h1="",m1="",g1="",y1="",b1="^",w1="",k1="",C1="",T1="",E1="",x1="",S1="",M1="",A1="",L1="",D1="",O1="",N1="",R1="",I1="",P1="",B1="",q1="",F1="",H1="",_1="",z1="",$1="",V1="",U1="",j1="",W1="",G1="",K1="",J1="",Q1="",X1="",Z1="",Y1="",eE="",tE="",rE="",nE="",aE="",iE="",oE="",sE="",lE="",uE="",cE="",fE="",vE="",pE="",dE="",hE="",mE="",gE="",yE="",bE="",wE="",kE="",CE="",TE="",EE="",xE="",SE="",ME="",AE="",LE="",DE="",OE="",NE="",RE="",IE="",PE="",BE="",qE="",FE="",HE="",_E="",zE="",$E="",VE="",UE="",jE="",WE="",GE="",KE="",JE="",QE="",XE="",ZE="",YE="",ex="",tx="",rx="",nx="",ax="",ix="",ox="",sx="",lx="",ux="",cx="",fx="",vx="",px="",dx="",hx="",mx="",gx="",yx="",bx="",wx="",kx="",Cx="",Tx="",Ex="",xx="",Sx="",Mx="",Ax="",Lx="",Dx="",Ox="",Nx="",Rx="",Ix="",Px="",Bx="",qx="",Fx="",Hx="",_x="",zx="",$x="",Vx="",Ux="",jx="",Wx="",Gx="",Kx="",Jx="",Qx="",Xx="",Zx="",Yx="",eS="",tS="",rS="",nS="",aS="",iS="",oS="",sS="",lS="",uS="",cS="",fS="",vS="",pS="",dS="",hS="",mS="",gS="",yS="",bS="",wS="",kS="",CS="",TS="",ES="",xS="",SS="",MS="{",AS="[",LS="",DS="",OS="",NS="",RS="",IS="",PS="",BS="",qS="{",FS="",HS="",_S="",zS="",$S="",VS="",US="",jS="",WS="",GS="",KS="",JS="",QS="",XS="",ZS="",YS="",eM="",tM="",rM="",nM="",aM="",iM="",oM="",sM="",lM="",uM="",cM="",fM="",vM="",pM="",dM="",hM="",mM="",gM="",yM="",bM="",wM="",kM="",CM="",TM="",EM="",xM="",SM="",MM="",AM="",LM="",DM="",OM="",NM="",RM="",IM="",PM="",BM="",qM="",FM="",HM="",_M="",zM="",$M="",VM="",UM="",jM="",WM="",GM="",KM="",JM="",QM="",XM="",ZM="",YM="",eA="",tA="",rA="",nA="",aA="",iA="",oA="",sA="",lA="",uA="",cA="",fA="",vA="",pA="",dA="",hA="",mA="",gA="",yA="",bA="",wA="",kA="",CA="",TA="",EA="",xA="",SA="",MA="",AA="",LA="",DA="",OA="",NA="",RA="",IA="",PA="",BA="",qA="",FA="",HA="",_A="",zA="",$A="",VA="",UA="",jA="",WA="",GA="",KA="",JA="",QA="",XA="",ZA="_",YA="",eL="",tL="",rL="",nL="",aL="(",iL="",oL="",sL="",lL="",uL="",cL="",fL="",vL="",pL="",dL="",hL="",mL="",gL="",yL="",bL="",wL="[",kL="",CL="",TL="",EL="",xL="",SL="",ML="<",AL="<",LL="",DL="",OL="",NL="",RL="",IL="",PL="",BL="",qL="",FL="",HL="",_L="",zL="",$L="",VL="",UL="",jL="",WL="",GL="",KL="",JL="",QL="",XL="",ZL="",YL="",eD="",tD="",rD="",nD="",aD="",iD="",oD="",sD="",lD="",uD="",cD="",fD="*",vD="",pD="",dD="",hD="",mD="",gD="",yD="",bD="",wD="",kD="",CD="",TD="",ED="",xD="",SD="",MD="",AD="",LD="",DD="",OD="",ND="",RD="",ID="",PD="",BD="",qD="",FD="",HD="",_D="",zD="",$D="",VD="",UD="",jD="",WD="",GD="",KD="",JD="",QD="",XD="",ZD="",YD="",eO="",tO="",rO="",nO="",aO="",iO="",oO="",sO="",lO="",uO="",cO="",fO="",vO="",pO="",dO="",hO="",mO="",gO="",yO="",bO="",wO="",kO=`
`,CO="",TO="",EO="",xO="",SO="",MO="",AO="",LO="",DO="",OO="",NO="",RO="",IO="",PO="",BO="",qO="",FO="",HO="",_O="",zO="",$O="",VO="",UO="",jO="",WO="",GO="",KO="",JO="",QO="",XO="",ZO="",YO="",eN="",tN="",rN="",nN="",aN="",iN="",oN="",sN="",lN="",uN="",cN="",fN="",vN="",pN="",dN="",hN="",mN="",gN="",yN="",bN="",wN="",kN="",CN="",TN="",EN="",xN="",SN="",MN="",AN="",LN="",DN="",ON="",NN="",RN="",IN="",PN="",BN="",qN="",FN="",HN="",_N="",zN="",$N="",VN="",UN="",jN="",WN="",GN="",KN="",JN="",QN="",XN="",ZN="",YN="",eR="",tR="",rR="",nR="",aR="",iR="",oR="",sR="",lR="",uR="",cR="",fR="",vR="",pR="",dR="",hR="",mR="",gR="",yR="",bR="",wR="",kR="",CR="",TR="",ER="",xR="",SR="",MR="",AR="",LR="",DR="",OR="",NR="",RR="",IR="",PR="",BR="",qR="",FR="",HR="",_R="",zR="",$R="",VR="",UR="",jR="",WR="",GR="",KR="",JR="",QR="",XR="",ZR="",YR="",eI="",tI="",rI="",nI="",aI="",iI="",oI="",sI="",lI="",uI="",cI="",fI="",vI="",pI="",dI="",hI="",mI="",gI="",yI="",bI="",wI="",kI="",CI="",TI="",EI="",xI="",SI="",MI="",AI="",LI="",DI="#",OI="",NI="",RI="",II="",PI="",BI="",qI="",FI="",HI=">",_I="",zI="",$I="",VI="",UI="<",jI="",WI="",GI="",KI="",JI="",QI="",XI="",ZI="",YI="",eP="",tP="",rP="",nP="",aP="",iP="",oP="",sP="",lP="",uP="",cP="",fP="",vP="",pP="",dP="",hP="",mP="",gP="",yP="",bP="",wP="",kP="",CP="",TP="",EP="",xP="",SP="",MP="",AP="",LP="",DP="",OP="",NP="",RP="",IP="",PP="",BP="",qP="",FP="",HP="",_P="",zP="",$P="",VP="",UP="",jP="",WP="",GP="",KP="",JP="",QP="",XP="",ZP="",YP="",eB="",tB="",rB="",nB="",aB="",iB="",oB="",sB="",lB="",uB="",cB="",fB="",vB="",pB="",dB="",hB="",mB="",gB="",yB="",bB="",wB="",kB="",CB="",TB="",EB="",xB="",SB="",MB="",AB="",LB="",DB="",OB="%",NB=".",RB="",IB="",PB="",BB="",qB="",FB="",HB="",_B="",zB="",$B="",VB="",UB="",jB="",WB="",GB="",KB="",JB="",QB="",XB="",ZB="",YB="+",eq="",tq="",rq="",nq="",aq="",iq="",oq="",sq="",lq="",uq="",cq="",fq="",vq="",pq="",dq="",hq="",mq="",gq="",yq="",bq="",wq="",kq="",Cq="",Tq="",Eq="",xq="",Sq="",Mq="",Aq="",Lq="",Dq="",Oq="",Nq="",Rq="",Iq="",Pq="",Bq="",qq="",Fq="",Hq="",_q="",zq="",$q="",Vq="",Uq="",jq="",Wq="",Gq="",Kq="",Jq="",Qq="",Xq="",Zq="",Yq="",eF="",tF="",rF="",nF="",aF="",iF="",oF="",sF="",lF="",uF="?",cF="",fF='"',vF='"',pF="",dF="",hF="",mF="",gF="",yF="",bF="",wF="",kF="",CF="",TF="",EF="",xF="",SF="",MF="",AF="",LF="",DF="",OF="",NF="",RF="",IF="",PF="",BF="",qF="",FF="",HF="",_F="",zF="",$F="",VF="",UF="",jF="",WF="",GF="",KF="}",JF="]",QF="",XF="",ZF="",YF="",eH="",tH="",rH="",nH="",aH="}",iH="",oH="",sH="",lH="",uH="",cH="",fH="",vH="",pH="",dH="",hH="",mH="",gH="",yH="",bH="",wH="",kH="",CH="",TH="",EH="",xH="",SH="",MH="",AH="",LH="",DH="",OH="",NH="",RH="",IH="",PH="",BH="",qH="",FH="",HH="",_H="",zH="",$H="",VH="",UH="",jH="",WH="",GH="",KH="",JH="",QH="",XH="",ZH="",YH="",e_="",t_="",r_="",n_="",a_="",i_="",o_="",s_="",l_="",u_="",c_="",f_="",v_="",p_="",d_="",h_="",m_="",g_="",y_="",b_="",w_="",k_="",C_="",T_="",E_="",x_="",S_="",M_="",A_="",L_=")",D_="",O_="",N_="",R_="",I_="",P_="",B_="",q_="",F_="",H_="]",__="",z_="",$_="",V_="",U_="",j_="",W_="",G_="",K_="",J_="",Q_="",X_="",Z_="",Y_="",e2="",t2="",r2="",n2="",a2="",i2="",o2="",s2="",l2="",u2="",c2="",f2="",v2="",p2="",d2="",h2="",m2="",g2="",y2="",b2="",w2="",k2="",C2="",T2="",E2="",x2="",S2="",M2=";",A2="",L2="",D2="",O2="",N2="",R2="",I2="",P2="",B2="",q2="",F2="",H2="",_2="",z2="",$2="",V2="",U2="",j2="",W2="",G2="",K2="",J2="",Q2="",X2="",Z2="",Y2="",ez="",tz="",rz="",nz="",az="",iz="",oz="",sz="",lz="",uz="",cz="",fz="",vz="",pz="",dz="",hz="",mz="",gz="",yz="",bz="",wz="",kz="",Cz="/",Tz="",Ez="",xz="",Sz="",Mz="",Az="",Lz="",Dz="",Oz="",Nz="",Rz="",Iz="",Pz="",Bz="",qz="",Fz="",Hz="",_z="",zz="",$z="",Vz="",Uz="",jz="",Wz="",Gz="",Kz="",Jz="",Qz="",Xz="",Zz="",Yz="",e$="",t$="",r$="",n$="",a$="",i$="",o$="",s$="",l$="",u$="",c$="",f$="",v$="",p$="",d$="",h$="",m$="",g$="",y$="",b$="",w$="",k$="",C$="",T$="",E$="",x$="",S$="",M$="",A$="",L$="",D$="",O$="",N$="",R$="",I$="",P$="",B$="",q$="",F$="",H$="",_$="",z$="",$$="",V$="",U$="",j$="",W$="",G$="",K$="",J$="",Q$="",X$="",Z$="",Y$="",eV="",tV="",rV="",nV="",aV="",iV="",oV="",sV="",lV="",uV="",cV="",fV="",vV="",pV="",dV="",hV="",mV="",gV="",yV="",bV="",wV="",kV="",CV="",TV="",EV="",xV="",SV="",MV="	",AV="",LV="",DV="",OV="",NV="",RV="",IV="",PV="",BV="",qV="",FV="",HV="",_V="",zV="",$V="",VV="",UV="",jV="",WV="",GV="",KV="",JV="",QV="",XV="",ZV="",YV="",eU="",tU="",rU="",nU="",aU="",iU="",oU="",sU="",lU="",uU="",cU="",fU="",vU="",pU="",dU="",hU="",mU="",gU="",yU="",bU="",wU="",kU="",CU="",TU="",EU="",xU="",SU="",MU="",AU="",LU="",DU="",OU="",NU="",RU="",IU="",PU="",BU="",qU="",FU="",HU="",_U="",zU="",$U="",VU="",UU="",jU="",WU="",GU="",KU="",JU="",QU="",XU="",ZU="",YU="",e3="",t3="",r3="",n3="",a3="",i3="",o3="",s3="",l3="",u3="",c3="",f3="",v3="",p3="",d3="",h3="",m3="",g3="",y3="",b3="",w3="",k3="",C3="",T3="",E3="",x3="",S3="",M3="",A3="",L3="",D3="",O3="_",N3="",R3="",I3="",P3="",B3="",q3="",F3="",H3="",_3="",z3="",$3="",V3="",U3="",j3="",W3="",G3="",K3="",J3="",Q3="",X3="",Z3="",Y3="",ej="",tj="",rj="",nj="",aj="",ij="",oj="",sj="",lj="",uj="",cj="",fj="",vj="",pj="",dj="",hj="",mj="",gj="",yj="",bj="",wj="",kj="",Cj="",Tj="",Ej="",xj="",Sj="",Mj="",Aj="",Lj="",Dj="",Oj="",Nj="",Rj="",Ij="",Pj="",Bj="",qj="",Fj="",Hj="",_j="",zj="",$j="",Vj="",Uj="",jj="",Wj="",Gj="",Kj="",Jj="",Qj="",Xj="",Zj="",Yj="",eW="",tW="",rW="",nW="",aW="",iW="|",oW="",sW="|",lW="",uW="",cW="|",fW="",vW="",pW="",dW="",hW="",mW="",gW="",yW="",bW="",wW="",kW="",CW="",TW="",EW="",xW="",SW="",MW="",AW="",LW="",DW="",OW="",NW="",RW="",IW="",PW="",BW="",qW="",FW="",HW="",_W="",zW="",$W="",VW="",UW="",jW="",WW="",GW="",KW="",JW="",QW="",XW="",ZW="",YW="",eG="",tG="",rG="",nG="",aG="",iG="",oG="",sG="",lG="",uG="",cG="",fG="",vG="",pG="",dG="",hG="",mG="",gG="",yG="",bG="",wG="",kG="",CG="",TG="",EG="",xG="",SG="",MG="",AG="",LG="",DG="",OG="",NG="",RG="",IG="",PG="",BG="",qG="",FG="",HG="",_G="",zG="",$G="",VG="",UG="",jG="",WG="",GG="",KG="",JG="",QG="",XG="",ZG="",YG="",e4="",t4="",r4="",n4="",a4="",i4="",o4="",s4="",l4="",u4="",c4="",Bf={Aacute:ve,aacute:ye,Abreve:Me,abreve:Ke,ac:Oe,acd:st,acE:Ye,Acirc:_t,acirc:it,acute:wt,Acy:Tt,acy:Kt,AElig:ze,aelig:ot,af:rt,Afr:Et,afr:kt,Agrave:Jt,agrave:Lt,alefsym:rr,aleph:le,Alpha:ae,alpha:K,Amacr:Q,amacr:U,amalg:ue,amp:de,AMP:Ne,andand:He,And:lt,and:Je,andd:xt,andslope:mt,andv:Pt,ang:gt,ange:nr,angle:An,angmsdaa:fn,angmsdab:Qt,angmsdac:De,angmsdad:Re,angmsdae:Ge,angmsdaf:Qe,angmsdag:pt,angmsdah:vr,angmsd:Bt,angrt:Xt,angrtvb:Qr,angrtvbd:Ln,angsph:pr,angst:Or,angzarr:Dn,Aogon:vn,aogon:pn,Aopf:_r,aopf:Nr,apacir:ar,ap:On,apE:St,ape:ir,apid:Dt,apos:zr,ApplyFunction:Mr,approx:Tr,approxeq:dr,Aring:dn,aring:Xr,Ascr:Zr,ascr:Nn,Assign:Ee,ast:Y,asymp:we,asympeq:Ae,Atilde:et,atilde:Ct,Auml:N,auml:E,awconint:h,awint:w,backcong:L,backepsilon:P,backprime:H,backsim:$,backsimeq:ee,Backslash:ie,Barv:be,barvee:ge,barwed:Se,Barwed:Ve,barwedge:ut,bbrk:Mt,bbrktbrk:Rr,bcong:hn,Bcy:Rn,bcy:fi,bdquo:Ra,becaus:Wn,because:Yr,Because:en,bemptyv:Ia,bepsi:Ir,bernou:Pa,Bernoullis:ga,Beta:ya,beta:ba,beth:Ba,between:tn,Bfr:Gn,bfr:wa,bigcap:rn,bigcirc:vi,bigcup:pi,bigodot:In,bigoplus:nn,bigotimes:an,bigsqcup:ka,bigstar:Kn,bigtriangledown:Pn,bigtriangleup:$r,biguplus:qa,bigvee:Zi,bigwedge:Pr,bkarow:di,blacklozenge:hi,blacksquare:Ca,blacktriangle:mi,blacktriangledown:Bn,blacktriangleleft:Br,blacktriangleright:Fa,blank:gi,blk12:yi,blk14:Yi,blk34:_e,block:te,bne:Ce,bnequiv:qe,bNot:ct,bnot:zt,Bopf:$t,bopf:qt,bot:qr,bottom:qn,bowtie:Ha,boxbox:bi,boxdl:wi,boxdL:kl,boxDl:Cl,boxDL:Tl,boxdr:El,boxdR:hr,boxDr:mr,boxDR:xl,boxh:Sl,boxH:Ml,boxhd:Fn,boxHd:Al,boxhD:eo,boxHD:to,boxhu:Ll,boxHu:Dl,boxhU:ki,boxHU:Ol,boxminus:ro,boxplus:Ta,boxtimes:Nl,boxul:Rl,boxuL:Il,boxUl:Pl,boxUL:Bl,boxur:ql,boxuR:no,boxUr:Oo,boxUR:Fl,boxv:No,boxV:Hl,boxvh:_l,boxvH:Ro,boxVh:Io,boxVH:zl,boxvl:$l,boxvL:_a,boxVl:Vl,boxVL:za,boxvr:Ul,boxvR:jl,boxVr:$a,boxVR:Po,bprime:Bo,breve:Wl,Breve:qo,brvbar:Gl,bscr:Fo,Bscr:Va,bsemi:Ho,bsim:Ua,bsime:Kl,bsolb:Jn,bsol:Ea,bsolhsub:Qn,bull:Vr,bullet:or,bump:_o,bumpE:Jl,bumpe:zo,Bumpeq:Ql,bumpeq:$o,Cacute:Vo,cacute:Ci,capand:Xn,capbrcup:ao,capcap:Uo,cap:io,Cap:Xl,capcup:Zl,capdot:Yl,CapitalDifferentialD:eu,caps:jo,caret:Wo,caron:tu,Cayleys:Go,ccaps:ru,Ccaron:nu,ccaron:au,Ccedil:iu,ccedil:ou,Ccirc:su,ccirc:Ko,Cconint:lu,ccups:uu,ccupssm:oo,Cdot:cu,cdot:Jo,cedil:fu,Cedilla:vu,cemptyv:Qo,cent:Xo,centerdot:Zo,CenterDot:Yo,cfr:pu,Cfr:es,CHcy:du,chcy:ts,check:s,checkmark:v,Chi:u,chi:p,circ:y,circeq:b,circlearrowleft:x,circlearrowright:A,circledast:R,circledcirc:F,circleddash:j,CircleDot:re,circledR:J,circledS:se,CircleMinus:me,CirclePlus:Te,CircleTimes:Be,cir:ke,cirE:at,cire:tt,cirfnint:je,cirmid:Xe,cirscir:yt,ClockwiseContourIntegral:dt,CloseCurlyDoubleQuote:Ot,CloseCurlyQuote:Ft,clubs:Ht,clubsuit:on,colon:Ti,Colon:mn,Colone:Zn,colone:Yn,coloneq:ja,comma:Nt,commat:so,comp:sn,compfn:gr,complement:rs,complexes:ns,cong:iy,congdot:oy,Congruent:sy,conint:ly,Conint:uy,ContourIntegral:cy,copf:fy,Copf:vy,coprod:py,Coproduct:dy,copy:hy,COPY:my,copysr:gy,CounterClockwiseContourIntegral:yy,crarr:by,cross:wy,Cross:ky,Cscr:Cy,cscr:Ty,csub:Ey,csube:xy,csup:Sy,csupe:My,ctdot:Ay,cudarrl:Ly,cudarrr:Dy,cuepr:Oy,cuesc:Ny,cularr:Ry,cularrp:Iy,cupbrcap:Py,cupcap:By,CupCap:qy,cup:Fy,Cup:Hy,cupcup:_y,cupdot:zy,cupor:$y,cups:Vy,curarr:Uy,curarrm:jy,curlyeqprec:Wy,curlyeqsucc:Gy,curlyvee:Ky,curlywedge:Jy,curren:Qy,curvearrowleft:Xy,curvearrowright:Zy,cuvee:Yy,cuwed:eb,cwconint:tb,cwint:rb,cylcty:nb,dagger:ab,Dagger:ib,daleth:ob,darr:sb,Darr:lb,dArr:ub,dash:cb,Dashv:fb,dashv:vb,dbkarow:pb,dblac:db,Dcaron:hb,dcaron:mb,Dcy:gb,dcy:yb,ddagger:bb,ddarr:wb,DD:kb,dd:Cb,DDotrahd:Tb,ddotseq:Eb,deg:xb,Del:Sb,Delta:Mb,delta:Ab,demptyv:Lb,dfisht:Db,Dfr:Ob,dfr:Nb,dHar:Rb,dharl:Ib,dharr:Pb,DiacriticalAcute:Bb,DiacriticalDot:qb,DiacriticalDoubleAcute:Fb,DiacriticalGrave:Hb,DiacriticalTilde:_b,diam:zb,diamond:$b,Diamond:Vb,diamondsuit:Ub,diams:jb,die:Wb,DifferentialD:Gb,digamma:Kb,disin:Jb,div:Qb,divide:Xb,divideontimes:Zb,divonx:Yb,DJcy:ew,djcy:tw,dlcorn:rw,dlcrop:nw,dollar:aw,Dopf:iw,dopf:ow,Dot:sw,dot:lw,DotDot:uw,doteq:cw,doteqdot:fw,DotEqual:vw,dotminus:pw,dotplus:dw,dotsquare:hw,doublebarwedge:mw,DoubleContourIntegral:gw,DoubleDot:yw,DoubleDownArrow:bw,DoubleLeftArrow:ww,DoubleLeftRightArrow:kw,DoubleLeftTee:Cw,DoubleLongLeftArrow:Tw,DoubleLongLeftRightArrow:Ew,DoubleLongRightArrow:xw,DoubleRightArrow:Sw,DoubleRightTee:Mw,DoubleUpArrow:Aw,DoubleUpDownArrow:Lw,DoubleVerticalBar:Dw,DownArrowBar:Ow,downarrow:Nw,DownArrow:Rw,Downarrow:Iw,DownArrowUpArrow:Pw,DownBreve:Bw,downdownarrows:qw,downharpoonleft:Fw,downharpoonright:Hw,DownLeftRightVector:_w,DownLeftTeeVector:zw,DownLeftVectorBar:$w,DownLeftVector:Vw,DownRightTeeVector:Uw,DownRightVectorBar:jw,DownRightVector:Ww,DownTeeArrow:Gw,DownTee:Kw,drbkarow:Jw,drcorn:Qw,drcrop:Xw,Dscr:Zw,dscr:Yw,DScy:ek,dscy:tk,dsol:rk,Dstrok:nk,dstrok:ak,dtdot:ik,dtri:ok,dtrif:sk,duarr:lk,duhar:uk,dwangle:ck,DZcy:fk,dzcy:vk,dzigrarr:pk,Eacute:dk,eacute:hk,easter:mk,Ecaron:gk,ecaron:yk,Ecirc:bk,ecirc:wk,ecir:kk,ecolon:Ck,Ecy:Tk,ecy:Ek,eDDot:xk,Edot:Sk,edot:Mk,eDot:Ak,ee:Lk,efDot:Dk,Efr:Ok,efr:Nk,eg:Rk,Egrave:Ik,egrave:Pk,egs:Bk,egsdot:qk,el:Fk,Element:Hk,elinters:_k,ell:zk,els:$k,elsdot:Vk,Emacr:Uk,emacr:jk,empty:Wk,emptyset:Gk,EmptySmallSquare:Kk,emptyv:Jk,EmptyVerySmallSquare:Qk,emsp13:Xk,emsp14:Zk,emsp:Yk,ENG:eC,eng:tC,ensp:rC,Eogon:nC,eogon:aC,Eopf:iC,eopf:oC,epar:sC,eparsl:lC,eplus:uC,epsi:cC,Epsilon:fC,epsilon:vC,epsiv:pC,eqcirc:dC,eqcolon:hC,eqsim:mC,eqslantgtr:gC,eqslantless:yC,Equal:bC,equals:wC,EqualTilde:kC,equest:CC,Equilibrium:TC,equiv:EC,equivDD:xC,eqvparsl:SC,erarr:MC,erDot:AC,escr:LC,Escr:DC,esdot:OC,Esim:NC,esim:RC,Eta:IC,eta:PC,ETH:BC,eth:qC,Euml:FC,euml:HC,euro:_C,excl:zC,exist:$C,Exists:VC,expectation:UC,exponentiale:jC,ExponentialE:WC,fallingdotseq:GC,Fcy:KC,fcy:JC,female:QC,ffilig:XC,fflig:ZC,ffllig:YC,Ffr:e0,ffr:t0,filig:r0,FilledSmallSquare:n0,FilledVerySmallSquare:a0,fjlig:i0,flat:o0,fllig:s0,fltns:l0,fnof:u0,Fopf:c0,fopf:f0,forall:v0,ForAll:p0,fork:d0,forkv:h0,Fouriertrf:m0,fpartint:g0,frac12:y0,frac13:b0,frac14:w0,frac15:k0,frac16:C0,frac18:T0,frac23:E0,frac25:x0,frac34:S0,frac35:M0,frac38:A0,frac45:L0,frac56:D0,frac58:O0,frac78:N0,frasl:R0,frown:I0,fscr:P0,Fscr:B0,gacute:q0,Gamma:F0,gamma:H0,Gammad:_0,gammad:z0,gap:$0,Gbreve:V0,gbreve:U0,Gcedil:j0,Gcirc:W0,gcirc:G0,Gcy:K0,gcy:J0,Gdot:Q0,gdot:X0,ge:Z0,gE:Y0,gEl:eT,gel:tT,geq:rT,geqq:nT,geqslant:aT,gescc:iT,ges:oT,gesdot:sT,gesdoto:lT,gesdotol:uT,gesl:cT,gesles:fT,Gfr:vT,gfr:pT,gg:dT,Gg:hT,ggg:mT,gimel:gT,GJcy:yT,gjcy:bT,gla:wT,gl:kT,glE:CT,glj:TT,gnap:ET,gnapprox:xT,gne:ST,gnE:MT,gneq:AT,gneqq:LT,gnsim:DT,Gopf:OT,gopf:NT,grave:RT,GreaterEqual:IT,GreaterEqualLess:PT,GreaterFullEqual:BT,GreaterGreater:qT,GreaterLess:FT,GreaterSlantEqual:HT,GreaterTilde:_T,Gscr:zT,gscr:$T,gsim:VT,gsime:UT,gsiml:jT,gtcc:WT,gtcir:GT,gt:KT,GT:JT,Gt:QT,gtdot:XT,gtlPar:ZT,gtquest:YT,gtrapprox:e1,gtrarr:t1,gtrdot:r1,gtreqless:n1,gtreqqless:a1,gtrless:i1,gtrsim:o1,gvertneqq:s1,gvnE:l1,Hacek:u1,hairsp:c1,half:f1,hamilt:v1,HARDcy:p1,hardcy:d1,harrcir:h1,harr:m1,hArr:g1,harrw:y1,Hat:b1,hbar:w1,Hcirc:k1,hcirc:C1,hearts:T1,heartsuit:E1,hellip:x1,hercon:S1,hfr:M1,Hfr:A1,HilbertSpace:L1,hksearow:D1,hkswarow:O1,hoarr:N1,homtht:R1,hookleftarrow:I1,hookrightarrow:P1,hopf:B1,Hopf:q1,horbar:F1,HorizontalLine:H1,hscr:_1,Hscr:z1,hslash:$1,Hstrok:V1,hstrok:U1,HumpDownHump:j1,HumpEqual:W1,hybull:G1,hyphen:K1,Iacute:J1,iacute:Q1,ic:X1,Icirc:Z1,icirc:Y1,Icy:eE,icy:tE,Idot:rE,IEcy:nE,iecy:aE,iexcl:iE,iff:oE,ifr:sE,Ifr:lE,Igrave:uE,igrave:cE,ii:fE,iiiint:vE,iiint:pE,iinfin:dE,iiota:hE,IJlig:mE,ijlig:gE,Imacr:yE,imacr:bE,image:wE,ImaginaryI:kE,imagline:CE,imagpart:TE,imath:EE,Im:xE,imof:SE,imped:ME,Implies:AE,incare:LE,in:"",infin:DE,infintie:OE,inodot:NE,intcal:RE,int:IE,Int:PE,integers:BE,Integral:qE,intercal:FE,Intersection:HE,intlarhk:_E,intprod:zE,InvisibleComma:$E,InvisibleTimes:VE,IOcy:UE,iocy:jE,Iogon:WE,iogon:GE,Iopf:KE,iopf:JE,Iota:QE,iota:XE,iprod:ZE,iquest:YE,iscr:ex,Iscr:tx,isin:rx,isindot:nx,isinE:ax,isins:ix,isinsv:ox,isinv:sx,it:lx,Itilde:ux,itilde:cx,Iukcy:fx,iukcy:vx,Iuml:px,iuml:dx,Jcirc:hx,jcirc:mx,Jcy:gx,jcy:yx,Jfr:bx,jfr:wx,jmath:kx,Jopf:Cx,jopf:Tx,Jscr:Ex,jscr:xx,Jsercy:Sx,jsercy:Mx,Jukcy:Ax,jukcy:Lx,Kappa:Dx,kappa:Ox,kappav:Nx,Kcedil:Rx,kcedil:Ix,Kcy:Px,kcy:Bx,Kfr:qx,kfr:Fx,kgreen:Hx,KHcy:_x,khcy:zx,KJcy:$x,kjcy:Vx,Kopf:Ux,kopf:jx,Kscr:Wx,kscr:Gx,lAarr:Kx,Lacute:Jx,lacute:Qx,laemptyv:Xx,lagran:Zx,Lambda:Yx,lambda:eS,lang:tS,Lang:rS,langd:nS,langle:aS,lap:iS,Laplacetrf:oS,laquo:sS,larrb:lS,larrbfs:uS,larr:cS,Larr:fS,lArr:vS,larrfs:pS,larrhk:dS,larrlp:hS,larrpl:mS,larrsim:gS,larrtl:yS,latail:bS,lAtail:wS,lat:kS,late:CS,lates:TS,lbarr:ES,lBarr:xS,lbbrk:SS,lbrace:MS,lbrack:AS,lbrke:LS,lbrksld:DS,lbrkslu:OS,Lcaron:NS,lcaron:RS,Lcedil:IS,lcedil:PS,lceil:BS,lcub:qS,Lcy:FS,lcy:HS,ldca:_S,ldquo:zS,ldquor:$S,ldrdhar:VS,ldrushar:US,ldsh:jS,le:WS,lE:GS,LeftAngleBracket:KS,LeftArrowBar:JS,leftarrow:QS,LeftArrow:XS,Leftarrow:ZS,LeftArrowRightArrow:YS,leftarrowtail:eM,LeftCeiling:tM,LeftDoubleBracket:rM,LeftDownTeeVector:nM,LeftDownVectorBar:aM,LeftDownVector:iM,LeftFloor:oM,leftharpoondown:sM,leftharpoonup:lM,leftleftarrows:uM,leftrightarrow:cM,LeftRightArrow:fM,Leftrightarrow:vM,leftrightarrows:pM,leftrightharpoons:dM,leftrightsquigarrow:hM,LeftRightVector:mM,LeftTeeArrow:gM,LeftTee:yM,LeftTeeVector:bM,leftthreetimes:wM,LeftTriangleBar:kM,LeftTriangle:CM,LeftTriangleEqual:TM,LeftUpDownVector:EM,LeftUpTeeVector:xM,LeftUpVectorBar:SM,LeftUpVector:MM,LeftVectorBar:AM,LeftVector:LM,lEg:DM,leg:OM,leq:NM,leqq:RM,leqslant:IM,lescc:PM,les:BM,lesdot:qM,lesdoto:FM,lesdotor:HM,lesg:_M,lesges:zM,lessapprox:$M,lessdot:VM,lesseqgtr:UM,lesseqqgtr:jM,LessEqualGreater:WM,LessFullEqual:GM,LessGreater:KM,lessgtr:JM,LessLess:QM,lesssim:XM,LessSlantEqual:ZM,LessTilde:YM,lfisht:eA,lfloor:tA,Lfr:rA,lfr:nA,lg:aA,lgE:iA,lHar:oA,lhard:sA,lharu:lA,lharul:uA,lhblk:cA,LJcy:fA,ljcy:vA,llarr:pA,ll:dA,Ll:hA,llcorner:mA,Lleftarrow:gA,llhard:yA,lltri:bA,Lmidot:wA,lmidot:kA,lmoustache:CA,lmoust:TA,lnap:EA,lnapprox:xA,lne:SA,lnE:MA,lneq:AA,lneqq:LA,lnsim:DA,loang:OA,loarr:NA,lobrk:RA,longleftarrow:IA,LongLeftArrow:PA,Longleftarrow:BA,longleftrightarrow:qA,LongLeftRightArrow:FA,Longleftrightarrow:HA,longmapsto:_A,longrightarrow:zA,LongRightArrow:$A,Longrightarrow:VA,looparrowleft:UA,looparrowright:jA,lopar:WA,Lopf:GA,lopf:KA,loplus:JA,lotimes:QA,lowast:XA,lowbar:ZA,LowerLeftArrow:YA,LowerRightArrow:eL,loz:tL,lozenge:rL,lozf:nL,lpar:aL,lparlt:iL,lrarr:oL,lrcorner:sL,lrhar:lL,lrhard:uL,lrm:cL,lrtri:fL,lsaquo:vL,lscr:pL,Lscr:dL,lsh:hL,Lsh:mL,lsim:gL,lsime:yL,lsimg:bL,lsqb:wL,lsquo:kL,lsquor:CL,Lstrok:TL,lstrok:EL,ltcc:xL,ltcir:SL,lt:ML,LT:AL,Lt:LL,ltdot:DL,lthree:OL,ltimes:NL,ltlarr:RL,ltquest:IL,ltri:PL,ltrie:BL,ltrif:qL,ltrPar:FL,lurdshar:HL,luruhar:_L,lvertneqq:zL,lvnE:$L,macr:VL,male:UL,malt:jL,maltese:WL,Map:"",map:GL,mapsto:KL,mapstodown:JL,mapstoleft:QL,mapstoup:XL,marker:ZL,mcomma:YL,Mcy:eD,mcy:tD,mdash:rD,mDDot:nD,measuredangle:aD,MediumSpace:iD,Mellintrf:oD,Mfr:sD,mfr:lD,mho:uD,micro:cD,midast:fD,midcir:vD,mid:pD,middot:dD,minusb:hD,minus:mD,minusd:gD,minusdu:yD,MinusPlus:bD,mlcp:wD,mldr:kD,mnplus:CD,models:TD,Mopf:ED,mopf:xD,mp:SD,mscr:MD,Mscr:AD,mstpos:LD,Mu:DD,mu:OD,multimap:ND,mumap:RD,nabla:ID,Nacute:PD,nacute:BD,nang:qD,nap:FD,napE:HD,napid:_D,napos:zD,napprox:$D,natural:VD,naturals:UD,natur:jD,nbsp:WD,nbump:GD,nbumpe:KD,ncap:JD,Ncaron:QD,ncaron:XD,Ncedil:ZD,ncedil:YD,ncong:eO,ncongdot:tO,ncup:rO,Ncy:nO,ncy:aO,ndash:iO,nearhk:oO,nearr:sO,neArr:lO,nearrow:uO,ne:cO,nedot:fO,NegativeMediumSpace:vO,NegativeThickSpace:pO,NegativeThinSpace:dO,NegativeVeryThinSpace:hO,nequiv:mO,nesear:gO,nesim:yO,NestedGreaterGreater:bO,NestedLessLess:wO,NewLine:kO,nexist:CO,nexists:TO,Nfr:EO,nfr:xO,ngE:SO,nge:MO,ngeq:AO,ngeqq:LO,ngeqslant:DO,nges:OO,nGg:NO,ngsim:RO,nGt:IO,ngt:PO,ngtr:BO,nGtv:qO,nharr:FO,nhArr:HO,nhpar:_O,ni:zO,nis:$O,nisd:VO,niv:UO,NJcy:jO,njcy:WO,nlarr:GO,nlArr:KO,nldr:JO,nlE:QO,nle:XO,nleftarrow:ZO,nLeftarrow:YO,nleftrightarrow:eN,nLeftrightarrow:tN,nleq:rN,nleqq:nN,nleqslant:aN,nles:iN,nless:oN,nLl:sN,nlsim:lN,nLt:uN,nlt:cN,nltri:fN,nltrie:vN,nLtv:pN,nmid:dN,NoBreak:hN,NonBreakingSpace:mN,nopf:gN,Nopf:yN,Not:bN,not:wN,NotCongruent:kN,NotCupCap:CN,NotDoubleVerticalBar:TN,NotElement:EN,NotEqual:xN,NotEqualTilde:SN,NotExists:MN,NotGreater:AN,NotGreaterEqual:LN,NotGreaterFullEqual:DN,NotGreaterGreater:ON,NotGreaterLess:NN,NotGreaterSlantEqual:RN,NotGreaterTilde:IN,NotHumpDownHump:PN,NotHumpEqual:BN,notin:qN,notindot:FN,notinE:HN,notinva:_N,notinvb:zN,notinvc:$N,NotLeftTriangleBar:VN,NotLeftTriangle:UN,NotLeftTriangleEqual:jN,NotLess:WN,NotLessEqual:GN,NotLessGreater:KN,NotLessLess:JN,NotLessSlantEqual:QN,NotLessTilde:XN,NotNestedGreaterGreater:ZN,NotNestedLessLess:YN,notni:eR,notniva:tR,notnivb:rR,notnivc:nR,NotPrecedes:aR,NotPrecedesEqual:iR,NotPrecedesSlantEqual:oR,NotReverseElement:sR,NotRightTriangleBar:lR,NotRightTriangle:uR,NotRightTriangleEqual:cR,NotSquareSubset:fR,NotSquareSubsetEqual:vR,NotSquareSuperset:pR,NotSquareSupersetEqual:dR,NotSubset:hR,NotSubsetEqual:mR,NotSucceeds:gR,NotSucceedsEqual:yR,NotSucceedsSlantEqual:bR,NotSucceedsTilde:wR,NotSuperset:kR,NotSupersetEqual:CR,NotTilde:TR,NotTildeEqual:ER,NotTildeFullEqual:xR,NotTildeTilde:SR,NotVerticalBar:MR,nparallel:AR,npar:LR,nparsl:DR,npart:OR,npolint:NR,npr:RR,nprcue:IR,nprec:PR,npreceq:BR,npre:qR,nrarrc:FR,nrarr:HR,nrArr:_R,nrarrw:zR,nrightarrow:$R,nRightarrow:VR,nrtri:UR,nrtrie:jR,nsc:WR,nsccue:GR,nsce:KR,Nscr:JR,nscr:QR,nshortmid:XR,nshortparallel:ZR,nsim:YR,nsime:eI,nsimeq:tI,nsmid:rI,nspar:nI,nsqsube:aI,nsqsupe:iI,nsub:oI,nsubE:sI,nsube:lI,nsubset:uI,nsubseteq:cI,nsubseteqq:fI,nsucc:vI,nsucceq:pI,nsup:dI,nsupE:hI,nsupe:mI,nsupset:gI,nsupseteq:yI,nsupseteqq:bI,ntgl:wI,Ntilde:kI,ntilde:CI,ntlg:TI,ntriangleleft:EI,ntrianglelefteq:xI,ntriangleright:SI,ntrianglerighteq:MI,Nu:AI,nu:LI,num:DI,numero:OI,numsp:NI,nvap:RI,nvdash:II,nvDash:PI,nVdash:BI,nVDash:qI,nvge:FI,nvgt:HI,nvHarr:_I,nvinfin:zI,nvlArr:$I,nvle:VI,nvlt:UI,nvltrie:jI,nvrArr:WI,nvrtrie:GI,nvsim:KI,nwarhk:JI,nwarr:QI,nwArr:XI,nwarrow:ZI,nwnear:YI,Oacute:eP,oacute:tP,oast:rP,Ocirc:nP,ocirc:aP,ocir:iP,Ocy:oP,ocy:sP,odash:lP,Odblac:uP,odblac:cP,odiv:fP,odot:vP,odsold:pP,OElig:dP,oelig:hP,ofcir:mP,Ofr:gP,ofr:yP,ogon:bP,Ograve:wP,ograve:kP,ogt:CP,ohbar:TP,ohm:EP,oint:xP,olarr:SP,olcir:MP,olcross:AP,oline:LP,olt:DP,Omacr:OP,omacr:NP,Omega:RP,omega:IP,Omicron:PP,omicron:BP,omid:qP,ominus:FP,Oopf:HP,oopf:_P,opar:zP,OpenCurlyDoubleQuote:$P,OpenCurlyQuote:VP,operp:UP,oplus:jP,orarr:WP,Or:GP,or:KP,ord:JP,order:QP,orderof:XP,ordf:ZP,ordm:YP,origof:eB,oror:tB,orslope:rB,orv:nB,oS:aB,Oscr:iB,oscr:oB,Oslash:sB,oslash:lB,osol:uB,Otilde:cB,otilde:fB,otimesas:vB,Otimes:pB,otimes:dB,Ouml:hB,ouml:mB,ovbar:gB,OverBar:yB,OverBrace:bB,OverBracket:wB,OverParenthesis:kB,para:CB,parallel:TB,par:EB,parsim:xB,parsl:SB,part:MB,PartialD:AB,Pcy:LB,pcy:DB,percnt:OB,period:NB,permil:RB,perp:IB,pertenk:PB,Pfr:BB,pfr:qB,Phi:FB,phi:HB,phiv:_B,phmmat:zB,phone:$B,Pi:VB,pi:UB,pitchfork:jB,piv:WB,planck:GB,planckh:KB,plankv:JB,plusacir:QB,plusb:XB,pluscir:ZB,plus:YB,plusdo:eq,plusdu:tq,pluse:rq,PlusMinus:nq,plusmn:aq,plussim:iq,plustwo:oq,pm:sq,Poincareplane:lq,pointint:uq,popf:cq,Popf:fq,pound:vq,prap:pq,Pr:dq,pr:hq,prcue:mq,precapprox:gq,prec:yq,preccurlyeq:bq,Precedes:wq,PrecedesEqual:kq,PrecedesSlantEqual:Cq,PrecedesTilde:Tq,preceq:Eq,precnapprox:xq,precneqq:Sq,precnsim:Mq,pre:Aq,prE:Lq,precsim:Dq,prime:Oq,Prime:Nq,primes:Rq,prnap:Iq,prnE:Pq,prnsim:Bq,prod:qq,Product:Fq,profalar:Hq,profline:_q,profsurf:zq,prop:$q,Proportional:Vq,Proportion:Uq,propto:jq,prsim:Wq,prurel:Gq,Pscr:Kq,pscr:Jq,Psi:Qq,psi:Xq,puncsp:Zq,Qfr:Yq,qfr:eF,qint:tF,qopf:rF,Qopf:nF,qprime:aF,Qscr:iF,qscr:oF,quaternions:sF,quatint:lF,quest:uF,questeq:cF,quot:fF,QUOT:vF,rAarr:pF,race:dF,Racute:hF,racute:mF,radic:gF,raemptyv:yF,rang:bF,Rang:wF,rangd:kF,range:CF,rangle:TF,raquo:EF,rarrap:xF,rarrb:SF,rarrbfs:MF,rarrc:AF,rarr:LF,Rarr:DF,rArr:OF,rarrfs:NF,rarrhk:RF,rarrlp:IF,rarrpl:PF,rarrsim:BF,Rarrtl:qF,rarrtl:FF,rarrw:HF,ratail:_F,rAtail:zF,ratio:$F,rationals:VF,rbarr:UF,rBarr:jF,RBarr:WF,rbbrk:GF,rbrace:KF,rbrack:JF,rbrke:QF,rbrksld:XF,rbrkslu:ZF,Rcaron:YF,rcaron:eH,Rcedil:tH,rcedil:rH,rceil:nH,rcub:aH,Rcy:iH,rcy:oH,rdca:sH,rdldhar:lH,rdquo:uH,rdquor:cH,rdsh:fH,real:vH,realine:pH,realpart:dH,reals:hH,Re:mH,rect:gH,reg:yH,REG:bH,ReverseElement:wH,ReverseEquilibrium:kH,ReverseUpEquilibrium:CH,rfisht:TH,rfloor:EH,rfr:xH,Rfr:SH,rHar:MH,rhard:AH,rharu:LH,rharul:DH,Rho:OH,rho:NH,rhov:RH,RightAngleBracket:IH,RightArrowBar:PH,rightarrow:BH,RightArrow:qH,Rightarrow:FH,RightArrowLeftArrow:HH,rightarrowtail:_H,RightCeiling:zH,RightDoubleBracket:$H,RightDownTeeVector:VH,RightDownVectorBar:UH,RightDownVector:jH,RightFloor:WH,rightharpoondown:GH,rightharpoonup:KH,rightleftarrows:JH,rightleftharpoons:QH,rightrightarrows:XH,rightsquigarrow:ZH,RightTeeArrow:YH,RightTee:e_,RightTeeVector:t_,rightthreetimes:r_,RightTriangleBar:n_,RightTriangle:a_,RightTriangleEqual:i_,RightUpDownVector:o_,RightUpTeeVector:s_,RightUpVectorBar:l_,RightUpVector:u_,RightVectorBar:c_,RightVector:f_,ring:v_,risingdotseq:p_,rlarr:d_,rlhar:h_,rlm:m_,rmoustache:g_,rmoust:y_,rnmid:b_,roang:w_,roarr:k_,robrk:C_,ropar:T_,ropf:E_,Ropf:x_,roplus:S_,rotimes:M_,RoundImplies:A_,rpar:L_,rpargt:D_,rppolint:O_,rrarr:N_,Rrightarrow:R_,rsaquo:I_,rscr:P_,Rscr:B_,rsh:q_,Rsh:F_,rsqb:H_,rsquo:__,rsquor:z_,rthree:$_,rtimes:V_,rtri:U_,rtrie:j_,rtrif:W_,rtriltri:G_,RuleDelayed:K_,ruluhar:J_,rx:Q_,Sacute:X_,sacute:Z_,sbquo:Y_,scap:e2,Scaron:t2,scaron:r2,Sc:n2,sc:a2,sccue:i2,sce:o2,scE:s2,Scedil:l2,scedil:u2,Scirc:c2,scirc:f2,scnap:v2,scnE:p2,scnsim:d2,scpolint:h2,scsim:m2,Scy:g2,scy:y2,sdotb:b2,sdot:w2,sdote:k2,searhk:C2,searr:T2,seArr:E2,searrow:x2,sect:S2,semi:M2,seswar:A2,setminus:L2,setmn:D2,sext:O2,Sfr:N2,sfr:R2,sfrown:I2,sharp:P2,SHCHcy:B2,shchcy:q2,SHcy:F2,shcy:H2,ShortDownArrow:_2,ShortLeftArrow:z2,shortmid:$2,shortparallel:V2,ShortRightArrow:U2,ShortUpArrow:j2,shy:W2,Sigma:G2,sigma:K2,sigmaf:J2,sigmav:Q2,sim:X2,simdot:Z2,sime:Y2,simeq:ez,simg:tz,simgE:rz,siml:nz,simlE:az,simne:iz,simplus:oz,simrarr:sz,slarr:lz,SmallCircle:uz,smallsetminus:cz,smashp:fz,smeparsl:vz,smid:pz,smile:dz,smt:hz,smte:mz,smtes:gz,SOFTcy:yz,softcy:bz,solbar:wz,solb:kz,sol:Cz,Sopf:Tz,sopf:Ez,spades:xz,spadesuit:Sz,spar:Mz,sqcap:Az,sqcaps:Lz,sqcup:Dz,sqcups:Oz,Sqrt:Nz,sqsub:Rz,sqsube:Iz,sqsubset:Pz,sqsubseteq:Bz,sqsup:qz,sqsupe:Fz,sqsupset:Hz,sqsupseteq:_z,square:zz,Square:$z,SquareIntersection:Vz,SquareSubset:Uz,SquareSubsetEqual:jz,SquareSuperset:Wz,SquareSupersetEqual:Gz,SquareUnion:Kz,squarf:Jz,squ:Qz,squf:Xz,srarr:Zz,Sscr:Yz,sscr:e$,ssetmn:t$,ssmile:r$,sstarf:n$,Star:a$,star:i$,starf:o$,straightepsilon:s$,straightphi:l$,strns:u$,sub:c$,Sub:f$,subdot:v$,subE:p$,sube:d$,subedot:h$,submult:m$,subnE:g$,subne:y$,subplus:b$,subrarr:w$,subset:k$,Subset:C$,subseteq:T$,subseteqq:E$,SubsetEqual:x$,subsetneq:S$,subsetneqq:M$,subsim:A$,subsub:L$,subsup:D$,succapprox:O$,succ:N$,succcurlyeq:R$,Succeeds:I$,SucceedsEqual:P$,SucceedsSlantEqual:B$,SucceedsTilde:q$,succeq:F$,succnapprox:H$,succneqq:_$,succnsim:z$,succsim:$$,SuchThat:V$,sum:U$,Sum:j$,sung:W$,sup1:G$,sup2:K$,sup3:J$,sup:Q$,Sup:X$,supdot:Z$,supdsub:Y$,supE:eV,supe:tV,supedot:rV,Superset:nV,SupersetEqual:aV,suphsol:iV,suphsub:oV,suplarr:sV,supmult:lV,supnE:uV,supne:cV,supplus:fV,supset:vV,Supset:pV,supseteq:dV,supseteqq:hV,supsetneq:mV,supsetneqq:gV,supsim:yV,supsub:bV,supsup:wV,swarhk:kV,swarr:CV,swArr:TV,swarrow:EV,swnwar:xV,szlig:SV,Tab:MV,target:AV,Tau:LV,tau:DV,tbrk:OV,Tcaron:NV,tcaron:RV,Tcedil:IV,tcedil:PV,Tcy:BV,tcy:qV,tdot:FV,telrec:HV,Tfr:_V,tfr:zV,there4:$V,therefore:VV,Therefore:UV,Theta:jV,theta:WV,thetasym:GV,thetav:KV,thickapprox:JV,thicksim:QV,ThickSpace:XV,ThinSpace:ZV,thinsp:YV,thkap:eU,thksim:tU,THORN:rU,thorn:nU,tilde:aU,Tilde:iU,TildeEqual:oU,TildeFullEqual:sU,TildeTilde:lU,timesbar:uU,timesb:cU,times:fU,timesd:vU,tint:pU,toea:dU,topbot:hU,topcir:mU,top:gU,Topf:yU,topf:bU,topfork:wU,tosa:kU,tprime:CU,trade:TU,TRADE:EU,triangle:xU,triangledown:SU,triangleleft:MU,trianglelefteq:AU,triangleq:LU,triangleright:DU,trianglerighteq:OU,tridot:NU,trie:RU,triminus:IU,TripleDot:PU,triplus:BU,trisb:qU,tritime:FU,trpezium:HU,Tscr:_U,tscr:zU,TScy:$U,tscy:VU,TSHcy:UU,tshcy:jU,Tstrok:WU,tstrok:GU,twixt:KU,twoheadleftarrow:JU,twoheadrightarrow:QU,Uacute:XU,uacute:ZU,uarr:YU,Uarr:e3,uArr:t3,Uarrocir:r3,Ubrcy:n3,ubrcy:a3,Ubreve:i3,ubreve:o3,Ucirc:s3,ucirc:l3,Ucy:u3,ucy:c3,udarr:f3,Udblac:v3,udblac:p3,udhar:d3,ufisht:h3,Ufr:m3,ufr:g3,Ugrave:y3,ugrave:b3,uHar:w3,uharl:k3,uharr:C3,uhblk:T3,ulcorn:E3,ulcorner:x3,ulcrop:S3,ultri:M3,Umacr:A3,umacr:L3,uml:D3,UnderBar:O3,UnderBrace:N3,UnderBracket:R3,UnderParenthesis:I3,Union:P3,UnionPlus:B3,Uogon:q3,uogon:F3,Uopf:H3,uopf:_3,UpArrowBar:z3,uparrow:$3,UpArrow:V3,Uparrow:U3,UpArrowDownArrow:j3,updownarrow:W3,UpDownArrow:G3,Updownarrow:K3,UpEquilibrium:J3,upharpoonleft:Q3,upharpoonright:X3,uplus:Z3,UpperLeftArrow:Y3,UpperRightArrow:ej,upsi:tj,Upsi:rj,upsih:nj,Upsilon:aj,upsilon:ij,UpTeeArrow:oj,UpTee:sj,upuparrows:lj,urcorn:uj,urcorner:cj,urcrop:fj,Uring:vj,uring:pj,urtri:dj,Uscr:hj,uscr:mj,utdot:gj,Utilde:yj,utilde:bj,utri:wj,utrif:kj,uuarr:Cj,Uuml:Tj,uuml:Ej,uwangle:xj,vangrt:Sj,varepsilon:Mj,varkappa:Aj,varnothing:Lj,varphi:Dj,varpi:Oj,varpropto:Nj,varr:Rj,vArr:Ij,varrho:Pj,varsigma:Bj,varsubsetneq:qj,varsubsetneqq:Fj,varsupsetneq:Hj,varsupsetneqq:_j,vartheta:zj,vartriangleleft:$j,vartriangleright:Vj,vBar:Uj,Vbar:jj,vBarv:Wj,Vcy:Gj,vcy:Kj,vdash:Jj,vDash:Qj,Vdash:Xj,VDash:Zj,Vdashl:Yj,veebar:eW,vee:tW,Vee:rW,veeeq:nW,vellip:aW,verbar:iW,Verbar:oW,vert:sW,Vert:lW,VerticalBar:uW,VerticalLine:cW,VerticalSeparator:fW,VerticalTilde:vW,VeryThinSpace:pW,Vfr:dW,vfr:hW,vltri:mW,vnsub:gW,vnsup:yW,Vopf:bW,vopf:wW,vprop:kW,vrtri:CW,Vscr:TW,vscr:EW,vsubnE:xW,vsubne:SW,vsupnE:MW,vsupne:AW,Vvdash:LW,vzigzag:DW,Wcirc:OW,wcirc:NW,wedbar:RW,wedge:IW,Wedge:PW,wedgeq:BW,weierp:qW,Wfr:FW,wfr:HW,Wopf:_W,wopf:zW,wp:$W,wr:VW,wreath:UW,Wscr:jW,wscr:WW,xcap:GW,xcirc:KW,xcup:JW,xdtri:QW,Xfr:XW,xfr:ZW,xharr:YW,xhArr:eG,Xi:tG,xi:rG,xlarr:nG,xlArr:aG,xmap:iG,xnis:oG,xodot:sG,Xopf:lG,xopf:uG,xoplus:cG,xotime:fG,xrarr:vG,xrArr:pG,Xscr:dG,xscr:hG,xsqcup:mG,xuplus:gG,xutri:yG,xvee:bG,xwedge:wG,Yacute:kG,yacute:CG,YAcy:TG,yacy:EG,Ycirc:xG,ycirc:SG,Ycy:MG,ycy:AG,yen:LG,Yfr:DG,yfr:OG,YIcy:NG,yicy:RG,Yopf:IG,yopf:PG,Yscr:BG,yscr:qG,YUcy:FG,yucy:HG,yuml:_G,Yuml:zG,Zacute:$G,zacute:VG,Zcaron:UG,zcaron:jG,Zcy:WG,zcy:GG,Zdot:KG,zdot:JG,zeetrf:QG,ZeroWidthSpace:XG,Zeta:ZG,zeta:YG,zfr:e4,Zfr:t4,ZHcy:r4,zhcy:n4,zigrarr:a4,zopf:i4,Zopf:o4,Zscr:s4,zscr:l4,zwj:u4,zwnj:c4},f4="",v4="",p4="",d4="",h4="",m4="",g4="",y4="",b4="",w4="&",k4="&",C4="",T4="",E4="",x4="",S4="",M4="",A4="",L4="",D4="",O4="",N4="",R4="",I4="",P4="",B4="",q4="",F4="",H4="",_4="",z4="",$4="",V4="",U4="",j4="",W4="",G4="",K4="",J4="",Q4="",X4=">",Z4=">",Y4="",e8="",t8="",r8="",n8="",a8="",i8="",o8="",s8="",l8="",u8="",c8="<",f8="<",v8="",p8="",d8="",h8="",m8="",g8="",y8="",b8="",w8="",k8="",C8="",T8="",E8="",x8="",S8="",M8="",A8="",L8="",D8="",O8="",N8="",R8="",I8="",P8="",B8='"',q8='"',F8="",H8="",_8="",z8="",$8="",V8="",U8="",j8="",W8="",G8="",K8="",J8="",Q8="",X8="",Z8="",Y8="",e5="",t5="",r5="",n5="",a5="",i5="",o5="",s5="",l5="",u5={Aacute:f4,aacute:v4,Acirc:p4,acirc:d4,acute:h4,AElig:m4,aelig:g4,Agrave:y4,agrave:b4,amp:w4,AMP:k4,Aring:C4,aring:T4,Atilde:E4,atilde:x4,Auml:S4,auml:M4,brvbar:A4,Ccedil:L4,ccedil:D4,cedil:O4,cent:N4,copy:R4,COPY:I4,curren:P4,deg:B4,divide:q4,Eacute:F4,eacute:H4,Ecirc:_4,ecirc:z4,Egrave:$4,egrave:V4,ETH:U4,eth:j4,Euml:W4,euml:G4,frac12:K4,frac14:J4,frac34:Q4,gt:X4,GT:Z4,Iacute:Y4,iacute:e8,Icirc:t8,icirc:r8,iexcl:n8,Igrave:a8,igrave:i8,iquest:o8,Iuml:s8,iuml:l8,laquo:u8,lt:c8,LT:f8,macr:v8,micro:p8,middot:d8,nbsp:h8,not:m8,Ntilde:g8,ntilde:y8,Oacute:b8,oacute:w8,Ocirc:k8,ocirc:C8,Ograve:T8,ograve:E8,ordf:x8,ordm:S8,Oslash:M8,oslash:A8,Otilde:L8,otilde:D8,Ouml:O8,ouml:N8,para:R8,plusmn:I8,pound:P8,quot:B8,QUOT:q8,raquo:F8,reg:H8,REG:_8,sect:z8,shy:$8,sup1:V8,sup2:U8,sup3:j8,szlig:W8,THORN:G8,thorn:K8,times:J8,Uacute:Q8,uacute:X8,Ucirc:Z8,ucirc:Y8,Ugrave:e5,ugrave:t5,uml:r5,Uuml:n5,uuml:a5,Yacute:i5,yacute:o5,yen:s5,yuml:l5},c5="&",f5="'",v5=">",p5="<",d5='"',qf={amp:c5,apos:f5,gt:v5,lt:p5,quot:d5},hu={},h5={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376},m5=z&&z.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(hu,"__esModule",{value:!0});var Ff=m5(h5),g5=String.fromCodePoint||function(f){var c="";return f>65535&&(f-=65536,c+=String.fromCharCode(f>>>10&1023|55296),f=56320|f&1023),c+=String.fromCharCode(f),c};function y5(f){return f>=55296&&f<=57343||f>1114111?"":(f in Ff.default&&(f=Ff.default[f]),g5(f))}hu.default=y5;var as=z&&z.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(oe,"__esModule",{value:!0}),oe.decodeHTML=oe.decodeHTMLStrict=oe.decodeXML=void 0;var mu=as(Bf),b5=as(u5),w5=as(qf),Hf=as(hu),k5=/&(?:[a-zA-Z0-9]+|#[xX][\da-fA-F]+|#\d+);/g;oe.decodeXML=_f(w5.default),oe.decodeHTMLStrict=_f(mu.default);function _f(f){var c=$f(f);return function(m){return String(m).replace(k5,c)}}var zf=function(f,c){return f<c?1:-1};oe.decodeHTML=function(){for(var f=Object.keys(b5.default).sort(zf),c=Object.keys(mu.default).sort(zf),m=0,k=0;m<c.length;m++)f[k]===c[m]?(c[m]+=";?",k++):c[m]+=";";var D=new RegExp("&(?:"+c.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),B=$f(mu.default);function _(W){return W.substr(-1)!==";"&&(W+=";"),B(W)}return function(W){return String(W).replace(D,_)}}();function $f(f){return function(m){if(m.charAt(1)==="#"){var k=m.charAt(2);return k==="X"||k==="x"?Hf.default(parseInt(m.substr(3),16)):Hf.default(parseInt(m.substr(2),10))}return f[m.slice(1,-1)]||m}}var Ur={},Vf=z&&z.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(Ur,"__esModule",{value:!0}),Ur.escapeUTF8=Ur.escape=Ur.encodeNonAsciiHTML=Ur.encodeHTML=Ur.encodeXML=void 0;var C5=Vf(qf),Uf=Wf(C5.default),jf=Gf(Uf);Ur.encodeXML=Qf(Uf);var T5=Vf(Bf),gu=Wf(T5.default),E5=Gf(gu);Ur.encodeHTML=S5(gu,E5),Ur.encodeNonAsciiHTML=Qf(gu);function Wf(f){return Object.keys(f).sort().reduce(function(c,m){return c[f[m]]="&"+m+";",c},{})}function Gf(f){for(var c=[],m=[],k=0,D=Object.keys(f);k<D.length;k++){var B=D[k];B.length===1?c.push("\\"+B):m.push(B)}c.sort();for(var _=0;_<c.length-1;_++){for(var W=_;W<c.length-1&&c[W].charCodeAt(1)+1===c[W+1].charCodeAt(1);)W+=1;var fe=1+W-_;fe<3||c.splice(_,fe,c[_]+"-"+c[W])}return m.unshift("["+c.join("")+"]"),new RegExp(m.join("|"),"g")}var Kf=/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,x5=String.prototype.codePointAt!=null?function(f){return f.codePointAt(0)}:function(f){return(f.charCodeAt(0)-55296)*1024+f.charCodeAt(1)-56320+65536};function is(f){return"&#x"+(f.length>1?x5(f):f.charCodeAt(0)).toString(16).toUpperCase()+";"}function S5(f,c){return function(m){return m.replace(c,function(k){return f[k]}).replace(Kf,is)}}var Jf=new RegExp(jf.source+"|"+Kf.source,"g");function M5(f){return f.replace(Jf,is)}Ur.escape=M5;function A5(f){return f.replace(jf,is)}Ur.escapeUTF8=A5;function Qf(f){return function(c){return c.replace(Jf,function(m){return f[m]||is(m)})}}(function(f){Object.defineProperty(f,"__esModule",{value:!0}),f.decodeXMLStrict=f.decodeHTML5Strict=f.decodeHTML4Strict=f.decodeHTML5=f.decodeHTML4=f.decodeHTMLStrict=f.decodeHTML=f.decodeXML=f.encodeHTML5=f.encodeHTML4=f.escapeUTF8=f.escape=f.encodeNonAsciiHTML=f.encodeHTML=f.encodeXML=f.encode=f.decodeStrict=f.decode=void 0;var c=oe,m=Ur;function k(fe,he){return(!he||he<=0?c.decodeXML:c.decodeHTML)(fe)}f.decode=k;function D(fe,he){return(!he||he<=0?c.decodeXML:c.decodeHTMLStrict)(fe)}f.decodeStrict=D;function B(fe,he){return(!he||he<=0?m.encodeXML:m.encodeHTML)(fe)}f.encode=B;var _=Ur;Object.defineProperty(f,"encodeXML",{enumerable:!0,get:function(){return _.encodeXML}}),Object.defineProperty(f,"encodeHTML",{enumerable:!0,get:function(){return _.encodeHTML}}),Object.defineProperty(f,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return _.encodeNonAsciiHTML}}),Object.defineProperty(f,"escape",{enumerable:!0,get:function(){return _.escape}}),Object.defineProperty(f,"escapeUTF8",{enumerable:!0,get:function(){return _.escapeUTF8}}),Object.defineProperty(f,"encodeHTML4",{enumerable:!0,get:function(){return _.encodeHTML}}),Object.defineProperty(f,"encodeHTML5",{enumerable:!0,get:function(){return _.encodeHTML}});var W=oe;Object.defineProperty(f,"decodeXML",{enumerable:!0,get:function(){return W.decodeXML}}),Object.defineProperty(f,"decodeHTML",{enumerable:!0,get:function(){return W.decodeHTML}}),Object.defineProperty(f,"decodeHTMLStrict",{enumerable:!0,get:function(){return W.decodeHTMLStrict}}),Object.defineProperty(f,"decodeHTML4",{enumerable:!0,get:function(){return W.decodeHTML}}),Object.defineProperty(f,"decodeHTML5",{enumerable:!0,get:function(){return W.decodeHTML}}),Object.defineProperty(f,"decodeHTML4Strict",{enumerable:!0,get:function(){return W.decodeHTMLStrict}}),Object.defineProperty(f,"decodeHTML5Strict",{enumerable:!0,get:function(){return W.decodeHTMLStrict}}),Object.defineProperty(f,"decodeXMLStrict",{enumerable:!0,get:function(){return W.decodeXML}})})(X);var Xf="&(?:#x[a-f0-9]{1,6}|#[0-9]{1,7}|[a-z][a-z0-9]{1,31});",L5=92,D5=/[\\&]/,yu="[!\"#$%&'()*+,./:;<=>?@[\\\\\\]^_`{|}~-]",O5=new RegExp("\\\\"+yu+"|"+Xf,"gi"),N5='[&<>"]',Zf=new RegExp(N5,"g"),R5=function(f){return f.charCodeAt(0)===L5?f.charAt(1):X.decodeHTML(f)};function lo(f){return D5.test(f)?f.replace(O5,R5):f}function ss(f){try{return ne(f)}catch{return f}}function I5(f){switch(f){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";default:return f}}function Ei(f){return Zf.test(f)?f.replace(Zf,I5):f}function bu(f,c){for(var m=[],k=0;k<c;k++)m.push(f);return m.join("")}function Yf(f){return f?!/[^ \t]+/.test(f):!0}var P5=function(){function f(c){this.current=c,this.root=c,this.entering=!0}return f.prototype.next=function(){var c=this.current,m=this.entering;if(c===null)return null;var k=wu(c);return m&&k?c.firstChild?(this.current=c.firstChild,this.entering=!0):this.entering=!1:c===this.root?this.current=null:c.next===null?(this.current=c.parent,this.entering=!1):(this.current=c.next,this.entering=!0),{entering:m,node:c}},f.prototype.resumeAt=function(c,m){this.current=c,this.entering=m===!0},f}();function wu(f){switch(f.type){case"document":case"blockQuote":case"list":case"item":case"paragraph":case"heading":case"emph":case"strong":case"strike":case"link":case"image":case"table":case"tableHead":case"tableBody":case"tableRow":case"tableCell":case"tableDelimRow":case"customInline":return!0;default:return!1}}var B5=1,ls={};function q5(f){return ls[f]}function ku(f){delete ls[f]}function F5(){ls={}}var uo=function(){function f(c,m){this.parent=null,this.prev=null,this.next=null,this.firstChild=null,this.lastChild=null,this.literal=null,c==="document"?this.id=-1:this.id=B5++,this.type=c,this.sourcepos=m,ls[this.id]=this}return f.prototype.isContainer=function(){return wu(this)},f.prototype.unlink=function(){this.prev?this.prev.next=this.next:this.parent&&(this.parent.firstChild=this.next),this.next?this.next.prev=this.prev:this.parent&&(this.parent.lastChild=this.prev),this.parent=null,this.next=null,this.prev=null},f.prototype.replaceWith=function(c){this.insertBefore(c),this.unlink()},f.prototype.insertAfter=function(c){c.unlink(),c.next=this.next,c.next&&(c.next.prev=c),c.prev=this,this.next=c,this.parent&&(c.parent=this.parent,c.next||(c.parent.lastChild=c))},f.prototype.insertBefore=function(c){c.unlink(),c.prev=this.prev,c.prev&&(c.prev.next=c),c.next=this,this.prev=c,c.parent=this.parent,c.prev||(c.parent.firstChild=c)},f.prototype.appendChild=function(c){c.unlink(),c.parent=this,this.lastChild?(this.lastChild.next=c,c.prev=this.lastChild,this.lastChild=c):(this.firstChild=c,this.lastChild=c)},f.prototype.prependChild=function(c){c.unlink(),c.parent=this,this.firstChild?(this.firstChild.prev=c,c.next=this.firstChild,this.firstChild=c):(this.firstChild=c,this.lastChild=c)},f.prototype.walker=function(){return new P5(this)},f}(),ea=function(f){O(c,f);function c(m,k){var D=f.call(this,m,k)||this;return D.open=!0,D.lineOffsets=null,D.stringContent=null,D.lastLineBlank=!1,D.lastLineChecked=!1,D.type=m,D}return c}(uo),H5=function(f){O(c,f);function c(){var m=f!==null&&f.apply(this,arguments)||this;return m.listData=null,m}return c}(ea),_5=function(f){O(c,f);function c(){var m=f!==null&&f.apply(this,arguments)||this;return m.level=0,m.headingType="atx",m}return c}(ea),z5=function(f){O(c,f);function c(){var m=f!==null&&f.apply(this,arguments)||this;return m.isFenced=!1,m.fenceChar=null,m.fenceLength=0,m.fenceOffset=-1,m.info=null,m.infoPadding=0,m}return c}(ea),$5=function(f){O(c,f);function c(){var m=f!==null&&f.apply(this,arguments)||this;return m.columns=[],m}return c}(ea),V5=function(f){O(c,f);function c(){var m=f!==null&&f.apply(this,arguments)||this;return m.startIdx=0,m.endIdx=0,m.paddingLeft=0,m.paddingRight=0,m.ignored=!1,m}return c}(ea),U5=function(f){O(c,f);function c(){var m=f!==null&&f.apply(this,arguments)||this;return m.title="",m.dest="",m.label="",m}return c}(ea),j5=function(f){O(c,f);function c(){var m=f!==null&&f.apply(this,arguments)||this;return m.syntaxLength=0,m.offset=-1,m.info="",m}return c}(ea),W5=function(f){O(c,f);function c(){var m=f!==null&&f.apply(this,arguments)||this;return m.htmlBlockType=-1,m}return c}(ea),G5=function(f){O(c,f);function c(){var m=f!==null&&f.apply(this,arguments)||this;return m.destination=null,m.title=null,m.extendedAutolink=!1,m}return c}(uo),K5=function(f){O(c,f);function c(){var m=f!==null&&f.apply(this,arguments)||this;return m.tickCount=0,m}return c}(uo),J5=function(f){O(c,f);function c(){var m=f!==null&&f.apply(this,arguments)||this;return m.info="",m}return c}(uo);function Vt(f,c){switch(f){case"heading":return new _5(f,c);case"list":case"item":return new H5(f,c);case"link":case"image":return new G5(f,c);case"codeBlock":return new z5(f,c);case"htmlBlock":return new W5(f,c);case"table":return new $5(f,c);case"tableCell":return new V5(f,c);case"document":case"paragraph":case"blockQuote":case"thematicBreak":case"tableRow":case"tableBody":case"tableHead":case"frontMatter":return new ea(f,c);case"code":return new K5(f,c);case"refDef":return new U5(f,c);case"customBlock":return new j5(f,c);case"customInline":return new J5(f,c);default:return new uo(f,c)}}function ev(f){return f.type==="codeBlock"}function Q5(f){return f.type==="htmlBlock"}function X5(f){return f.type==="heading"}function tv(f){return f.type==="list"}function Z5(f){return f.type==="table"}function xi(f){return f.type==="refDef"}function rv(f){return f.type==="customBlock"}function Y5(f){return f.type==="customInline"}function Zt(f,c){var m=Vt("text",c);return m.literal=f,m}var nv="[A-Za-z][A-Za-z0-9-]*",e9="[a-zA-Z_:][a-zA-Z0-9:._-]*",t9="[^\"'=<>`\\x00-\\x20]+",r9="'[^']*'",n9='"[^"]*"',a9="(?:"+t9+"|"+r9+"|"+n9+")",i9="(?:\\s*=\\s*"+a9+")",o9="(?:\\s+"+e9+i9+"?)",av="<"+nv+o9+"*\\s*/?>",iv="</"+nv+"\\s*[>]",s9="<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->",l9="[<][?].*?[?][>]",u9="<![A-Z]+\\s+[^>]*>",c9="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",f9="(?:"+av+"|"+iv+"|"+s9+"|"+l9+"|"+u9+"|"+c9+")",v9=new RegExp("^"+f9,"i");/*! http://mths.be/fromcodepoint v0.2.1 by @mathias */var Cu;if(String.fromCodePoint)Cu=function(f){try{return String.fromCodePoint(f)}catch(c){if(c instanceof RangeError)return"";throw c}};else{var p9=String.fromCharCode,d9=Math.floor;Cu=function(){for(var f=[],c=0;c<arguments.length;c++)f[c]=arguments[c];var m=16384,k=[],D,B,_=-1,W=f.length;if(!W)return"";for(var fe="";++_<W;){var he=Number(f[_]);if(!isFinite(he)||he<0||he>1114111||d9(he)!==he)return"";he<=65535?k.push(he):(he-=65536,D=(he>>10)+55296,B=he%1024+56320,k.push(D,B)),(_+1===W||k.length>m)&&(fe+=p9.apply(void 0,k),k.length=0)}return fe}}var Tu=Cu,h9="(?:[w-]+.)*[A-Za-z0-9-]+.[A-Za-z0-9-]+",m9="[^<\\s]*[^<?!.,:*_?~\\s]",g9="[\\w.+-]+@(?:[\\w-]+\\.)+[\\w-]+";function y9(f){var c=/\)+$/.exec(f);if(c){for(var m=0,k=0,D=f;k<D.length;k++){var B=D[k];B==="("?m<0?m=1:m+=1:B===")"&&(m-=1)}if(m<0){var _=Math.min(-m,c[0].length);return f.substring(0,f.length-_)}}return f}function b9(f){return f.replace(/&[A-Za-z0-9]+;$/,"")}function w9(f){for(var c=new RegExp(g9,"g"),m=[],k;k=c.exec(f);){var D=k[0];/[_-]+$/.test(D)||m.push({text:D,range:[k.index,k.index+D.length-1],url:"mailto:"+D})}return m}function k9(f){for(var c=new RegExp("(www|https?://)."+h9+m9,"g"),m=[],k;k=c.exec(f);){var D=b9(y9(k[0])),B=k[1]==="www"?"http://":"";m.push({text:D,range:[k.index,k.index+D.length-1],url:""+B+D})}return m}function C9(f){return q(q([],k9(f)),w9(f)).sort(function(c,m){return c.range[0]-m.range[0]})}function T9(f,c){typeof c=="boolean"&&(c=C9);for(var m,k=function(){var D=m.entering,B=m.node;if(D&&B.type==="text"&&B.parent.type!=="link"){var _=B.literal,W=c(_);if(!W||!W.length)return"continue";for(var fe=0,he=B.sourcepos[0],Le=he[0],Ie=he[1],xe=function(aa,RJ){return[[Le,Ie+aa],[Le,Ie+RJ]]},Ue=[],$e=0,ht=W;$e<ht.length;$e++){var Ut=ht[$e],sr=Ut.range,ta=Ut.url,ln=Ut.text;sr[0]>fe&&Ue.push(Zt(_.substring(fe,sr[0]),xe(fe,sr[0]-1)));var Wr=Vt("link",xe.apply(void 0,sr));Wr.appendChild(Zt(ln,xe.apply(void 0,sr))),Wr.destination=ta,Wr.extendedAutolink=!0,Ue.push(Wr),fe=sr[1]+1}fe<_.length&&Ue.push(Zt(_.substring(fe),xe(fe,_.length-1)));for(var gn=0,ra=Ue;gn<ra.length;gn++){var na=ra[gn];B.insertBefore(na)}B.unlink()}};m=f.next();)k()}function us(f){return f[f.length-1]}function ov(f){return f.slice(1,f.length-1).trim().replace(/[ \t\r\n]+/," ").toLowerCase().toUpperCase()}function cs(f,c){Object.keys(f).forEach(function(m){c(m,f[m])})}function E9(f){for(var c=[],m=1;m<arguments.length;m++)c[m-1]=arguments[m];var k=I({},f);return c.forEach(function(D){delete k[D]}),k}function Si(f){return!Object.keys(f).length}function x9(f){Object.keys(f).forEach(function(c){delete f[c]})}var Eu=10,xu=42,fs=95,S9=96,sv=91,M9=93,vs=126,lv=60,A9=33,uv=92,L9=38,cv=40,Su=41,D9=58,Wa=39,Ga=34,Ka=36,Mu="\\\\"+yu,fv=new RegExp(/[!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/),O9=new RegExp('^(?:"('+Mu+'|[^"\\x00])*"|'+("'("+Mu+"|[^'\\x00])*'")+"|"+("\\(("+Mu+"|[^()\\x00])*\\))")),N9=/^(?:<(?:[^<>\n\\\x00]|\\.)*>)/,vv=new RegExp("^"+yu),R9=new RegExp("^"+Xf,"i"),I9=/`+/,P9=/^`+/,B9=/\.\.\./g,q9=/--+/g,F9=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,H9=/^<[A-Za-z][A-Za-z0-9.+-]{1,31}:[^<>\x00-\x20]*>/i,_9=/^ *(?:\n *)?/,Au=/^[ \t\n\x0b\x0c\x0d]/,pv=/^\s/,z9=/ *$/,$9=/^ */,dv=/^ *(?:\n|$)/,V9=/^\[(?:[^\\\[\]]|\\.){0,1000}\]/,U9=/^[^\n`\[\]\\!<&*_'"~$]+/m,j9=function(){function f(c){this.subject="",this.delimiters=null,this.brackets=null,this.pos=0,this.lineStartNum=0,this.lineIdx=0,this.lineOffsets=[0],this.linePosOffset=0,this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.options=c}return f.prototype.sourcepos=function(c,m){var k=this.linePosOffset+this.lineOffsets[this.lineIdx],D=this.lineStartNum+this.lineIdx,B=[D,c+k];return typeof m=="number"?[B,[D,m+k]]:B},f.prototype.nextLine=function(){this.lineIdx+=1,this.linePosOffset=-this.pos},f.prototype.match=function(c){var m=c.exec(this.subject.slice(this.pos));return m===null?null:(this.pos+=m.index+m[0].length,m[0])},f.prototype.peek=function(){return this.pos<this.subject.length?this.subject.charCodeAt(this.pos):-1},f.prototype.spnl=function(){return this.match(_9),!0},f.prototype.parseBackticks=function(c){var m=this.pos+1,k=this.match(P9);if(k===null)return!1;for(var D=this.pos,B;(B=this.match(I9))!==null;)if(B===k){var _=this.subject.slice(D,this.pos-k.length),W=this.sourcepos(m,this.pos),fe=_.split(`
`);if(fe.length>1){var he=us(fe);this.lineIdx+=fe.length-1,this.linePosOffset=-(this.pos-he.length-k.length),W[1]=this.sourcepos(this.pos),_=fe.join(" ")}var Le=Vt("code",W);return _.length>0&&_.match(/[^ ]/)!==null&&_[0]==" "&&_[_.length-1]==" "?Le.literal=_.slice(1,_.length-1):Le.literal=_,Le.tickCount=k.length,c.appendChild(Le),!0}return this.pos=D,c.appendChild(Zt(k,this.sourcepos(m,this.pos-1))),!0},f.prototype.parseBackslash=function(c){var m=this.subject,k;this.pos+=1;var D=this.pos;return this.peek()===Eu?(this.pos+=1,k=Vt("linebreak",this.sourcepos(this.pos-1,this.pos)),c.appendChild(k),this.nextLine()):vv.test(m.charAt(this.pos))?(c.appendChild(Zt(m.charAt(this.pos),this.sourcepos(D,this.pos))),this.pos+=1):c.appendChild(Zt("\\",this.sourcepos(D,D))),!0},f.prototype.parseAutolink=function(c){var m,k,D,B=this.pos+1;return(m=this.match(F9))?(k=m.slice(1,m.length-1),D=Vt("link",this.sourcepos(B,this.pos)),D.destination=ss("mailto:"+k),D.title="",D.appendChild(Zt(k,this.sourcepos(B+1,this.pos-1))),c.appendChild(D),!0):(m=this.match(H9))?(k=m.slice(1,m.length-1),D=Vt("link",this.sourcepos(B,this.pos)),D.destination=ss(k),D.title="",D.appendChild(Zt(k,this.sourcepos(B+1,this.pos-1))),c.appendChild(D),!0):!1},f.prototype.parseHtmlTag=function(c){var m=this.pos+1,k=this.match(v9);if(k===null)return!1;var D=Vt("htmlInline",this.sourcepos(m,this.pos));return D.literal=k,c.appendChild(D),!0},f.prototype.scanDelims=function(c){var m=0,k=this.pos;if(c===Wa||c===Ga)m++,this.pos++;else for(;this.peek()===c;)m++,this.pos++;if(m===0||m<2&&(c===vs||c===Ka))return this.pos=k,null;var D=k===0?`
`:this.subject.charAt(k-1),B=this.peek(),_;B===-1?_=`
`:_=Tu(B);var W=pv.test(_),fe=fv.test(_),he=pv.test(D),Le=fv.test(D),Ie=!W&&(!fe||he||Le),xe=!he&&(!Le||W||fe),Ue,$e;return c===fs?(Ue=Ie&&(!xe||Le),$e=xe&&(!Ie||fe)):c===Wa||c===Ga?(Ue=Ie&&!xe,$e=xe):c===Ka?(Ue=!W,$e=!he):(Ue=Ie,$e=xe),this.pos=k,{numdelims:m,canOpen:Ue,canClose:$e}},f.prototype.handleDelim=function(c,m){var k=this.scanDelims(c);if(!k)return!1;var D=k.numdelims,B=this.pos+1,_;this.pos+=D,c===Wa?_="":c===Ga?_="":_=this.subject.slice(B-1,this.pos);var W=Zt(_,this.sourcepos(B,this.pos));return m.appendChild(W),(k.canOpen||k.canClose)&&(this.options.smart||c!==Wa&&c!==Ga)&&(this.delimiters={cc:c,numdelims:D,origdelims:D,node:W,previous:this.delimiters,next:null,canOpen:k.canOpen,canClose:k.canClose},this.delimiters.previous&&(this.delimiters.previous.next=this.delimiters)),!0},f.prototype.removeDelimiter=function(c){c.previous!==null&&(c.previous.next=c.next),c.next===null?this.delimiters=c.previous:c.next.previous=c.previous},f.prototype.removeDelimitersBetween=function(c,m){c.next!==m&&(c.next=m,m.previous=c)},f.prototype.processEmphasis=function(c){var m,k,D,B,_,W,fe,he=!1,Le=(m={},m[fs]=[c,c,c],m[xu]=[c,c,c],m[Wa]=[c],m[Ga]=[c],m[vs]=[c],m[Ka]=[c],m);for(D=this.delimiters;D!==null&&D.previous!==c;)D=D.previous;for(;D!==null;){var Ie=D.cc,xe=Ie===fs||Ie===xu;if(!D.canClose)D=D.next;else{for(k=D.previous,fe=!1;k!==null&&k!==c&&k!==Le[Ie][xe?D.origdelims%3:0];){if(he=xe&&(D.canOpen||k.canClose)&&D.origdelims%3!==0&&(k.origdelims+D.origdelims)%3===0,k.cc===D.cc&&k.canOpen&&!he){fe=!0;break}k=k.previous}if(B=D,xe||Ie===vs||Ie===Ka){if(!fe)D=D.next;else if(k){var Ue=D.numdelims>=2&&k.numdelims>=2?2:1,$e=xe?0:1;_=k.node,W=D.node;var ht=xe?Ue===1?"emph":"strong":"strike";Ie===Ka&&(ht="customInline");var Ut=Vt(ht),sr=_.sourcepos[1],ta=W.sourcepos[0];Ut.sourcepos=[[sr[0],sr[1]-Ue+1],[ta[0],ta[1]+Ue-1]],_.sourcepos[1][1]-=Ue,W.sourcepos[0][1]+=Ue,_.literal=_.literal.slice(Ue),W.literal=W.literal.slice(Ue),k.numdelims-=Ue,D.numdelims-=Ue;for(var ln=_.next,Wr=void 0;ln&&ln!==W;)Wr=ln.next,ln.unlink(),Ut.appendChild(ln),ln=Wr;if(Ie===Ka){var gn=Ut.firstChild,ra=gn.literal||"",na=ra.split(/\s/)[0];Ut.info=na,ra.length<=na.length?gn.unlink():(gn.sourcepos[0][1]+=na.length,gn.literal=ra.replace(na+" ",""))}if(_.insertAfter(Ut),this.removeDelimitersBetween(k,D),k.numdelims<=$e&&(k.numdelims===0&&_.unlink(),this.removeDelimiter(k)),D.numdelims<=$e){D.numdelims===0&&W.unlink();var aa=D.next;this.removeDelimiter(D),D=aa}}}else Ie===Wa?(D.node.literal="",fe&&(k.node.literal=""),D=D.next):Ie===Ga&&(D.node.literal="",fe&&(k.node.literal=""),D=D.next);fe||(Le[Ie][xe?B.origdelims%3:0]=B.previous,B.canOpen||this.removeDelimiter(B))}}for(;this.delimiters!==null&&this.delimiters!==c;)this.removeDelimiter(this.delimiters)},f.prototype.parseLinkTitle=function(){var c=this.match(O9);return c===null?null:lo(c.substr(1,c.length-2))},f.prototype.parseLinkDestination=function(){var c=this.match(N9);if(c===null){if(this.peek()===lv)return null;for(var m=this.pos,k=0,D=void 0;(D=this.peek())!==-1;)if(D===uv&&vv.test(this.subject.charAt(this.pos+1)))this.pos+=1,this.peek()!==-1&&(this.pos+=1);else if(D===cv)this.pos+=1,k+=1;else if(D===Su){if(k<1)break;this.pos+=1,k-=1}else{if(Au.exec(Tu(D))!==null)break;this.pos+=1}return this.pos===m&&D!==Su||k!==0?null:(c=this.subject.substr(m,this.pos-m),ss(lo(c)))}return ss(lo(c.substr(1,c.length-2)))},f.prototype.parseLinkLabel=function(){var c=this.match(V9);return c===null||c.length>1001?0:c.length},f.prototype.parseOpenBracket=function(c){var m=this.pos;this.pos+=1;var k=Zt("[",this.sourcepos(this.pos,this.pos));return c.appendChild(k),this.addBracket(k,m,!1),!0},f.prototype.parseBang=function(c){var m=this.pos;if(this.pos+=1,this.peek()===sv){this.pos+=1;var k=Zt("![",this.sourcepos(this.pos-1,this.pos));c.appendChild(k),this.addBracket(k,m+1,!0)}else{var k=Zt("!",this.sourcepos(this.pos,this.pos));c.appendChild(k)}return!0},f.prototype.parseCloseBracket=function(c){var m=null,k=null,D=!1;this.pos+=1;var B=this.pos,_=this.brackets;if(_===null)return c.appendChild(Zt("]",this.sourcepos(B,B))),!0;if(!_.active)return c.appendChild(Zt("]",this.sourcepos(B,B))),this.removeBracket(),!0;var W=_.image,fe=this.pos;this.peek()===cv&&(this.pos++,this.spnl()&&(m=this.parseLinkDestination())!==null&&this.spnl()&&(Au.test(this.subject.charAt(this.pos-1))&&(k=this.parseLinkTitle())||!0)&&this.spnl()&&this.peek()===Su?(this.pos+=1,D=!0):this.pos=fe);var he="";if(!D){var Le=this.pos,Ie=this.parseLinkLabel();if(Ie>2?he=this.subject.slice(Le,Le+Ie):_.bracketAfter||(he=this.subject.slice(_.index,B)),Ie===0&&(this.pos=fe),he){he=ov(he);var xe=this.refMap[he];xe&&(m=xe.destination,k=xe.title,D=!0)}}if(D){var Ue=Vt(W?"image":"link");Ue.destination=m,Ue.title=k||"",Ue.sourcepos=[_.startpos,this.sourcepos(this.pos)];for(var $e=_.node.next,ht=void 0;$e;)ht=$e.next,$e.unlink(),Ue.appendChild($e),$e=ht;if(c.appendChild(Ue),this.processEmphasis(_.previousDelimiter),this.removeBracket(),_.node.unlink(),!W)for(_=this.brackets;_!==null;)_.image||(_.active=!1),_=_.previous;return this.options.referenceDefinition&&(this.refLinkCandidateMap[c.id]={node:c,refLabel:he}),!0}return this.removeBracket(),this.pos=B,c.appendChild(Zt("]",this.sourcepos(B,B))),this.options.referenceDefinition&&(this.refLinkCandidateMap[c.id]={node:c,refLabel:he}),!0},f.prototype.addBracket=function(c,m,k){this.brackets!==null&&(this.brackets.bracketAfter=!0),this.brackets={node:c,startpos:this.sourcepos(m+(k?0:1)),previous:this.brackets,previousDelimiter:this.delimiters,index:m,image:k,active:!0}},f.prototype.removeBracket=function(){this.brackets&&(this.brackets=this.brackets.previous)},f.prototype.parseEntity=function(c){var m,k=this.pos+1;return(m=this.match(R9))?(c.appendChild(Zt(X.decodeHTML(m),this.sourcepos(k,this.pos))),!0):!1},f.prototype.parseString=function(c){var m,k=this.pos+1;if(m=this.match(U9)){if(this.options.smart){var D=m.replace(B9,"").replace(q9,function(_){var W=0,fe=0;return _.length%3===0?fe=_.length/3:_.length%2===0?W=_.length/2:_.length%3===2?(W=1,fe=(_.length-2)/3):(W=2,fe=(_.length-4)/3),bu("",fe)+bu("",W)});c.appendChild(Zt(D,this.sourcepos(k,this.pos)))}else{var B=Zt(m,this.sourcepos(k,this.pos));c.appendChild(B)}return!0}return!1},f.prototype.parseNewline=function(c){this.pos+=1;var m=c.lastChild;if(m&&m.type==="text"&&m.literal[m.literal.length-1]===" "){var k=m.literal[m.literal.length-2]===" ",D=m.literal.length;m.literal=m.literal.replace(z9,"");var B=D-m.literal.length;m.sourcepos[1][1]-=B,c.appendChild(Vt(k?"linebreak":"softbreak",this.sourcepos(this.pos-B,this.pos)))}else c.appendChild(Vt("softbreak",this.sourcepos(this.pos,this.pos)));return this.nextLine(),this.match($9),!0},f.prototype.parseReference=function(c,m){if(!this.options.referenceDefinition)return 0;this.subject=c.stringContent,this.pos=0;var k=null,D=this.pos,B=this.parseLinkLabel();if(B===0)return 0;var _=this.subject.substr(0,B);if(this.peek()===D9)this.pos++;else return this.pos=D,0;this.spnl();var W=this.parseLinkDestination();if(W===null)return this.pos=D,0;var fe=this.pos;this.spnl(),this.pos!==fe&&(k=this.parseLinkTitle()),k===null&&(k="",this.pos=fe);var he=!0;if(this.match(dv)===null&&(k===""?he=!1:(k="",this.pos=fe,he=this.match(dv)!==null)),!he)return this.pos=D,0;var Le=ov(_);if(Le==="")return this.pos=D,0;var Ie=this.getReferenceDefSourcepos(c);c.sourcepos[0][0]=Ie[1][0]+1;var xe=Vt("refDef",Ie);return xe.title=k,xe.dest=W,xe.label=Le,c.insertBefore(xe),m[Le]?this.refDefCandidateMap[xe.id]=xe:m[Le]=Iu(xe),this.pos-D},f.prototype.mergeTextNodes=function(c){for(var m,k=[];m=c.next();){var D=m.entering,B=m.node;if(D&&B.type==="text")k.push(B);else if(k.length===1)k=[];else if(k.length>1){var _=k[0],W=k[k.length-1];_.sourcepos&&W.sourcepos&&(_.sourcepos[1]=W.sourcepos[1]),_.next=W.next,_.next&&(_.next.prev=_);for(var fe=1;fe<k.length;fe+=1)_.literal+=k[fe].literal,k[fe].unlink();k=[]}}},f.prototype.getReferenceDefSourcepos=function(c){for(var m=c.stringContent.split(/\n|\r\n/),k=!1,D=0,B={line:0,ch:0},_=0;_<m.length;_+=1){var W=m[_];if(Au.test(W))break;if(/\:/.test(W)&&D===0){if(k)break;var fe=W.indexOf(":")===W.length-1?_+1:_;B={line:fe,ch:m[fe].length},k=!0}var he=W.match(/'|"/g);if(he&&(D+=he.length),D===2){B={line:_,ch:W.length};break}}return[[c.sourcepos[0][0],c.sourcepos[0][1]],[c.sourcepos[0][0]+B.line,B.ch]]},f.prototype.parseInline=function(c){var m,k=!1,D=this.peek();if(D===-1)return!1;switch(D){case Eu:k=this.parseNewline(c);break;case uv:k=this.parseBackslash(c);break;case S9:k=this.parseBackticks(c);break;case xu:case fs:case vs:case Ka:k=this.handleDelim(D,c);break;case Wa:case Ga:k=!!(!((m=this.options)===null||m===void 0)&&m.smart)&&this.handleDelim(D,c);break;case sv:k=this.parseOpenBracket(c);break;case A9:k=this.parseBang(c);break;case M9:k=this.parseCloseBracket(c);break;case lv:k=this.parseAutolink(c)||this.parseHtmlTag(c);break;case L9:c.disabledEntityParse||(k=this.parseEntity(c));break;default:k=this.parseString(c);break}return k||(this.pos+=1,c.appendChild(Zt(Tu(D),this.sourcepos(this.pos,this.pos+1)))),!0},f.prototype.parse=function(c){for(this.subject=c.stringContent.trim(),this.pos=0,this.delimiters=null,this.brackets=null,this.lineOffsets=c.lineOffsets||[0],this.lineIdx=0,this.linePosOffset=0,this.lineStartNum=c.sourcepos[0][0],X5(c)&&(this.lineOffsets[0]+=c.level+1);this.parseInline(c););c.stringContent=null,this.processEmphasis(null),this.mergeTextNodes(c.walker());var m=this.options,k=m.extendedAutolinks,D=m.customParser;if(k&&T9(c.walker(),k),D&&c.firstChild)for(var B,_=c.firstChild.walker();B=_.next();){var W=B.node,fe=B.entering;D[W.type]&&D[W.type](W,{entering:fe,options:this.options})}},f}(),W9=/^\[([ \txX])\][ \t]+/;function G9(f,c){if(c.firstChild&&c.firstChild.type==="paragraph"){var m=c.firstChild,k=m.stringContent.match(W9);if(k){var D=k[0].length;m.stringContent=m.stringContent.substring(D-1),m.sourcepos[0][1]+=D,m.lineOffsets[0]+=D,c.listData.task=!0,c.listData.checked=/[xX]/.test(k[1])}}}var K9={continue:function(){return 0},finalize:function(){},canContain:function(f){return f==="tableHead"||f==="tableBody"},acceptsLines:!1},J9={continue:function(){return 0},finalize:function(){},canContain:function(f){return f==="tableRow"},acceptsLines:!1},Q9={continue:function(){return 1},finalize:function(){},canContain:function(f){return f==="tableRow"||f==="tableDelimRow"},acceptsLines:!1},X9={continue:function(){return 1},finalize:function(){},canContain:function(f){return f==="tableDelimCell"},acceptsLines:!1},Z9={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},Y9={continue:function(){return 1},finalize:function(){},canContain:function(f){return f==="tableCell"},acceptsLines:!1},e6={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},ps=4,hv=9,mv=62,t6=60,gv=32,yv=91,bv=/[^ \t\f\v\r\n]/,r6=/^(?:`{3,}|~{3,})(?= *$)/;function wv(f){for(var c=f;c;){if(c.lastLineBlank)return!0;var m=c.type;if(!c.lastLineChecked&&(m==="list"||m==="item"))c.lastLineChecked=!0,c=c.lastChild;else{c.lastLineChecked=!0;break}}return!1}function jr(f,c){return c<f.length?f.charCodeAt(c):-1}function kv(f){return!bv.test(f)}function Mi(f){return f===gv||f===hv}var n6=/^\$\$$/,a6={continue:function(f,c){var m=f.currentLine,k=m.match(n6);if(k)return f.lastLineLength=k[0].length,f.finalize(c,f.lineNumber),2;for(var D=c.offset;D>0&&Mi(jr(m,f.offset));)f.advanceOffset(1,!0),D--;return 0},finalize:function(f,c){if(c.stringContent!==null){var m=c.stringContent,k=m.indexOf(`
`),D=m.slice(0,k),B=m.slice(k+1),_=D.match(/^(\s*)(.*)/);c.info=lo(_[2].trim()),c.literal=B,c.stringContent=null}},canContain:function(){return!1},acceptsLines:!0},Cv={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!0},i6={continue:function(){return 0},finalize:function(){},canContain:function(f){return f!=="item"},acceptsLines:!1},o6={continue:function(){return 0},finalize:function(f,c){for(var m=c.firstChild;m;){if(wv(m)&&m.next){c.listData.tight=!1;break}for(var k=m.firstChild;k;){if(wv(k)&&(m.next||k.next)){c.listData.tight=!1;break}k=k.next}m=m.next}},canContain:function(f){return f==="item"},acceptsLines:!1},s6={continue:function(f){var c=f.currentLine;if(!f.indented&&jr(c,f.nextNonspace)===mv)f.advanceNextNonspace(),f.advanceOffset(1,!1),Mi(jr(c,f.offset))&&f.advanceOffset(1,!0);else return 1;return 0},finalize:function(){},canContain:function(f){return f!=="item"},acceptsLines:!1},l6={continue:function(f,c){if(f.blank){if(c.firstChild===null)return 1;f.advanceNextNonspace()}else if(f.indent>=c.listData.markerOffset+c.listData.padding)f.advanceOffset(c.listData.markerOffset+c.listData.padding,!0);else return 1;return 0},finalize:G9,canContain:function(f){return f!=="item"},acceptsLines:!1},u6={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},c6={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},f6={continue:function(f,c){var m=f.currentLine,k=f.indent;if(c.isFenced){var D=k<=3&&m.charAt(f.nextNonspace)===c.fenceChar&&m.slice(f.nextNonspace).match(r6);if(D&&D[0].length>=c.fenceLength)return f.lastLineLength=f.offset+k+D[0].length,f.finalize(c,f.lineNumber),2;for(var B=c.fenceOffset;B>0&&Mi(jr(m,f.offset));)f.advanceOffset(1,!0),B--}else if(k>=ps)f.advanceOffset(ps,!0);else if(f.blank)f.advanceNextNonspace();else return 1;return 0},finalize:function(f,c){var m;if(c.stringContent!==null){if(c.isFenced){var k=c.stringContent,D=k.indexOf(`
`),B=k.slice(0,D),_=k.slice(D+1),W=B.match(/^(\s*)(.*)/);c.infoPadding=W[1].length,c.info=lo(W[2].trim()),c.literal=_}else c.literal=(m=c.stringContent)===null||m===void 0?void 0:m.replace(/(\n *)+$/,`
`);c.stringContent=null}},canContain:function(){return!1},acceptsLines:!0},v6={continue:function(f,c){return f.blank&&(c.htmlBlockType===6||c.htmlBlockType===7)?1:0},finalize:function(f,c){var m;c.literal=((m=c.stringContent)===null||m===void 0?void 0:m.replace(/(\n *)+$/,""))||null,c.stringContent=null},canContain:function(){return!1},acceptsLines:!0},p6={continue:function(f){return f.blank?1:0},finalize:function(f,c){if(c.stringContent!==null){for(var m,k=!1;jr(c.stringContent,0)===yv&&(m=f.inlineParser.parseReference(c,f.refMap));)c.stringContent=c.stringContent.slice(m),k=!0;k&&kv(c.stringContent)&&c.unlink()}},canContain:function(){return!1},acceptsLines:!0},d6=Cv,h6=Cv,Ai={document:i6,list:o6,blockQuote:s6,item:l6,heading:u6,thematicBreak:c6,codeBlock:f6,htmlBlock:v6,paragraph:p6,table:K9,tableBody:J9,tableHead:Q9,tableRow:Y9,tableCell:e6,tableDelimRow:X9,tableDelimCell:Z9,refDef:d6,customBlock:a6,frontMatter:h6};function Lu(f){for(var c=0,m=0,k=[],D=0;D<f.length;D+=1)if(f[D]==="|"&&f[D-1]!=="\\"){var B=f.substring(c,D);c===0&&Yf(B)?m=D+1:k.push(B),c=D+1}if(c<f.length){var B=f.substring(c,f.length);Yf(B)||k.push(B)}return[m,k]}function Du(f,c,m,k){for(var D=[],B=0,_=c;B<_.length;B++){var W=_[B],fe=W.match(/^[ \t]+/),he=fe?fe[0].length:0,Le=void 0,Ie=void 0;if(he===W.length)he=0,Le=0,Ie="";else{var xe=W.match(/[ \t]+$/);Le=xe?xe[0].length:0,Ie=W.slice(he,W.length-Le)}var Ue=k+he,$e=Vt(f,[[m,k],[m,k+W.length-1]]);$e.stringContent=Ie.replace(/\\\|/g,"|"),$e.startIdx=D.length,$e.endIdx=D.length,$e.lineOffsets=[Ue-1],$e.paddingLeft=he,$e.paddingRight=Le,D.push($e),k+=W.length+1}return D}function m6(f){var c=null,m=f.stringContent,k=m[0],D=m[m.length-1];return D===":"?c=k===":"?"center":"right":k===":"&&(c="left"),{align:c}}var g6=function(f,c){var m=c.stringContent;if(c.type==="paragraph"&&!f.indented&&!f.blank){var k=m.length-1,D=m.lastIndexOf(`
`,k-1)+1,B=m.slice(D,k),_=f.currentLine.slice(f.nextNonspace),W=Lu(B),fe=W[0],he=W[1],Le=Lu(_),Ie=Le[0],xe=Le[1],Ue=/^[ \t]*:?-+:?[ \t]*$/;if(!he.length||!xe.length||xe.some(function(aa){return!Ue.test(aa)})||xe.length===1&&_.indexOf("|")!==0)return 0;var $e=c.lineOffsets,ht=f.lineNumber-1,Ut=us($e)+1,sr=Vt("table",[[ht,Ut],[f.lineNumber,f.offset]]);if(sr.columns=xe.map(function(){return{align:null}}),c.insertAfter(sr),$e.length===1)c.unlink();else{c.stringContent=m.slice(0,D);var ta=m.lastIndexOf(`
`,D-2)+1,ln=D-ta-1;f.lastLineLength=$e[$e.length-2]+ln,f.finalize(c,ht-1)}f.advanceOffset(f.currentLine.length-f.offset,!1);var Wr=Vt("tableHead",[[ht,Ut],[f.lineNumber,f.offset]]);sr.appendChild(Wr);var gn=Vt("tableRow",[[ht,Ut],[ht,Ut+B.length-1]]),ra=Vt("tableDelimRow",[[f.lineNumber,f.nextNonspace+1],[f.lineNumber,f.offset]]);Wr.appendChild(gn),Wr.appendChild(ra),Du("tableCell",he,ht,Ut+fe).forEach(function(aa){gn.appendChild(aa)});var na=Du("tableDelimCell",xe,f.lineNumber,f.nextNonspace+1+Ie);return na.forEach(function(aa){ra.appendChild(aa)}),sr.columns=na.map(m6),f.tip=sr,2}return 0},y6=function(f,c){if(c.type!=="table"&&c.type!=="tableBody"||!f.blank&&f.currentLine.indexOf("|")===-1)return 0;if(f.advanceOffset(f.currentLine.length-f.offset,!1),f.blank){var m=c;return c.type==="tableBody"&&(m=c.parent,f.finalize(c,f.lineNumber-1)),f.finalize(m,f.lineNumber-1),0}var k=c;c.type==="table"&&(k=f.addChild("tableBody",f.nextNonspace),k.stringContent=null);var D=Vt("tableRow",[[f.lineNumber,f.nextNonspace+1],[f.lineNumber,f.currentLine.length]]);k.appendChild(D);var B=k.parent,_=f.currentLine.slice(f.nextNonspace),W=Lu(_),fe=W[0],he=W[1];return Du("tableCell",he,f.lineNumber,f.nextNonspace+1+fe).forEach(function(Le,Ie){Ie>=B.columns.length&&(Le.ignored=!0),D.appendChild(Le)}),2},b6=/^(\$\$)(\s*[a-zA-Z])+/,w6=/^(\$\$)(\s*[a-zA-Z])+.*(\$\$)/,k6=function(f){var c;if(!f.indented&&!w6.test(f.currentLine)&&(c=f.currentLine.match(b6))){var m=c[1].length;f.closeUnmatchedBlocks();var k=f.addChild("customBlock",f.nextNonspace);return k.syntaxLength=m,k.offset=f.indent,f.advanceNextNonspace(),f.advanceOffset(m,!1),2}return 0},C6=/^`{3,}(?!.*`)|^~{3,}/,T6=[/./,/^<(?:script|pre|style)(?:\s|>|$)/i,/^<!--/,/^<[?]/,/^<![A-Z]/,/^<!\[CDATA\[/,/^<[/]?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[123456]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|[/]?[>]|$)/i,new RegExp("^(?:"+av+"|"+iv+")\\s*$","i")],E6=/^(?:=+|-+)[ \t]*$/,x6=/^#{1,6}(?:[ \t]+|$)/,S6=/^(?:(?:\*[ \t]*){3,}|(?:_[ \t]*){3,}|(?:-[ \t]*){3,})[ \t]*$/,Tv=/^[*+-]/,Ev=/^(\d{1,9})([.)])/;function M6(f,c){var m=f.currentLine.slice(f.nextNonspace),k,D,B={type:"bullet",tight:!0,bulletChar:"",start:0,delimiter:"",padding:0,markerOffset:f.indent,task:!1,checked:!1};if(f.indent>=4)return null;if(k=m.match(Tv))B.type="bullet",B.bulletChar=k[0][0];else if((k=m.match(Ev))&&(c.type!=="paragraph"||k[1]==="1"))B.type="ordered",B.start=parseInt(k[1],10),B.delimiter=k[2];else return null;if(D=jr(f.currentLine,f.nextNonspace+k[0].length),!(D===-1||D===hv||D===gv)||c.type==="paragraph"&&!f.currentLine.slice(f.nextNonspace+k[0].length).match(bv))return null;f.advanceNextNonspace(),f.advanceOffset(k[0].length,!0);var _=f.column,W=f.offset;do f.advanceOffset(1,!0),D=jr(f.currentLine,f.offset);while(f.column-_<5&&Mi(D));var fe=jr(f.currentLine,f.offset)===-1,he=f.column-_;return he>=5||he<1||fe?(B.padding=k[0].length+1,f.column=_,f.offset=W,Mi(jr(f.currentLine,f.offset))&&f.advanceOffset(1,!0)):B.padding=k[0].length+he,B}function A6(f,c){return f.type===c.type&&f.delimiter===c.delimiter&&f.bulletChar===c.bulletChar}function xv(f,c){return f.options.disallowDeepHeading&&(c.type==="blockQuote"||c.type==="item")}var L6=function(f){return!f.indented&&jr(f.currentLine,f.nextNonspace)===mv?(f.advanceNextNonspace(),f.advanceOffset(1,!1),Mi(jr(f.currentLine,f.offset))&&f.advanceOffset(1,!0),f.closeUnmatchedBlocks(),f.addChild("blockQuote",f.nextNonspace),1):0},D6=function(f,c){var m;if(!f.indented&&!xv(f,c)&&(m=f.currentLine.slice(f.nextNonspace).match(x6))){f.advanceNextNonspace(),f.advanceOffset(m[0].length,!1),f.closeUnmatchedBlocks();var k=f.addChild("heading",f.nextNonspace);return k.level=m[0].trim().length,k.headingType="atx",k.stringContent=f.currentLine.slice(f.offset).replace(/^[ \t]*#+[ \t]*$/,"").replace(/[ \t]+#+[ \t]*$/,""),f.advanceOffset(f.currentLine.length-f.offset),2}return 0},O6=function(f){var c;if(!f.indented&&(c=f.currentLine.slice(f.nextNonspace).match(C6))){var m=c[0].length;f.closeUnmatchedBlocks();var k=f.addChild("codeBlock",f.nextNonspace);return k.isFenced=!0,k.fenceLength=m,k.fenceChar=c[0][0],k.fenceOffset=f.indent,f.advanceNextNonspace(),f.advanceOffset(m,!1),2}return 0},N6=function(f,c){if(!f.indented&&jr(f.currentLine,f.nextNonspace)===t6){var m=f.currentLine.slice(f.nextNonspace),k=f.options.disallowedHtmlBlockTags,D=void 0;for(D=1;D<=7;D++){var B=m.match(T6[D]);if(B){if(D===7){if(c.type==="paragraph")return 0;if(k.length>0){var _=new RegExp("</?(?:"+k.join("|")+")","i");if(_.test(B[0]))return 0}}f.closeUnmatchedBlocks();var W=f.addChild("htmlBlock",f.offset);return W.htmlBlockType=D,2}}}return 0},R6=function(f,c){var m;if(c.stringContent!==null&&!f.indented&&c.type==="paragraph"&&!xv(f,c.parent)&&(m=f.currentLine.slice(f.nextNonspace).match(E6))){f.closeUnmatchedBlocks();for(var k=void 0;jr(c.stringContent,0)===yv&&(k=f.inlineParser.parseReference(c,f.refMap));)c.stringContent=c.stringContent.slice(k);if(c.stringContent.length>0){var D=Vt("heading",c.sourcepos);return D.level=m[0][0]==="="?1:2,D.headingType="setext",D.stringContent=c.stringContent,c.insertAfter(D),c.unlink(),f.tip=D,f.advanceOffset(f.currentLine.length-f.offset,!1),2}return 0}return 0},I6=function(f){return!f.indented&&S6.test(f.currentLine.slice(f.nextNonspace))?(f.closeUnmatchedBlocks(),f.addChild("thematicBreak",f.nextNonspace),f.advanceOffset(f.currentLine.length-f.offset,!1),2):0},P6=function(f,c){var m,k=c;return(!f.indented||c.type==="list")&&(m=M6(f,k))?(f.closeUnmatchedBlocks(),(f.tip.type!=="list"||!A6(k.listData,m))&&(k=f.addChild("list",f.nextNonspace),k.listData=m),k=f.addChild("item",f.nextNonspace),k.listData=m,1):0},B6=function(f){return f.indented&&f.tip.type!=="paragraph"&&!f.blank?(f.advanceOffset(ps,!0),f.closeUnmatchedBlocks(),f.addChild("codeBlock",f.offset),2):0},Ou=[L6,D6,O6,N6,R6,I6,P6,B6,g6,y6,k6],Sv=/^(-{3}|\+{3}|;{3})$/,q6=function(f,c){var m=f.currentLine,k=f.lineNumber,D=f.indented;if(k===1&&!D&&c.type==="document"&&Sv.test(m)){f.closeUnmatchedBlocks();var B=f.addChild("frontMatter",f.nextNonspace);return B.stringContent=m,f.advanceNextNonspace(),f.advanceOffset(m.length,!1),2}return 0},F6={continue:function(f,c){var m=f.currentLine,k=m.match(Sv);return c.type==="frontMatter"&&k?(c.stringContent+=m,f.lastLineLength=k[0].length,f.finalize(c,f.lineNumber),2):0},finalize:function(f,c){c.stringContent!==null&&(c.literal=c.stringContent,c.stringContent=null)},canContain:function(){return!1},acceptsLines:!0},H6=[/./,/<\/(?:script|pre|style)>/i,/-->/,/\?>/,/>/,/\]\]>/],_6=/^[#`~*+_=<>0-9-;$]/,z6=/\r\n|\n|\r/;function Nu(){return Vt("document",[[1,1],[0,0]])}var $6={smart:!1,tagFilter:!1,extendedAutolinks:!1,disallowedHtmlBlockTags:[],referenceDefinition:!1,disallowDeepHeading:!1,customParser:null,frontMatter:!1},V6=function(){function f(c){this.options=I(I({},$6),c),this.doc=Nu(),this.tip=this.doc,this.oldtip=this.doc,this.lineNumber=0,this.offset=0,this.column=0,this.nextNonspace=0,this.nextNonspaceColumn=0,this.indent=0,this.currentLine="",this.indented=!1,this.blank=!1,this.partiallyConsumedTab=!1,this.allClosed=!0,this.lastMatchedContainer=this.doc,this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.lastLineLength=0,this.lines=[],this.options.frontMatter&&(Ai.frontMatter=F6,Ou.unshift(q6)),this.inlineParser=new j9(this.options)}return f.prototype.advanceOffset=function(c,m){m===void 0&&(m=!1);for(var k=this.currentLine,D,B,_;c>0&&(_=k[this.offset]);)_==="	"?(D=4-this.column%4,m?(this.partiallyConsumedTab=D>c,B=D>c?c:D,this.column+=B,this.offset+=this.partiallyConsumedTab?0:1,c-=B):(this.partiallyConsumedTab=!1,this.column+=D,this.offset+=1,c-=1)):(this.partiallyConsumedTab=!1,this.offset+=1,this.column+=1,c-=1)},f.prototype.advanceNextNonspace=function(){this.offset=this.nextNonspace,this.column=this.nextNonspaceColumn,this.partiallyConsumedTab=!1},f.prototype.findNextNonspace=function(){for(var c=this.currentLine,m=this.offset,k=this.column,D;(D=c.charAt(m))!=="";)if(D===" ")m++,k++;else if(D==="	")m++,k+=4-k%4;else break;this.blank=D===`
`||D==="\r"||D==="",this.nextNonspace=m,this.nextNonspaceColumn=k,this.indent=this.nextNonspaceColumn-this.column,this.indented=this.indent>=ps},f.prototype.addLine=function(){if(this.partiallyConsumedTab){this.offset+=1;var c=4-this.column%4;this.tip.stringContent+=bu(" ",c)}this.tip.lineOffsets?this.tip.lineOffsets.push(this.offset):this.tip.lineOffsets=[this.offset],this.tip.stringContent+=this.currentLine.slice(this.offset)+`
`},f.prototype.addChild=function(c,m){for(;!Ai[this.tip.type].canContain(c);)this.finalize(this.tip,this.lineNumber-1);var k=m+1,D=Vt(c,[[this.lineNumber,k],[0,0]]);return D.stringContent="",this.tip.appendChild(D),this.tip=D,D},f.prototype.closeUnmatchedBlocks=function(){if(!this.allClosed){for(;this.oldtip!==this.lastMatchedContainer;){var c=this.oldtip.parent;this.finalize(this.oldtip,this.lineNumber-1),this.oldtip=c}this.allClosed=!0}},f.prototype.finalize=function(c,m){var k=c.parent;c.open=!1,c.sourcepos[1]=[m,this.lastLineLength],Ai[c.type].finalize(this,c),this.tip=k},f.prototype.processInlines=function(c){var m,k=this.options.customParser,D=c.walker();for(this.inlineParser.refMap=this.refMap,this.inlineParser.refLinkCandidateMap=this.refLinkCandidateMap,this.inlineParser.refDefCandidateMap=this.refDefCandidateMap,this.inlineParser.options=this.options;m=D.next();){var B=m.node,_=m.entering,W=B.type;k&&k[W]&&k[W](B,{entering:_,options:this.options}),!_&&(W==="paragraph"||W==="heading"||W==="tableCell"&&!B.ignored)&&this.inlineParser.parse(B)}},f.prototype.incorporateLine=function(c){var m=this.doc;this.oldtip=this.tip,this.offset=0,this.column=0,this.blank=!1,this.partiallyConsumedTab=!1,this.lineNumber+=1,c.indexOf("\0")!==-1&&(c=c.replace(/\0/g,"")),this.currentLine=c;for(var k=!0,D;(D=m.lastChild)&&D.open;){switch(m=D,this.findNextNonspace(),Ai[m.type].continue(this,m)){case 0:break;case 1:k=!1;break;case 2:this.lastLineLength=c.length;return;default:throw new Error("continue returned illegal value, must be 0, 1, or 2")}if(!k){m=m.parent;break}}this.allClosed=m===this.oldtip,this.lastMatchedContainer=m;for(var B=m.type!=="paragraph"&&Ai[m.type].acceptsLines,_=Ou.length;!B;){if(this.findNextNonspace(),m.type!=="table"&&m.type!=="tableBody"&&m.type!=="paragraph"&&!this.indented&&!_6.test(c.slice(this.nextNonspace))){this.advanceNextNonspace();break}for(var W=0;W<_;){var fe=Ou[W](this,m);if(fe===1){m=this.tip;break}else if(fe===2){m=this.tip,B=!0;break}else W++}if(W===_){this.advanceNextNonspace();break}}if(!this.allClosed&&!this.blank&&this.tip.type==="paragraph")this.addLine();else{this.closeUnmatchedBlocks(),this.blank&&m.lastChild&&(m.lastChild.lastLineBlank=!0);for(var he=m.type,Le=this.blank&&!(he==="blockQuote"||ev(m)&&m.isFenced||he==="item"&&!m.firstChild&&m.sourcepos[0][0]===this.lineNumber),Ie=m;Ie;)Ie.lastLineBlank=Le,Ie=Ie.parent;Ai[he].acceptsLines?(this.addLine(),Q5(m)&&m.htmlBlockType>=1&&m.htmlBlockType<=5&&H6[m.htmlBlockType].test(this.currentLine.slice(this.offset))&&(this.lastLineLength=c.length,this.finalize(m,this.lineNumber))):this.offset<c.length&&!this.blank&&(m=this.addChild("paragraph",this.offset),this.advanceNextNonspace(),this.addLine())}this.lastLineLength=c.length},f.prototype.parse=function(c,m){this.doc=Nu(),this.tip=this.doc,this.lineNumber=0,this.lastLineLength=0,this.offset=0,this.column=0,this.lastMatchedContainer=this.doc,this.currentLine="";var k=c.split(z6),D=k.length;this.lines=m||k,this.options.referenceDefinition&&this.clearRefMaps(),c.charCodeAt(c.length-1)===Eu&&(D-=1);for(var B=0;B<D;B++)this.incorporateLine(k[B]);for(;this.tip;)this.finalize(this.tip,D);return this.processInlines(this.doc),this.doc},f.prototype.partialParseStart=function(c,m){this.doc=Nu(),this.tip=this.doc,this.lineNumber=c-1,this.lastLineLength=0,this.offset=0,this.column=0,this.lastMatchedContainer=this.doc,this.currentLine="";for(var k=m.length,D=0;D<k;D++)this.incorporateLine(m[D]);return this.doc},f.prototype.partialParseExtends=function(c){for(var m=0;m<c.length;m++)this.incorporateLine(c[m])},f.prototype.partialParseFinish=function(){for(;this.tip;)this.finalize(this.tip,this.lineNumber);this.processInlines(this.doc)},f.prototype.setRefMaps=function(c,m,k){this.refMap=c,this.refLinkCandidateMap=m,this.refDefCandidateMap=k},f.prototype.clearRefMaps=function(){[this.refMap,this.refLinkCandidateMap,this.refDefCandidateMap].forEach(function(c){x9(c)})},f}();function Mv(f,c){return f[0]<c[0]?1:f[0]>c[0]?-1:f[1]<c[1]?1:f[1]>c[1]?-1:0}function U6(f,c){var m=f[0],k=f[1];return Mv(k,c)===1?1:Mv(m,c)===-1?-1:0}function j6(f,c){if(!(f.parent!==c.parent||f===c)){for(var m=f.next;m&&m!==c;){for(var k=m.next,D=0,B=["parent","prev","next"];D<B.length;D++){var _=B[D];m[_]&&(ku(m[_].id),m[_]=null)}m=k}f.next=c.next,c.next?c.next.prev=f:f.parent.lastChild=f}}function W6(f){for(var c=[],m=f.firstChild;m;)c.push(m),m=m.next;return c}function Av(f,c){for(var m=0,k=c;m<k.length;m++){var D=k[m];f.insertBefore(D)}}function G6(f,c){for(var m=c.length-1;m>=0;m-=1)f.prependChild(c[m])}function K6(f,c){if(!(!f||!f.parent||c===0)){var m=f.parent.walker();m.resumeAt(f,!0);for(var k;k=m.next();){var D=k.node,B=k.entering;B&&(D.sourcepos[0][0]+=c,D.sourcepos[1][0]+=c)}}}function Lv(f,c){var m=f[0],k=f[1];return k[0]<c?1:m[0]>c?-1:0}function ds(f,c){for(var m=f.firstChild;m;){var k=Lv(m.sourcepos,c);if(k===0)return m;if(k===-1)return m.prev||m;m=m.next}return f.lastChild}function J6(f){for(;f.lastChild;)f=f.lastChild;return f}function Q6(f){for(;f.parent&&f.parent.type!=="document"&&f.parent.sourcepos[0][0]===f.sourcepos[0][0];)f=f.parent;return f}function X6(f,c){for(var m=f.firstChild,k=null;m;){var D=Lv(m.sourcepos,c);if(D===0){if(m.sourcepos[0][0]===c||!m.firstChild)return m;k=m,m=m.firstChild}else{if(D===-1)break;k=m,m=m.next}}return k?Q6(J6(k)):null}function Z6(f,c){for(var m=f,k=null;m;){var D=U6(m.sourcepos,c);if(D===0)if(m.firstChild)k=m,m=m.firstChild;else return m;else{if(D===-1)return k;if(m.next)m=m.next;else return k}}return m}function Dv(f){return q5(f)||null}function Ru(f,c,m){if(m===void 0&&(m=null),c)for(var k=c.walker();c&&c!==m;){f(c);var D=k.next();if(D)c=D.node;else break}}function Y6(f){var c=Dv(f);if(!c)return!0;for(;c&&c.type!=="document";){if(!c.parent&&!c.prev&&!c.next)return!0;c=c.parent}return!1}var Ov=/\r\n|\n|\r/;function eK(f){var c=f.match(/^[ \t]+/);if(c&&(c[0].length>=2||/\t/.test(c[0])))return!0;var m=c?f.slice(c.length):f;return Tv.test(m)||Ev.test(m)}function tK(f){return!kv(f)&&f.indexOf("|")!==-1}function Iu(f){var c=f.id,m=f.title,k=f.sourcepos,D=f.dest;return{id:c,title:m,sourcepos:k,unlinked:!1,destination:D}}var rK=function(){function f(c,m){this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.referenceDefinition=!!(m!=null&&m.referenceDefinition),this.parser=new V6(m),this.parser.setRefMaps(this.refMap,this.refLinkCandidateMap,this.refDefCandidateMap),this.eventHandlerMap={change:[]},c=c||"",this.lineTexts=c.split(Ov),this.root=this.parser.parse(c,this.lineTexts)}return f.prototype.updateLineTexts=function(c,m,k){var D,B=c[0],_=c[1],W=m[0],fe=m[1],he=k.split(Ov),Le=he.length,Ie=this.lineTexts[B-1],xe=this.lineTexts[W-1];he[0]=Ie.slice(0,_-1)+he[0],he[Le-1]=he[Le-1]+xe.slice(fe-1);var Ue=W-B+1;return(D=this.lineTexts).splice.apply(D,q([B-1,Ue],he)),Le-Ue},f.prototype.updateRootNodeState=function(){if(this.lineTexts.length===1&&this.lineTexts[0]===""){this.root.lastLineBlank=!0,this.root.sourcepos=[[1,1],[1,0]];return}this.root.lastChild&&(this.root.lastLineBlank=this.root.lastChild.lastLineBlank);for(var c=this.lineTexts,m=c.length-1;c[m]==="";)m-=1;c.length-2>m&&(m+=1),this.root.sourcepos[1]=[m+1,c[m].length]},f.prototype.replaceRangeNodes=function(c,m,k){c?(Av(c,k),j6(c,m),[c.id,m.id].forEach(function(D){return ku(D)}),c.unlink()):m?(Av(m,k),ku(m.id),m.unlink()):G6(this.root,k)},f.prototype.getNodeRange=function(c,m){var k=ds(this.root,c[0]),D=ds(this.root,m[0]);return D&&D.next&&m[0]+1===D.next.sourcepos[0][0]&&(D=D.next),[k,D]},f.prototype.trigger=function(c,m){this.eventHandlerMap[c].forEach(function(k){k(m)})},f.prototype.extendEndLine=function(c){for(;this.lineTexts[c]==="";)c+=1;return c},f.prototype.parseRange=function(c,m,k,D){c&&c.prev&&(tv(c.prev)&&eK(this.lineTexts[k-1])||Z5(c.prev)&&tK(this.lineTexts[k-1]))&&(c=c.prev,k=c.sourcepos[0][0]);for(var B=this.lineTexts.slice(k-1,D),_=this.parser.partialParseStart(k,B),W=m?m.next:this.root.firstChild,fe=_.lastChild,he=fe&&ev(fe)&&fe.open,Le=fe&&rv(fe)&&fe.open,Ie=fe&&tv(fe);(he||Le)&&W||Ie&&W&&(W.type==="list"||W.sourcepos[0][1]>=2);){var xe=this.extendEndLine(W.sourcepos[1][0]);this.parser.partialParseExtends(this.lineTexts.slice(D,xe)),c||(c=m),m=W,D=xe,W=W.next}this.parser.partialParseFinish();var Ue=W6(_);return{newNodes:Ue,extStartNode:c,extEndNode:m}},f.prototype.getRemovedNodeRange=function(c,m){return!c||c&&xi(c)||m&&xi(m)?null:{id:[c.id,m.id],line:[c.sourcepos[0][0]-1,m.sourcepos[1][0]-1]}},f.prototype.markDeletedRefMap=function(c,m){var k=this;if(!Si(this.refMap)){var D=function(B){if(xi(B)){var _=k.refMap[B.label];_&&B.id===_.id&&(_.unlinked=!0)}};c&&Ru(D,c.parent,m),m&&Ru(D,m)}},f.prototype.replaceWithNewRefDefState=function(c){var m=this;if(!Si(this.refMap)){var k=function(D){if(xi(D)){var B=D.label,_=m.refMap[B];(!_||_.unlinked)&&(m.refMap[B]=Iu(D))}};c.forEach(function(D){Ru(k,D)})}},f.prototype.replaceWithRefDefCandidate=function(){var c=this;Si(this.refDefCandidateMap)||cs(this.refDefCandidateMap,function(m,k){var D=k.label,B=k.sourcepos,_=c.refMap[D];(!_||_.unlinked||_.sourcepos[0][0]>B[0][0])&&(c.refMap[D]=Iu(k))})},f.prototype.getRangeWithRefDef=function(c,m,k,D,B){if(this.referenceDefinition&&!Si(this.refMap)){var _=ds(this.root,c-1),W=ds(this.root,m+1);_&&xi(_)&&_!==k&&_!==D&&(k=_,c=k.sourcepos[0][0]),W&&xi(W)&&W!==k&&W!==D&&(D=W,m=this.extendEndLine(D.sourcepos[1][0]+B))}return[k,D,c,m]},f.prototype.parse=function(c,m,k){k===void 0&&(k=0);var D=this.getNodeRange(c,m),B=D[0],_=D[1],W=B?Math.min(B.sourcepos[0][0],c[0]):c[0],fe=this.extendEndLine((_?Math.max(_.sourcepos[1][0],m[0]):m[0])+k),he=this.parseRange.apply(this,this.getRangeWithRefDef(W,fe,B,_,k)),Le=he.newNodes,Ie=he.extStartNode,xe=he.extEndNode,Ue=this.getRemovedNodeRange(Ie,xe),$e=xe?xe.next:this.root.firstChild;return this.referenceDefinition?(this.markDeletedRefMap(Ie,xe),this.replaceRangeNodes(Ie,xe,Le),this.replaceWithNewRefDefState(Le)):this.replaceRangeNodes(Ie,xe,Le),{nodes:Le,removedNodeRange:Ue,nextNode:$e}},f.prototype.parseRefLink=function(){var c=this,m=[];return Si(this.refMap)||cs(this.refMap,function(k,D){D.unlinked&&delete c.refMap[k],cs(c.refLinkCandidateMap,function(B,_){var W=_.node,fe=_.refLabel;fe===k&&m.push(c.parse(W.sourcepos[0],W.sourcepos[1]))})}),m},f.prototype.removeUnlinkedCandidate=function(){Si(this.refDefCandidateMap)||[this.refLinkCandidateMap,this.refDefCandidateMap].forEach(function(c){cs(c,function(m){Y6(m)&&delete c[m]})})},f.prototype.editMarkdown=function(c,m,k){var D=this.updateLineTexts(c,m,k),B=this.parse(c,m,D),_=E9(B,"nextNode");K6(B.nextNode,D),this.updateRootNodeState();var W=[_];return this.referenceDefinition&&(this.removeUnlinkedCandidate(),this.replaceWithRefDefCandidate(),W=W.concat(this.parseRefLink())),this.trigger("change",W),W},f.prototype.getLineTexts=function(){return this.lineTexts},f.prototype.getRootNode=function(){return this.root},f.prototype.findNodeAtPosition=function(c){var m=Z6(this.root,c);return!m||m===this.root?null:m},f.prototype.findFirstNodeAtLine=function(c){return X6(this.root,c)},f.prototype.on=function(c,m){this.eventHandlerMap[c].push(m)},f.prototype.off=function(c,m){var k=this.eventHandlerMap[c],D=k.indexOf(m);k.splice(D,1)},f.prototype.findNodeById=function(c){return Dv(c)},f.prototype.removeAllNode=function(){F5()},f}(),nK=["title","textarea","style","xmp","iframe","noembed","noframes","script","plaintext"],Nv=new RegExp("<(/?(?:"+nK.join("|")+")[^>]*>)","ig");function Rv(f){return Nv.test(f)?f.replace(Nv,function(c,m){return"&lt;"+m}):f}var Iv={heading:function(f,c){var m=c.entering;return{type:m?"openTag":"closeTag",tagName:"h"+f.level,outerNewLine:!0}},text:function(f){return{type:"text",content:f.literal}},softbreak:function(f,c){var m=c.options;return{type:"html",content:m.softbreak}},linebreak:function(){return{type:"html",content:`<br />
`}},emph:function(f,c){var m=c.entering;return{type:m?"openTag":"closeTag",tagName:"em"}},strong:function(f,c){var m=c.entering;return{type:m?"openTag":"closeTag",tagName:"strong"}},paragraph:function(f,c){var m,k=c.entering,D=(m=f.parent)===null||m===void 0?void 0:m.parent;return D&&D.type==="list"&&D.listData.tight?null:{type:k?"openTag":"closeTag",tagName:"p",outerNewLine:!0}},thematicBreak:function(){return{type:"openTag",tagName:"hr",outerNewLine:!0,selfClose:!0}},blockQuote:function(f,c){var m=c.entering;return{type:m?"openTag":"closeTag",tagName:"blockquote",outerNewLine:!0,innerNewLine:!0}},list:function(f,c){var m=c.entering,k=f.listData,D=k.type,B=k.start,_=D==="bullet"?"ul":"ol",W={};return _==="ol"&&B!==null&&B!==1&&(W.start=B.toString()),{type:m?"openTag":"closeTag",tagName:_,attributes:W,outerNewLine:!0}},item:function(f,c){var m=c.entering;return{type:m?"openTag":"closeTag",tagName:"li",outerNewLine:!0}},htmlInline:function(f,c){var m=c.options,k=m.tagFilter?Rv(f.literal):f.literal;return{type:"html",content:k}},htmlBlock:function(f,c){var m=c.options,k=m.tagFilter?Rv(f.literal):f.literal;return m.nodeId?[{type:"openTag",tagName:"div",outerNewLine:!0},{type:"html",content:k},{type:"closeTag",tagName:"div",outerNewLine:!0}]:{type:"html",content:k,outerNewLine:!0}},code:function(f){return[{type:"openTag",tagName:"code"},{type:"text",content:f.literal},{type:"closeTag",tagName:"code"}]},codeBlock:function(f){var c=f.info,m=c?c.split(/\s+/):[],k=[];return m.length>0&&m[0].length>0&&k.push("language-"+Ei(m[0])),[{type:"openTag",tagName:"pre",outerNewLine:!0},{type:"openTag",tagName:"code",classNames:k},{type:"text",content:f.literal},{type:"closeTag",tagName:"code"},{type:"closeTag",tagName:"pre",outerNewLine:!0}]},link:function(f,c){var m=c.entering;if(m){var k=f,D=k.title,B=k.destination;return{type:"openTag",tagName:"a",attributes:I({href:Ei(B)},D&&{title:Ei(D)})}}return{type:"closeTag",tagName:"a"}},image:function(f,c){var m=c.getChildrenText,k=c.skipChildren,D=f,B=D.title,_=D.destination;return k(),{type:"openTag",tagName:"img",selfClose:!0,attributes:I({src:Ei(_),alt:m(f)},B&&{title:Ei(B)})}},customBlock:function(f,c,m){var k=f.info.trim().toLowerCase(),D=m[k];if(D)try{return D(f,c)}catch(B){console.warn("[@toast-ui/editor] - The error occurred when "+k+" block node was parsed in markdown renderer: "+B)}return[{type:"openTag",tagName:"div",outerNewLine:!0},{type:"text",content:f.literal},{type:"closeTag",tagName:"div",outerNewLine:!0}]},frontMatter:function(f){return[{type:"openTag",tagName:"div",outerNewLine:!0,attributes:{style:"white-space: pre; display: none;"}},{type:"text",content:f.literal},{type:"closeTag",tagName:"div",outerNewLine:!0}]},customInline:function(f,c,m){var k=f,D=k.info,B=k.firstChild,_=D.trim().toLowerCase(),W=m[_],fe=c.entering;if(W)try{return W(f,c)}catch(he){console.warn("[@toast-ui/editor] - The error occurred when "+_+" inline node was parsed in markdown renderer: "+he)}return fe?[{type:"openTag",tagName:"span"},{type:"text",content:"$$"+D+(B?" ":"")}]:[{type:"text",content:"$$"},{type:"closeTag",tagName:"span"}]}},Pv={strike:function(f,c){var m=c.entering;return{type:m?"openTag":"closeTag",tagName:"del"}},item:function(f,c){var m=c.entering,k=f.listData,D=k.checked,B=k.task;if(m){var _={type:"openTag",tagName:"li",outerNewLine:!0};return B?[_,{type:"openTag",tagName:"input",selfClose:!0,attributes:I(I({},D&&{checked:""}),{disabled:"",type:"checkbox"})},{type:"text",content:" "}]:_}return{type:"closeTag",tagName:"li",outerNewLine:!0}},table:function(f,c){var m=c.entering;return{type:m?"openTag":"closeTag",tagName:"table",outerNewLine:!0}},tableHead:function(f,c){var m=c.entering;return{type:m?"openTag":"closeTag",tagName:"thead",outerNewLine:!0}},tableBody:function(f,c){var m=c.entering;return{type:m?"openTag":"closeTag",tagName:"tbody",outerNewLine:!0}},tableRow:function(f,c){var m=c.entering;if(m)return{type:"openTag",tagName:"tr",outerNewLine:!0};var k=[];if(f.lastChild)for(var D=f.parent.parent.columns.length,B=f.lastChild.endIdx,_=B+1;_<D;_+=1)k.push({type:"openTag",tagName:"td",outerNewLine:!0},{type:"closeTag",tagName:"td",outerNewLine:!0});return k.push({type:"closeTag",tagName:"tr",outerNewLine:!0}),k},tableCell:function(f,c){var m=c.entering;if(f.ignored)return{type:"text",content:""};var k=f.parent.parent,D=k.type==="tableHead"?"th":"td",B=k.parent,_=B.columns[f.startIdx],W=_!=null&&_.align?{align:_.align}:null;return m?I({type:"openTag",tagName:D,outerNewLine:!0},W&&{attributes:W}):{type:"closeTag",tagName:D,outerNewLine:!0}}},aK={softbreak:`
`,gfm:!1,tagFilter:!1,nodeId:!1};function iK(f){for(var c=[],m=f.walker(),k=null;k=m.next();){var D=k.node;D.type==="text"&&c.push(D.literal)}return c.join("")}var oK=function(){function f(c){this.buffer=[],this.options=I(I({},aK),c),this.convertors=this.createConvertors(),delete this.options.convertors}return f.prototype.createConvertors=function(){var c=I({},Iv);if(this.options.gfm&&(c=I(I({},c),Pv)),this.options.convertors){var m=this.options.convertors,k=Object.keys(m),D=I(I({},Iv),Pv);k.forEach(function(B){var _=c[B],W=m[B],fe=Object.keys(D).indexOf(B)===-1?B.toLowerCase():B;_?c[fe]=function(he,Le,Ie){return Le.origin=function(){return _(he,Le,Ie)},W(he,Le)}:c[fe]=W})}return c},f.prototype.getConvertors=function(){return this.convertors},f.prototype.getOptions=function(){return this.options},f.prototype.render=function(c){var m=this;this.buffer=[];for(var k=c.walker(),D=null,B=function(){var W=D.node,fe=D.entering,he=_.convertors[W.type];if(!he)return"continue";var Le=!1,Ie={entering:fe,leaf:!wu(W),options:_.options,getChildrenText:iK,skipChildren:function(){Le=!0}},xe=rv(W)||Y5(W)?he(W,Ie,_.convertors):he(W,Ie);if(xe){var Ue=Array.isArray(xe)?xe:[xe];Ue.forEach(function($e,ht){$e.type==="openTag"&&m.options.nodeId&&ht===0&&($e.attributes||($e.attributes={}),$e.attributes["data-nodeid"]=String(W.id)),m.renderHTMLNode($e)}),Le&&(k.resumeAt(W,!1),k.next())}},_=this;D=k.next();)B();return this.addNewLine(),this.buffer.join("")},f.prototype.renderHTMLNode=function(c){switch(c.type){case"openTag":case"closeTag":this.renderElementNode(c);break;case"text":this.renderTextNode(c);break;case"html":this.renderRawHtmlNode(c);break}},f.prototype.generateOpenTagString=function(c){var m=this,k=c.tagName,D=c.classNames,B=c.attributes;this.buffer.push("<"+k),D&&D.length>0&&this.buffer.push(' class="'+D.join(" ")+'"'),B&&Object.keys(B).forEach(function(_){var W=B[_];m.buffer.push(" "+_+'="'+W+'"')}),c.selfClose&&this.buffer.push(" /"),this.buffer.push(">")},f.prototype.generateCloseTagString=function(c){var m=c.tagName;this.buffer.push("</"+m+">")},f.prototype.addNewLine=function(){this.buffer.length&&us(us(this.buffer))!==`
`&&this.buffer.push(`
`)},f.prototype.addOuterNewLine=function(c){c.outerNewLine&&this.addNewLine()},f.prototype.addInnerNewLine=function(c){c.innerNewLine&&this.addNewLine()},f.prototype.renderTextNode=function(c){this.buffer.push(Ei(c.content))},f.prototype.renderRawHtmlNode=function(c){this.addOuterNewLine(c),this.buffer.push(c.content),this.addOuterNewLine(c)},f.prototype.renderElementNode=function(c){c.type==="openTag"?(this.addOuterNewLine(c),this.generateOpenTagString(c),c.selfClose?this.addOuterNewLine(c):this.addInnerNewLine(c)):(this.addInnerNewLine(c),this.generateCloseTagString(c),this.addOuterNewLine(c))},f}(),sK=g(956),lK=g.n(sK),uK=g(969),Bv=g.n(uK),cK=g(348),qv=g.n(cK),fK=g(349),Fv=g.n(fK),vK=g(204),Hv=g.n(vK),pK=g(462),Pu=g.n(pK),dK=g(522),_v=g.n(dK),hK=g(990),mK=g.n(hK),gK=g(322),yK=g.n(gK),bK=g(758),wK=g.n(bK),kK=g(929),hs=g.n(kK),CK=g(714),TK=g.n(CK);g(471);var zv="[A-Za-z][A-Za-z0-9-]*",EK="[a-zA-Z_:][a-zA-Z0-9:._-]*",xK="[^\"'=<>`\\x00-\\x20]+",SK="'[^']*'",MK='"[^"]*"',AK="(?:"+xK+"|"+SK+"|"+MK+")",LK="(?:\\s*=\\s*"+AK+")",$v="(?:\\s+"+EK+LK+"?)",DK="<("+zv+")("+$v+")*\\s*/?>",OK="</("+zv+")\\s*[>]",NK="(?:"+DK+"|"+OK+")",Vv=new RegExp("^"+NK,"i");g(934),g(391);function Bu(f,c){return f.indexOf(c)!==-1}var RK=["rel","target","hreflang","type"];function IK(f){if(!f)return null;var c={};return RK.forEach(function(m){hs()(f[m])||(c[m]=f[m])}),c}function PK(f){return f[f.length-1]}function qu(f){return typeof f=="object"&&f!==null}function Fu(f,c){var m=T({},f);return f&&c&&Object.keys(c).forEach(function(k){qu(m[k])?Array.isArray(c[k])?m[k]=Hu(c[k]):m.hasOwnProperty(k)?m[k]=Fu(m[k],c[k]):m[k]=_u(c[k]):m[k]=c[k]}),m}function Hu(f){return f.map(function(c){return qu(c)?Array.isArray(c)?Hu(c):_u(c):c})}function _u(f){var c=Object.keys(f);return c.length?c.reduce(function(m,k){return qu(f[k])?m[k]=Array.isArray(f[k])?Hu(f[k]):_u(f[k]):m[k]=f[k],m},{}):f}function Uv(f,c){return c===void 0&&(c={}),Object.keys(c).forEach(function(m){f.hasOwnProperty(m)&&typeof f[m]=="object"?Array.isArray(c[m])?f[m]=c[m]:Uv(f[m],c[m]):f[m]=c[m]}),f}function jv(f,c){return f>c?[c,f]:[f,c]}function BK(f,c,m){var k=parseInt(f.left,10),D=parseInt(f.top,10),B=parseInt(f.width,10)+parseInt(f.paddingLeft,10)+parseInt(f.paddingRight,10),_=parseInt(f.height,10)+parseInt(f.paddingTop,10)+parseInt(f.paddingBottom,10);return c>=k&&c<=k+B&&m>=D&&m<=D+_}var qK="toastui-editor-";function ms(){for(var f=[],c=0;c<arguments.length;c++)f[c]=arguments[c];for(var m=[],k=0,D=f;k<D.length;k++){var B=D[k],_=void 0;Array.isArray(B)?_=B[0]?B[1]:null:_=B,_&&m.push(""+qK+_)}return m.join(" ")}function Wv(f){f.parentNode&&f.parentNode.removeChild(f)}function Gv(f,c,m){hs()(m)&&(m=!TK()(f,c));var k=m?Hv():Pu();k(f,c)}function FK(f,c){var m=document.createElement("div");wK()(f)?m.innerHTML=f:m.appendChild(f);var k=m.firstChild;return k}function HK(f){var c=/<img class="ProseMirror-separator" alt="">/g,m=/ class="ProseMirror-trailingBreak"/g,k=f;return k=k.replace(c,""),k=k.replace(m,""),k}var _K=g(294),Kv=g.n(_K);function zK(f){return f.sourcepos[0][1]}function $K(f){switch(f.type){case"code":case"text":case"emph":case"strong":case"strike":case"link":case"image":case"htmlInline":case"linebreak":case"softbreak":case"customInline":return!0;default:return!1}}function VK(f,c,m){for(m===void 0&&(m=!0),f=m?f:f.parent;f&&f.type!=="document";){if(c(f))return f;f=f.parent}return null}function UK(f){var c=f.firstChild.literal;switch(f.type){case"emph":return"*"+c+"*";case"strong":return"**"+c+"**";case"strike":return"~~"+c+"~~";case"code":return"`"+c+"`";case"link":case"image":var m=f,k=m.destination,D=m.title,B=f.type==="link"?"":"!";return B+"["+c+"]("+k+(D?' "'+D+'"':"")+")";default:return null}}var jK={},Jv=/\$\$widget\d+\s/;function Qv(f){var c=f.search(Jv);if(c!==-1){var m=f.substring(c),k=m.replace(Jv,"").replace("$$","");f=f.substring(0,c),f+=Qv(k)}return f}function WK(f,c){var m=jK[f],k=m.rule,D=m.toDOM,B=Qv(c).match(k);return B&&(c=B[0]),D(c)}function GK(f){for(var c,m="",k=f.walker();c=k.next();){var D=c.node,B=c.entering;B&&(D!==f&&D.type!=="text"?(m+=UK(D),k.resumeAt(f,!1),k.next()):D.type==="text"&&(m+=D.literal))}return m}var KK=g(368),JK=g.n(KK),QK=["iframe","embed"],Xv=[];function XK(f){Bu(QK,f)&&Xv.push(f.toLowerCase())}function ZK(f,c){return JK().sanitize(f,T({ADD_TAGS:Xv,ADD_ATTR:["rel","target","hreflang","type"],FORBID_TAGS:["input","script","textarea","form","button","select","meta","style","link","title","object","base"]},c))}function YK(f,c){return f.literal.replace(new RegExp("(<\\s*"+c+"[^>]*>)|(</"+c+"\\s*[>])","ig"),"").trim()}function eJ(f){f=f.match(Vv)[0];var c=f.match(new RegExp($v,"g"));return c?c.reduce(function(m,k){var D=k.trim().split("="),B=D[0],_=D.slice(1);return _.length&&(m[B]=_.join("=").replace(/'|"/g,"").trim()),m},{}):{}}var tJ=/^\s*<\s*\//,rJ={paragraph:function(f,c){var m=c.entering,k=c.origin,D=c.options;return D.nodeId?{type:m?"openTag":"closeTag",outerNewLine:!0,tagName:"p"}:k()},softbreak:function(f){var c=f.prev&&f.prev.type==="htmlInline",m=c&&/<br ?\/?>/.test(f.prev.literal),k=m?`
`:`<br>
`;return{type:"html",content:k}},item:function(f,c){var m=c.entering;if(m){var k={},D=[];return f.listData.task&&(k["data-task"]="",D.push("task-list-item"),f.listData.checked&&(D.push("checked"),k["data-task-checked"]="")),{type:"openTag",tagName:"li",classNames:D,attributes:k,outerNewLine:!0}}return{type:"closeTag",tagName:"li",outerNewLine:!0}},code:function(f){var c={"data-backticks":String(f.tickCount)};return[{type:"openTag",tagName:"code",attributes:c},{type:"text",content:f.literal},{type:"closeTag",tagName:"code"}]},codeBlock:function(f){var c=f,m=c.fenceLength,k=c.info,D=k?k.split(/\s+/):[],B=[],_={};if(m>3&&(_["data-backticks"]=m),D.length>0&&D[0].length>0){var W=D[0];B.push("lang-"+W),_["data-language"]=W}return[{type:"openTag",tagName:"pre",classNames:B},{type:"openTag",tagName:"code",attributes:_},{type:"text",content:f.literal},{type:"closeTag",tagName:"code"},{type:"closeTag",tagName:"pre"}]},customInline:function(f,c){var m=c.origin,k=c.entering,D=c.skipChildren,B=f.info;if(B.indexOf("widget")!==-1&&k){D();var _=GK(f),W=WK(B,_).outerHTML;return[{type:"openTag",tagName:"span",classNames:["tui-widget"]},{type:"html",content:W},{type:"closeTag",tagName:"span"}]}return m()}};function nJ(f,c){var m=T({},rJ);return f&&(m.link=function(k,D){var B=D.entering,_=D.origin,W=_();return B&&(W.attributes=T(T({},W.attributes),f)),W}),c&&Object.keys(c).forEach(function(k){var D=m[k],B=c[k];D&&Kv()(B)?m[k]=function(_,W){var fe=T({},W);return fe.origin=function(){return D(_,W)},B(_,fe)}:Bu(["htmlBlock","htmlInline"],k)&&!Kv()(B)?m[k]=function(_,W){var fe=_.literal.match(Vv);if(fe){var he=fe[0],Le=fe[1],Ie=fe[3],xe=(Le||Ie).toLowerCase(),Ue=B[xe],$e=YK(_,xe);if(Ue){var ht=T({},_);return ht.attrs=eJ(he),ht.childrenHTML=$e,ht.type=xe,W.entering=!tJ.test(_.literal),Ue(ht,W)}}return W.origin()}:m[k]=B}),m}var aJ=["UL","OL","BLOCKQUOTE"];function iJ(f,c){for(var m=0;f&&f!==c&&(Bu(aJ,f.tagName)||(m+=f.offsetTop),f.offsetParent!==c.offsetParent);)f=f.parentElement;return m}function oJ(f,c){for(var m=c,k=null;m;){var D=m.firstElementChild;if(!D)break;var B=Zv(D,f,iJ(m,c));k=m,m=B}var _=m||k;return _===c?null:_}function Zv(f,c,m){return f&&c>m+f.offsetTop?Zv(f.nextElementSibling,c,m)||f:null}var sJ={};function zu(f){f&&(delete sJ[Number(f.getAttribute("data-nodeid"))],mK()(f.children).forEach(function(c){zu(c)}))}var $u=ms("md-preview-highlight");function lJ(f,c){for(var m=f.firstChild;m&&m.next&&!(zK(m.next)>c+1);)m=m.next;return m}var uJ=function(){function f(c,m){var k=document.createElement("div");this.el=k,this.eventEmitter=c,this.isViewer=!!m.isViewer,this.el.className=ms("md-preview");var D=m.linkAttributes,B=m.customHTMLRenderer,_=m.sanitizer,W=m.highlight,fe=W===void 0?!1:W;this.renderer=new oK({gfm:!0,nodeId:!0,convertors:nJ(D,B)}),this.cursorNodeId=null,this.sanitizer=_,this.initEvent(fe),this.initContentSection(),this.isViewer&&(this.previewContent.style.overflowWrap="break-word")}return f.prototype.initContentSection=function(){this.previewContent=FK('<div class="'+ms("contents")+'"></div>'),this.isViewer||this.el.appendChild(this.previewContent)},f.prototype.toggleActive=function(c){Gv(this.el,"active",c)},f.prototype.initEvent=function(c){var m=this;this.eventEmitter.listen("updatePreview",this.update.bind(this)),!this.isViewer&&(c&&(this.eventEmitter.listen("changeToolbarState",function(k){var D=k.mdNode,B=k.cursorPos;m.updateCursorNode(D,B)}),this.eventEmitter.listen("blur",function(){m.removeHighlight()})),qv()(this.el,"scroll",function(k){m.eventEmitter.emit("scroll","preview",oJ(k.target.scrollTop,m.previewContent))}),this.eventEmitter.listen("changePreviewTabPreview",function(){return m.toggleActive(!0)}),this.eventEmitter.listen("changePreviewTabWrite",function(){return m.toggleActive(!1)}))},f.prototype.removeHighlight=function(){if(this.cursorNodeId){var c=this.getElementByNodeId(this.cursorNodeId);c&&Pu()(c,$u)}},f.prototype.updateCursorNode=function(c,m){c&&(c=VK(c,function(_){return!$K(_)}),c.type==="tableRow"?c=lJ(c,m[1]):c.type==="tableBody"&&(c=null));var k=c?c.id:null;if(this.cursorNodeId!==k){var D=this.getElementByNodeId(this.cursorNodeId),B=this.getElementByNodeId(k);D&&Pu()(D,$u),B&&Hv()(B,$u),this.cursorNodeId=k}},f.prototype.getElementByNodeId=function(c){return c?this.previewContent.querySelector('[data-nodeid="'+c+'"]'):null},f.prototype.update=function(c){var m=this;c.forEach(function(k){return m.replaceRangeNodes(k)}),this.eventEmitter.emit("afterPreviewRender",this)},f.prototype.replaceRangeNodes=function(c){var m=this,k=c.nodes,D=c.removedNodeRange,B=this.previewContent,_=this.eventEmitter.emitReduce("beforePreviewRender",this.sanitizer(k.map(function($e){return m.renderer.render($e)}).join("")));if(!D)B.insertAdjacentHTML("afterbegin",_);else{var W=D.id,fe=W[0],he=W[1],Le=this.getElementByNodeId(fe),Ie=this.getElementByNodeId(he);if(Le){Le.insertAdjacentHTML("beforebegin",_);for(var xe=Le;xe&&xe!==Ie;){var Ue=xe.nextElementSibling;Wv(xe),zu(xe),xe=Ue}xe!=null&&xe.parentNode&&(Wv(xe),zu(xe))}}},f.prototype.getRenderer=function(){return this.renderer},f.prototype.destroy=function(){Fv()(this.el,"scroll"),this.el=null},f.prototype.getElement=function(){return this.el},f.prototype.getHTML=function(){return HK(this.previewContent.innerHTML)},f.prototype.setHTML=function(c){this.previewContent.innerHTML=c},f.prototype.setHeight=function(c){_v()(this.el,{height:c+"px"})},f.prototype.setMinHeight=function(c){_v()(this.el,{minHeight:c+"px"})},f}(),cJ=uJ,gs=g(814),Vu=g(479),Yv=g(311),fJ=g(481),vJ=g(43),pJ=g(928),dJ=g.n(pJ),hJ=function(){function f(){this.keys=[],this.values=[]}return f.prototype.getKeyIndex=function(c){return dJ()(c,this.keys)},f.prototype.get=function(c){return this.values[this.getKeyIndex(c)]},f.prototype.set=function(c,m){var k=this.getKeyIndex(c);return k>-1?this.values[k]=m:(this.keys.push(c),this.values.push(m)),this},f.prototype.has=function(c){return this.getKeyIndex(c)>-1},f.prototype.delete=function(c){var m=this.getKeyIndex(c);return m>-1?(this.keys.splice(m,1),this.values.splice(m,1),!0):!1},f.prototype.forEach=function(c,m){var k=this;m===void 0&&(m=this),this.values.forEach(function(D,B){D&&k.keys[B]&&c.call(m,D,k.keys[B],k)})},f.prototype.clear=function(){this.keys=[],this.values=[]},f}(),ep=hJ,Uu="en-US",mJ=function(){function f(){this.code=Uu,this.langs=new ep}return f.prototype.setCode=function(c){this.code=c||Uu},f.prototype.setLanguage=function(c,m){var k=this;c=[].concat(c),c.forEach(function(D){if(!k.langs.has(D))k.langs.set(D,m);else{var B=k.langs.get(D);k.langs.set(D,Bv()(B,m))}})},f.prototype.get=function(c,m){m||(m=this.code);var k=this.langs.get(m);k||(k=this.langs.get(Uu));var D=k[c];if(!D)throw new Error('There is no text key "'+c+'" in '+m);return D},f}(),gJ=new mJ;function yJ(f,c){for(var m=f.depth;m;){var k=f.node(m);if(c(k,m))return{node:k,depth:m,offset:m>0?f.before(m):0};m-=1}return null}var tp=new Map,rp=function(){function f(c,m,k,D){this.table=c,this.tableRows=m,this.tableStartPos=k,this.rowInfo=D}return f.create=function(c){var m=yJ(c,function($e){var ht=$e.type;return ht.name==="table"});if(m){var k=m.node,D=m.depth,B=m.offset,_=tp.get(k);if((_==null?void 0:_.tableStartPos)===B+1)return _;var W=[],fe=c.start(D),he=k.child(0),Le=k.child(1),Ie=ju(he,fe),xe=ju(Le,fe+he.nodeSize);he.forEach(function($e){return W.push($e)}),Le.forEach(function($e){return W.push($e)});var Ue=new f(k,W,fe,Ie.concat(xe));return tp.set(k,Ue),Ue}return null},Object.defineProperty(f.prototype,"totalRowCount",{get:function(){return this.rowInfo.length},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"totalColumnCount",{get:function(){return this.rowInfo[0].length},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"tableStartOffset",{get:function(){return this.tableStartPos},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"tableEndOffset",{get:function(){return this.tableStartPos+this.table.nodeSize-1},enumerable:!1,configurable:!0}),f.prototype.getCellInfo=function(c,m){return this.rowInfo[c][m]},f.prototype.posAt=function(c,m){for(var k=0,D=this.tableStartPos;;k+=1){var B=D+this.tableRows[k].nodeSize;if(k===c){for(var _=m;_<this.totalColumnCount&&this.rowInfo[k][_].offset<D;)_+=1;return _===this.totalColumnCount?B:this.rowInfo[k][_].offset}D=B}},f.prototype.getNodeAndPos=function(c,m){var k=this.rowInfo[c][m];return{node:this.table.nodeAt(k.offset-this.tableStartOffset),pos:k.offset}},f.prototype.extendedRowspan=function(c,m){return!1},f.prototype.extendedColspan=function(c,m){return!1},f.prototype.getRowspanCount=function(c,m){return 0},f.prototype.getColspanCount=function(c,m){return 0},f.prototype.decreaseColspanCount=function(c,m){return 0},f.prototype.decreaseRowspanCount=function(c,m){return 0},f.prototype.getColspanStartInfo=function(c,m){return null},f.prototype.getRowspanStartInfo=function(c,m){return null},f.prototype.getCellStartOffset=function(c,m){var k=this.rowInfo[c][m].offset;return this.extendedRowspan(c,m)?this.posAt(c,m):k},f.prototype.getCellEndOffset=function(c,m){var k=this.rowInfo[c][m],D=k.offset,B=k.nodeSize;return this.extendedRowspan(c,m)?this.posAt(c,m):D+B},f.prototype.getCellIndex=function(c){for(var m=0;m<this.totalRowCount;m+=1)for(var k=this.rowInfo[m],D=0;D<this.totalColumnCount;D+=1)if(k[D].offset+1>c.pos)return[m,D];return[0,0]},f.prototype.getRectOffsets=function(c,m){var k,D,B;m===void 0&&(m=c),c.pos>m.pos&&(k=[m,c],c=k[0],m=k[1]);var _=this.getCellIndex(c),W=_[0],fe=_[1],he=this.getCellIndex(m),Le=he[0],Ie=he[1];return D=jv(W,Le),W=D[0],Le=D[1],B=jv(fe,Ie),fe=B[0],Ie=B[1],this.getSpannedOffsets({startRowIdx:W,startColIdx:fe,endRowIdx:Le,endColIdx:Ie})},f.prototype.getSpannedOffsets=function(c){return c},f}(),ju=function(f,c){var m=[];return f.forEach(function(k,D){var B={rowspanMap:{},colspanMap:{},length:0};k.forEach(function(_,W){for(var fe=_.nodeSize,he=0;B[he];)he+=1;B[he]={offset:c+D+W+2,nodeSize:fe},B.length+=1}),m.push(B)}),m};function bJ(f,c){return Uv(rp.prototype,f),ju=c,rp}function wJ(f){var c=f.plugin,m=f.eventEmitter,k=f.usageStatistics,D=f.instance,B={Plugin:gs.Plugin,PluginKey:gs.PluginKey,Selection:gs.Selection,TextSelection:gs.TextSelection},_={Decoration:Yv.Decoration,DecorationSet:Yv.DecorationSet},W={Fragment:vJ.Fragment},fe={InputRule:Vu.InputRule,inputRules:Vu.inputRules,undoInputRule:Vu.undoInputRule},he={keymap:fJ.keymap},Le={eventEmitter:m,usageStatistics:k,instance:D,pmState:B,pmView:_,pmModel:W,pmRules:fe,pmKeymap:he,i18n:gJ};if(yK()(c)){var Ie=c[0],xe=c[1],Ue=xe===void 0?{}:xe;return Ie(Le,Ue)}return c(Le)}function kJ(f){var c=f.plugins,m=f.eventEmitter,k=f.usageStatistics,D=f.instance;return m.listen("mixinTableOffsetMapPrototype",bJ),(c??[]).reduce(function(B,_){var W=wJ({plugin:_,eventEmitter:m,usageStatistics:k,instance:D});if(!W)throw new Error("The return value of the executed plugin is empty.");var fe=W.markdownParsers,he=W.toHTMLRenderers,Le=W.toMarkdownRenderers,Ie=W.markdownPlugins,xe=W.wysiwygPlugins,Ue=W.wysiwygNodeViews,$e=W.markdownCommands,ht=W.wysiwygCommands,Ut=W.toolbarItems;return he&&(B.toHTMLRenderers=Fu(B.toHTMLRenderers,he)),Le&&(B.toMarkdownRenderers=Fu(B.toMarkdownRenderers,Le)),Ie&&(B.mdPlugins=B.mdPlugins.concat(Ie)),xe&&(B.wwPlugins=B.wwPlugins.concat(xe)),Ue&&(B.wwNodeViews=T(T({},B.wwNodeViews),Ue)),$e&&(B.mdCommands=T(T({},B.mdCommands),$e)),ht&&(B.wwCommands=T(T({},B.wwCommands),ht)),Ut&&(B.toolbarItems=B.toolbarItems.concat(Ut)),fe&&(B.markdownParsers=T(T({},B.markdownParsers),fe)),B},{toHTMLRenderers:{},toMarkdownRenderers:{},mdPlugins:[],wwPlugins:[],wwNodeViews:{},mdCommands:{},wwCommands:{},toolbarItems:[],markdownParsers:{}})}var CJ=g(404),TJ=g.n(CJ),np=["afterPreviewRender","updatePreview","changeMode","needChangeMode","command","changePreviewStyle","changePreviewTabPreview","changePreviewTabWrite","scroll","contextmenu","show","hide","changeLanguage","changeToolbarState","toggleScrollSync","mixinTableOffsetMapPrototype","setFocusedNode","removePopupWidget","query","openPopup","closePopup","addImageBlobHook","beforePreviewRender","beforeConvertWysiwygToMarkdown","load","loadUI","change","caretChange","destroy","focus","blur","keydown","keyup"],EJ=function(){function f(){var c=this;this.events=new ep,this.eventTypes=np.reduce(function(m,k){return T(T({},m),{type:k})},{}),this.hold=!1,np.forEach(function(m){c.addEventType(m)})}return f.prototype.listen=function(c,m){var k=this.getTypeInfo(c),D=this.events.get(k.type)||[];if(!this.hasEventType(k.type))throw new Error("There is no event type "+k.type);k.namespace&&(m.namespace=k.namespace),D.push(m),this.events.set(k.type,D)},f.prototype.emit=function(c){for(var m=[],k=1;k<arguments.length;k++)m[k-1]=arguments[k];var D=this.getTypeInfo(c),B=this.events.get(D.type),_=[];return!this.hold&&B&&B.forEach(function(W){var fe=W.apply(void 0,m);hs()(fe)||_.push(fe)}),_},f.prototype.emitReduce=function(c,m){for(var k=[],D=2;D<arguments.length;D++)k[D-2]=arguments[D];var B=this.events.get(c);return!this.hold&&B&&B.forEach(function(_){var W=_.apply(void 0,S([m],k));TJ()(W)||(m=W)}),m},f.prototype.getTypeInfo=function(c){var m=c.split(".");return{type:m[0],namespace:m[1]}},f.prototype.hasEventType=function(c){return!hs()(this.eventTypes[this.getTypeInfo(c).type])},f.prototype.addEventType=function(c){if(this.hasEventType(c))throw new Error("There is already have event type "+c);this.eventTypes[c]=c},f.prototype.removeEventHandler=function(c,m){var k=this,D=this.getTypeInfo(c),B=D.type,_=D.namespace;B&&m?this.removeEventHandlerWithHandler(B,m):B&&!_?this.events.delete(B):!B&&_?this.events.forEach(function(W,fe){k.removeEventHandlerWithTypeInfo(fe,_)}):B&&_&&this.removeEventHandlerWithTypeInfo(B,_)},f.prototype.removeEventHandlerWithHandler=function(c,m){var k=this.events.get(c);if(k){var D=k.indexOf(m);k.indexOf(m)>=0&&k.splice(D,1)}},f.prototype.removeEventHandlerWithTypeInfo=function(c,m){var k=[],D=this.events.get(c);D&&(D.map(function(B){return B.namespace!==m&&k.push(B),null}),this.events.set(c,k))},f.prototype.getEvents=function(){return this.events},f.prototype.holdEventInvoke=function(c){this.hold=!0,c(),this.hold=!1},f}(),xJ=EJ,SJ="data-task",MJ="data-task-disabled",AJ="checked";function LJ(f){["htmlBlock","htmlInline"].forEach(function(c){f[c]&&Object.keys(f[c]).forEach(function(m){return XK(m)})})}var DJ=function(){function f(c){var m=this;this.options=Bv()({linkAttributes:null,extendedAutolinks:!1,customHTMLRenderer:null,referenceDefinition:!1,customHTMLSanitizer:null,frontMatter:!1,usageStatistics:!0,theme:"light"},c),this.eventEmitter=new xJ;var k=IK(this.options.linkAttributes),D=kJ({plugins:this.options.plugins,eventEmitter:this.eventEmitter,usageStatistics:this.options.usageStatistics,instance:this})||{},B=D.toHTMLRenderers,_=D.markdownParsers,W=this.options,fe=W.customHTMLRenderer,he=W.extendedAutolinks,Le=W.referenceDefinition,Ie=W.frontMatter,xe=W.customHTMLSanitizer,Ue={linkAttributes:k,customHTMLRenderer:T(T({},B),fe),extendedAutolinks:he,referenceDefinition:Le,frontMatter:Ie,sanitizer:xe||ZK};LJ(Ue.customHTMLRenderer),this.options.events&&lK()(this.options.events,function(ln,Wr){m.on(Wr,ln)});var $e=this.options,ht=$e.el,Ut=$e.initialValue,sr=$e.theme,ta=ht.innerHTML;sr!=="light"&&ht.classList.add(ms(sr)),ht.innerHTML="",this.toastMark=new rK("",{disallowedHtmlBlockTags:["br","img"],extendedAutolinks:he,referenceDefinition:Le,disallowDeepHeading:!0,frontMatter:Ie,customParser:_}),this.preview=new cJ(this.eventEmitter,T(T({},Ue),{isViewer:!0})),qv()(this.preview.previewContent,"mousedown",this.toggleTask.bind(this)),Ut?this.setMarkdown(Ut):ta&&this.preview.setHTML(ta),ht.appendChild(this.preview.previewContent),this.eventEmitter.emit("load",this)}return f.prototype.toggleTask=function(c){var m=c.target,k=getComputedStyle(m,":before");!m.hasAttribute(MJ)&&m.hasAttribute(SJ)&&BK(k,c.offsetX,c.offsetY)&&(Gv(m,AJ),this.eventEmitter.emit("change",{source:"viewer",date:c}))},f.prototype.setMarkdown=function(c){var m=this.toastMark.getLineTexts(),k=m.length,D=PK(m),B=[k,D.length+1],_=this.toastMark.editMarkdown([1,1],B,c||"");this.eventEmitter.emit("updatePreview",_)},f.prototype.on=function(c,m){this.eventEmitter.listen(c,m)},f.prototype.off=function(c){this.eventEmitter.removeEventHandler(c)},f.prototype.addHook=function(c,m){this.eventEmitter.removeEventHandler(c),this.eventEmitter.listen(c,m)},f.prototype.destroy=function(){Fv()(this.preview.el,"mousedown",this.toggleTask.bind(this)),this.preview.destroy(),this.eventEmitter.emit("destroy")},f.prototype.isViewer=function(){return!0},f.prototype.isMarkdownMode=function(){return!1},f.prototype.isWysiwygMode=function(){return!1},f}(),OJ=DJ,NJ=OJ}(),C=C.default,C}()})})(ny);var v3e=ny.exports;const p3e=PJ(v3e);/**
 * TOAST UI Editor : React Wrapper
 * @version 3.2.3 | Fri Feb 17 2023
 * @author NHN Cloud FE Development Lab <dl_javascript@nhn.com>
 * @license MIT
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Kc=function(r,e){return Kc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},Kc(r,e)};function ay(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Kc(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Qi=function(){return Qi=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Qi.apply(this,arguments)},d3e=function(r){ay(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.rootEl=Bi.createRef(),t}return e.prototype.getRootElement=function(){return this.rootEl.current},e.prototype.getInstance=function(){return this.editorInst},e.prototype.getBindingEventNames=function(){var t=this;return Object.keys(this.props).filter(function(n){return/^on[A-Z][a-zA-Z]+/.test(n)}).filter(function(n){return t.props[n]})},e.prototype.bindEventHandlers=function(t){var n=this;this.getBindingEventNames().forEach(function(a){var i=a[2].toLowerCase()+a.slice(3);n.editorInst.off(i),n.editorInst.on(i,t[a])})},e.prototype.getInitEvents=function(){var t=this;return this.getBindingEventNames().reduce(function(n,a){var i=a[2].toLowerCase()+a.slice(3);return n[i]=t.props[a],n},{})},e.prototype.componentDidMount=function(){this.editorInst=new f3e(Qi(Qi({el:this.rootEl.current},this.props),{events:this.getInitEvents()}))},e.prototype.shouldComponentUpdate=function(t){var n=this.getInstance(),a=t.height,i=t.previewStyle;return a&&this.props.height!==a&&n.setHeight(a),i&&this.props.previewStyle!==i&&n.changePreviewStyle(i),this.bindEventHandlers(t),!1},e.prototype.render=function(){return Bi.createElement("div",{ref:this.rootEl})},e}(Bi.Component),h3e=function(r){ay(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.rootEl=Bi.createRef(),t}return e.prototype.getRootElement=function(){return this.rootEl.current},e.prototype.getInstance=function(){return this.viewerInst},e.prototype.getBindingEventNames=function(){var t=this;return Object.keys(this.props).filter(function(n){return/^on[A-Z][a-zA-Z]+/.test(n)}).filter(function(n){return t.props[n]})},e.prototype.bindEventHandlers=function(t){var n=this;this.getBindingEventNames().forEach(function(a){var i=a[2].toLowerCase()+a.slice(3);n.viewerInst.off(i),n.viewerInst.on(i,t[a])})},e.prototype.getInitEvents=function(){var t=this;return this.getBindingEventNames().reduce(function(n,a){var i=a[2].toLowerCase()+a.slice(3);return n[i]=t.props[a],n},{})},e.prototype.componentDidMount=function(){this.viewerInst=new p3e(Qi(Qi({el:this.rootEl.current},this.props),{events:this.getInitEvents()}))},e.prototype.shouldComponentUpdate=function(t){return this.bindEventHandlers(t),!1},e.prototype.render=function(){return Bi.createElement("div",{ref:this.rootEl})},e}(Bi.Component);const Dh=BJ("div")({name:"Wrapper",class:"wvak3hv",propsAsIs:!1}),b3e=r=>{const[e,t]=yn.useState(r.value.data.markdown),n=yn.useCallback(o=>{o.stopPropagation()},[]),a=yn.useCallback(()=>{r.onFinishedEditing({...r.value,data:{...r.value.data,markdown:e}})},[r,e]),i=yn.useCallback(()=>{r.onFinishedEditing(void 0)},[r]);return r.value.readonly?yn.createElement(Dh,{id:"gdg-markdown-readonly",onKeyDown:n,style:{height:"75vh",padding:"35px"}},yn.createElement(h3e,{initialValue:r.value.data.markdown,usageStatistics:!1})):yn.createElement(Dh,{id:"gdg-markdown-wysiwyg",onKeyDown:n},yn.createElement(d3e,{initialEditType:"wysiwyg",autofocus:!0,initialValue:r.value.data.markdown,hideModeSwitch:!0,onChange:t,height:"75vh",usageStatistics:!1,toolbarItems:[["heading","bold","italic","strike"],["hr","quote"],["ul","ol","task","indent","outdent"],["table","link"],["code","codeblock"]]}),yn.createElement("div",{className:"gdg-footer"},yn.createElement("button",{className:"gdg-close-button",onClick:i},"Close"),yn.createElement("button",{className:"gdg-save-button",onClick:a},"Save")))};export{b3e as default};
